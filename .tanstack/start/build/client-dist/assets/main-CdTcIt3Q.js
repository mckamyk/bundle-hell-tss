const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-VrU-7mrZ.js","assets/hmac-CAeI5hcs.js","assets/secp256k1-VBGElX6C.js","assets/embedded-wallet-HYf8I4p_.js","assets/if-defined-BVolksiR.js","assets/index-Dg1IbvuP.js","assets/index-dyqYgwwG.js","assets/ref-Dkd9dBo7.js","assets/index-Bhd2qSOn.js","assets/index-Dbrdb_Pj.js","assets/index-DUfoqJc_.js","assets/index-g9Yk8z2e.js","assets/index-CZeH0WOu.js","assets/index-CefF-8j2.js","assets/index-BfVU_VHh.js","assets/email-Dr7JpRIw.js","assets/index-BnsXrO7j.js","assets/socials-Bdsb_EKh.js","assets/index-g9gIzy7n.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-CWFPm_Ig.js","assets/index-BJuMNMVf.js","assets/index-DIZCAwYX.js","assets/index-L98kRAvk.js","assets/swaps-CyPYgU-o.js","assets/index-Cs9Ec8sX.js","assets/index-BcCgLrvf.js","assets/index-CTvpE0Sk.js","assets/send-DBv116Ji.js","assets/index-B956-9V4.js","assets/index-SCBrD4Br.js","assets/receive-Ki2lQIxZ.js","assets/index-88pRnlDi.js","assets/onramp-COlL3WUP.js","assets/index-CvYicHhv.js","assets/index-C-RouN3A.js","assets/index-CX2DjfB8.js","assets/transactions-DjEi8bot.js","assets/index-C2pTTHSS.js","assets/index-gAEHevFG.js","assets/index-Cb3qs8ij.js","assets/index-4hFl5vWy.js","assets/index-CjafjVoz.js","assets/w3m-modal-BEaAux35.js"])))=>i.map(i=>d[i]);
var aT=t=>{throw TypeError(t)};var $b=(t,e,n)=>e.has(t)||aT("Cannot "+n);var ce=(t,e,n)=>($b(t,e,"read from private field"),n?n.call(t):e.get(t)),pt=(t,e,n)=>e.has(t)?aT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ye=(t,e,n,r)=>($b(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qn=(t,e,n)=>($b(t,e,"access private method"),n);var Zg=(t,e,n,r)=>({set _(s){Ye(t,e,s,n)},get _(){return ce(t,e,r)}});var Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function OU(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var kb={exports:{}},yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function PU(){if(oT)return yf;oT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:o,ref:s!==void 0?s:null,props:i}}return yf.Fragment=e,yf.jsx=n,yf.jsxs=n,yf}var cT;function DU(){return cT||(cT=1,kb.exports=PU()),kb.exports}var he=DU(),Mb={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function UU(){if(lT)return Xe;lT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function m(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function _(D,q,X){this.props=D,this.context=q,this.refs=E,this.updater=X||b}_.prototype.isReactComponent={},_.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},_.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=_.prototype;function I(D,q,X){this.props=D,this.context=q,this.refs=E,this.updater=X||b}var A=I.prototype=new C;A.constructor=I,w(A,_.prototype),A.isPureReactComponent=!0;var O=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function P(D,q,X,te,ee,ie){return X=ie.ref,{$$typeof:t,type:D,key:q,ref:X!==void 0?X:null,props:ie}}function U(D,q){return P(D.type,q,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function B(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(X){return q[X]})}var L=/\/+/g;function z(D,q){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):q.toString(36)}function K(){}function G(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(K,K):(D.status="pending",D.then(function(q){D.status==="pending"&&(D.status="fulfilled",D.value=q)},function(q){D.status==="pending"&&(D.status="rejected",D.reason=q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function k(D,q,X,te,ee){var ie=typeof D;(ie==="undefined"||ie==="boolean")&&(D=null);var se=!1;if(D===null)se=!0;else switch(ie){case"bigint":case"string":case"number":se=!0;break;case"object":switch(D.$$typeof){case t:case e:se=!0;break;case p:return se=D._init,k(se(D._payload),q,X,te,ee)}}if(se)return ee=ee(D),se=te===""?"."+z(D,0):te,O(ee)?(X="",se!=null&&(X=se.replace(L,"$&/")+"/"),k(ee,q,X,"",function(_e){return _e})):ee!=null&&(S(ee)&&(ee=U(ee,X+(ee.key==null||D&&D.key===ee.key?"":(""+ee.key).replace(L,"$&/")+"/")+se)),q.push(ee)),1;se=0;var Ae=te===""?".":te+":";if(O(D))for(var ge=0;ge<D.length;ge++)te=D[ge],ie=Ae+z(te,ge),se+=k(te,q,X,ie,ee);else if(ge=m(D),typeof ge=="function")for(D=ge.call(D),ge=0;!(te=D.next()).done;)te=te.value,ie=Ae+z(te,ge++),se+=k(te,q,X,ie,ee);else if(ie==="object"){if(typeof D.then=="function")return k(G(D),q,X,te,ee);throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return se}function R(D,q,X){if(D==null)return D;var te=[],ee=0;return k(D,te,"","",function(ie){return q.call(X,ie,ee++)}),te}function F(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(X){(D._status===0||D._status===-1)&&(D._status=1,D._result=X)},function(X){(D._status===0||D._status===-1)&&(D._status=2,D._result=X)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var V=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function W(){}return Xe.Children={map:R,forEach:function(D,q,X){R(D,function(){q.apply(this,arguments)},X)},count:function(D){var q=0;return R(D,function(){q++}),q},toArray:function(D){return R(D,function(q){return q})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Xe.Component=_,Xe.Fragment=n,Xe.Profiler=s,Xe.PureComponent=I,Xe.StrictMode=r,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},Xe.cache=function(D){return function(){return D.apply(null,arguments)}},Xe.cloneElement=function(D,q,X){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=w({},D.props),ee=D.key,ie=void 0;if(q!=null)for(se in q.ref!==void 0&&(ie=void 0),q.key!==void 0&&(ee=""+q.key),q)!T.call(q,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&q.ref===void 0||(te[se]=q[se]);var se=arguments.length-2;if(se===1)te.children=X;else if(1<se){for(var Ae=Array(se),ge=0;ge<se;ge++)Ae[ge]=arguments[ge+2];te.children=Ae}return P(D.type,ee,void 0,void 0,ie,te)},Xe.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:i,_context:D},D},Xe.createElement=function(D,q,X){var te,ee={},ie=null;if(q!=null)for(te in q.key!==void 0&&(ie=""+q.key),q)T.call(q,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ee[te]=q[te]);var se=arguments.length-2;if(se===1)ee.children=X;else if(1<se){for(var Ae=Array(se),ge=0;ge<se;ge++)Ae[ge]=arguments[ge+2];ee.children=Ae}if(D&&D.defaultProps)for(te in se=D.defaultProps,se)ee[te]===void 0&&(ee[te]=se[te]);return P(D,ie,void 0,void 0,null,ee)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(D){return{$$typeof:l,render:D}},Xe.isValidElement=S,Xe.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:F}},Xe.memo=function(D,q){return{$$typeof:f,type:D,compare:q===void 0?null:q}},Xe.startTransition=function(D){var q=x.T,X={};x.T=X;try{var te=D(),ee=x.S;ee!==null&&ee(X,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(W,V)}catch(ie){V(ie)}finally{x.T=q}},Xe.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Xe.use=function(D){return x.H.use(D)},Xe.useActionState=function(D,q,X){return x.H.useActionState(D,q,X)},Xe.useCallback=function(D,q){return x.H.useCallback(D,q)},Xe.useContext=function(D){return x.H.useContext(D)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(D,q){return x.H.useDeferredValue(D,q)},Xe.useEffect=function(D,q,X){var te=x.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,q)},Xe.useId=function(){return x.H.useId()},Xe.useImperativeHandle=function(D,q,X){return x.H.useImperativeHandle(D,q,X)},Xe.useInsertionEffect=function(D,q){return x.H.useInsertionEffect(D,q)},Xe.useLayoutEffect=function(D,q){return x.H.useLayoutEffect(D,q)},Xe.useMemo=function(D,q){return x.H.useMemo(D,q)},Xe.useOptimistic=function(D,q){return x.H.useOptimistic(D,q)},Xe.useReducer=function(D,q,X){return x.H.useReducer(D,q,X)},Xe.useRef=function(D){return x.H.useRef(D)},Xe.useState=function(D){return x.H.useState(D)},Xe.useSyncExternalStore=function(D,q,X){return x.H.useSyncExternalStore(D,q,X)},Xe.useTransition=function(){return x.H.useTransition()},Xe.version="19.1.0",Xe}var uT;function mp(){return uT||(uT=1,Mb.exports=UU()),Mb.exports}var Ue=mp();const yh=gp(Ue);var Bb={exports:{}},wf={},Lb={exports:{}},jb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function $U(){return dT||(dT=1,function(t){function e(R,F){var V=R.length;R.push(F);e:for(;0<V;){var W=V-1>>>1,D=R[W];if(0<s(D,F))R[W]=F,R[V]=D,V=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],V=R.pop();if(V!==F){R[0]=V;e:for(var W=0,D=R.length,q=D>>>1;W<q;){var X=2*(W+1)-1,te=R[X],ee=X+1,ie=R[ee];if(0>s(te,V))ee<D&&0>s(ie,te)?(R[W]=ie,R[ee]=V,W=ee):(R[W]=te,R[X]=V,W=X);else if(ee<D&&0>s(ie,V))R[W]=ie,R[ee]=V,W=ee;else break e}}return F}function s(R,F){var V=R.sortIndex-F.sortIndex;return V!==0?V:R.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],f=[],p=1,g=null,m=3,b=!1,w=!1,E=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(R){for(var F=n(f);F!==null;){if(F.callback===null)r(f);else if(F.startTime<=R)r(f),F.sortIndex=F.expirationTime,e(d,F);else break;F=n(f)}}function x(R){if(E=!1,O(R),!w)if(n(d)!==null)w=!0,T||(T=!0,z());else{var F=n(f);F!==null&&k(x,F.startTime-R)}}var T=!1,P=-1,U=5,S=-1;function B(){return _?!0:!(t.unstable_now()-S<U)}function L(){if(_=!1,T){var R=t.unstable_now();S=R;var F=!0;try{e:{w=!1,E&&(E=!1,I(P),P=-1),b=!0;var V=m;try{t:{for(O(R),g=n(d);g!==null&&!(g.expirationTime>R&&B());){var W=g.callback;if(typeof W=="function"){g.callback=null,m=g.priorityLevel;var D=W(g.expirationTime<=R);if(R=t.unstable_now(),typeof D=="function"){g.callback=D,O(R),F=!0;break t}g===n(d)&&r(d),O(R)}else r(d);g=n(d)}if(g!==null)F=!0;else{var q=n(f);q!==null&&k(x,q.startTime-R),F=!1}}break e}finally{g=null,m=V,b=!1}F=void 0}}finally{F?z():T=!1}}}var z;if(typeof A=="function")z=function(){A(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=L,z=function(){G.postMessage(null)}}else z=function(){C(L,0)};function k(R,F){P=C(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var V=m;m=F;try{return R()}finally{m=V}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=m;m=R;try{return F()}finally{m=V}},t.unstable_scheduleCallback=function(R,F,V){var W=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,R){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=V+D,R={id:p++,callback:F,priorityLevel:R,startTime:V,expirationTime:D,sortIndex:-1},V>W?(R.sortIndex=V,e(f,R),n(d)===null&&R===n(f)&&(E?(I(P),P=-1):E=!0,k(x,V-W))):(R.sortIndex=D,e(d,R),w||b||(w=!0,T||(T=!0,z()))),R},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(R){var F=m;return function(){var V=m;m=F;try{return R.apply(this,arguments)}finally{m=V}}}}(jb)),jb}var fT;function kU(){return fT||(fT=1,Lb.exports=$U()),Lb.exports}var Fb={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function MU(){if(hT)return Xn;hT=1;var t=mp();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(d,f,null,p)},Xn.flushSync=function(d){var f=o.T,p=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=f,r.p=p,r.d.f()}},Xn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Xn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Xn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:m,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Xn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=l(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Xn.requestFormReset=function(d){r.d.r(d)},Xn.unstable_batchedUpdates=function(d,f){return d(f)},Xn.useFormState=function(d,f,p){return o.H.useFormState(d,f,p)},Xn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Xn.version="19.1.0",Xn}var pT;function aO(){if(pT)return Fb.exports;pT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fb.exports=MU(),Fb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function BU(){if(gT)return wf;gT=1;var t=kU(),e=mp(),n=aO();function r(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var c=a,u=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(u=c.return),a=c.return;while(a)}return c.tag===3?u:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(i(a)!==a)throw Error(r(188))}function d(a){var c=a.alternate;if(!c){if(c=i(a),c===null)throw Error(r(188));return c!==a?null:a}for(var u=a,h=c;;){var y=u.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===u)return l(y),a;if(v===h)return l(y),c;v=v.sibling}throw Error(r(188))}if(u.return!==h.return)u=y,h=v;else{for(var N=!1,$=y.child;$;){if($===u){N=!0,u=y,h=v;break}if($===h){N=!0,h=y,u=v;break}$=$.sibling}if(!N){for($=v.child;$;){if($===u){N=!0,u=v,h=y;break}if($===h){N=!0,h=v,u=y;break}$=$.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:c}function f(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=f(a),c!==null)return c;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var K=Symbol.for("react.client.reference");function G(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===K?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case _:return"Profiler";case E:return"StrictMode";case x:return"Suspense";case T:return"SuspenseList";case S:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case A:return(a.displayName||"Context")+".Provider";case I:return(a._context.displayName||"Context")+".Consumer";case O:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return c=a.displayName||null,c!==null?c:G(a.type)||"Memo";case U:c=a._payload,a=a._init;try{return G(a(c))}catch{}}return null}var k=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},W=[],D=-1;function q(a){return{current:a}}function X(a){0>D||(a.current=W[D],W[D]=null,D--)}function te(a,c){D++,W[D]=a.current,a.current=c}var ee=q(null),ie=q(null),se=q(null),Ae=q(null);function ge(a,c){switch(te(se,c),te(ie,a),te(ee,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?U2(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=U2(c),a=$2(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(ee),te(ee,a)}function _e(){X(ee),X(ie),X(se)}function qe(a){a.memoizedState!==null&&te(Ae,a);var c=ee.current,u=$2(c,a.type);c!==u&&(te(ie,a),te(ee,u))}function Je(a){ie.current===a&&(X(ee),X(ie)),Ae.current===a&&(X(Ae),ff._currentValue=V)}var vt=Object.prototype.hasOwnProperty,gn=t.unstable_scheduleCallback,Sn=t.unstable_cancelCallback,as=t.unstable_shouldYield,gr=t.unstable_requestPaint,ln=t.unstable_now,Oa=t.unstable_getCurrentPriorityLevel,Pa=t.unstable_ImmediatePriority,Da=t.unstable_UserBlockingPriority,lt=t.unstable_NormalPriority,Zt=t.unstable_LowPriority,Fi=t.unstable_IdlePriority,Zo=t.log,ml=t.unstable_setDisableYieldValue,oi=null,ar=null;function ci(a){if(typeof Zo=="function"&&ml(a),ar&&typeof ar.setStrictMode=="function")try{ar.setStrictMode(oi,a)}catch{}}var or=Math.clz32?Math.clz32:y8,C0=Math.log,m8=Math.LN2;function y8(a){return a>>>=0,a===0?32:31-(C0(a)/m8|0)|0}var Mp=256,Bp=4194304;function Qo(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Lp(a,c,u){var h=a.pendingLanes;if(h===0)return 0;var y=0,v=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var $=h&134217727;return $!==0?(h=$&~v,h!==0?y=Qo(h):(N&=$,N!==0?y=Qo(N):u||(u=$&~a,u!==0&&(y=Qo(u))))):($=h&~v,$!==0?y=Qo($):N!==0?y=Qo(N):u||(u=h&~a,u!==0&&(y=Qo(u)))),y===0?0:c!==0&&c!==y&&(c&v)===0&&(v=y&-y,u=c&-c,v>=u||v===32&&(u&4194048)!==0)?c:y}function vd(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function w8(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yC(){var a=Mp;return Mp<<=1,(Mp&4194048)===0&&(Mp=256),a}function wC(){var a=Bp;return Bp<<=1,(Bp&62914560)===0&&(Bp=4194304),a}function S0(a){for(var c=[],u=0;31>u;u++)c.push(a);return c}function Ed(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function b8(a,c,u,h,y,v){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var $=a.entanglements,H=a.expirationTimes,J=a.hiddenUpdates;for(u=N&~u;0<u;){var ae=31-or(u),le=1<<ae;$[ae]=0,H[ae]=-1;var ne=J[ae];if(ne!==null)for(J[ae]=null,ae=0;ae<ne.length;ae++){var re=ne[ae];re!==null&&(re.lane&=-536870913)}u&=~le}h!==0&&bC(a,h,0),v!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=v&~(N&~c))}function bC(a,c,u){a.pendingLanes|=c,a.suspendedLanes&=~c;var h=31-or(c);a.entangledLanes|=c,a.entanglements[h]=a.entanglements[h]|1073741824|u&4194090}function vC(a,c){var u=a.entangledLanes|=c;for(a=a.entanglements;u;){var h=31-or(u),y=1<<h;y&c|a[h]&c&&(a[h]|=c),u&=~y}}function A0(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function T0(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function EC(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:eT(a.type))}function v8(a,c){var u=F.p;try{return F.p=a,c()}finally{F.p=u}}var Ua=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Ua,mr="__reactProps$"+Ua,yl="__reactContainer$"+Ua,x0="__reactEvents$"+Ua,E8="__reactListeners$"+Ua,_8="__reactHandles$"+Ua,_C="__reactResources$"+Ua,_d="__reactMarker$"+Ua;function N0(a){delete a[Yn],delete a[mr],delete a[x0],delete a[E8],delete a[_8]}function wl(a){var c=a[Yn];if(c)return c;for(var u=a.parentNode;u;){if(c=u[yl]||u[Yn]){if(u=c.alternate,c.child!==null||u!==null&&u.child!==null)for(a=L2(a);a!==null;){if(u=a[Yn])return u;a=L2(a)}return c}a=u,u=a.parentNode}return null}function bl(a){if(a=a[Yn]||a[yl]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function Cd(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(r(33))}function vl(a){var c=a[_C];return c||(c=a[_C]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function An(a){a[_d]=!0}var CC=new Set,SC={};function Xo(a,c){El(a,c),El(a+"Capture",c)}function El(a,c){for(SC[a]=c,a=0;a<c.length;a++)CC.add(c[a])}var C8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),AC={},TC={};function S8(a){return vt.call(TC,a)?!0:vt.call(AC,a)?!1:C8.test(a)?TC[a]=!0:(AC[a]=!0,!1)}function jp(a,c,u){if(S8(c))if(u===null)a.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var h=c.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+u)}}function Fp(a,c,u){if(u===null)a.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+u)}}function zi(a,c,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(c,u,""+h)}}var I0,xC;function _l(a){if(I0===void 0)try{throw Error()}catch(u){var c=u.stack.trim().match(/\n( *(at )?)/);I0=c&&c[1]||"",xC=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I0+a+xC}var R0=!1;function O0(a,c){if(!a||R0)return"";R0=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(c){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(re){var ne=re}Reflect.construct(a,[],le)}else{try{le.call()}catch(re){ne=re}a.call(le.prototype)}}else{try{throw Error()}catch(re){ne=re}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),N=v[0],$=v[1];if(N&&$){var H=N.split(`
`),J=$.split(`
`);for(y=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(h===H.length||y===J.length)for(h=H.length-1,y=J.length-1;1<=h&&0<=y&&H[h]!==J[y];)y--;for(;1<=h&&0<=y;h--,y--)if(H[h]!==J[y]){if(h!==1||y!==1)do if(h--,y--,0>y||H[h]!==J[y]){var ae=`
`+H[h].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=h&&0<=y);break}}}finally{R0=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?_l(u):""}function A8(a){switch(a.tag){case 26:case 27:case 5:return _l(a.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 15:return O0(a.type,!1);case 11:return O0(a.type.render,!1);case 1:return O0(a.type,!0);case 31:return _l("Activity");default:return""}}function NC(a){try{var c="";do c+=A8(a),a=a.return;while(a);return c}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function os(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function IC(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function T8(a){var c=IC(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),h=""+a[c];if(!a.hasOwnProperty(c)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,v=u.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return y.call(this)},set:function(N){h=""+N,v.call(this,N)}}),Object.defineProperty(a,c,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(N){h=""+N},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function zp(a){a._valueTracker||(a._valueTracker=T8(a))}function RC(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var u=c.getValue(),h="";return a&&(h=IC(a)?a.checked?"true":"false":a.value),a=h,a!==u?(c.setValue(a),!0):!1}function qp(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var x8=/[\n"\\]/g;function cs(a){return a.replace(x8,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function P0(a,c,u,h,y,v,N,$){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),c!=null?N==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+os(c)):a.value!==""+os(c)&&(a.value=""+os(c)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),c!=null?D0(a,N,os(c)):u!=null?D0(a,N,os(u)):h!=null&&a.removeAttribute("value"),y==null&&v!=null&&(a.defaultChecked=!!v),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.name=""+os($):a.removeAttribute("name")}function OC(a,c,u,h,y,v,N,$){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),c!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||c!=null))return;u=u!=null?""+os(u):"",c=c!=null?""+os(c):u,$||c===a.value||(a.value=c),a.defaultValue=c}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=$?a.checked:!!h,a.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N)}function D0(a,c,u){c==="number"&&qp(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Cl(a,c,u,h){if(a=a.options,c){c={};for(var y=0;y<u.length;y++)c["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=c.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&h&&(a[u].defaultSelected=!0)}else{for(u=""+os(u),c=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}c!==null||a[y].disabled||(c=a[y])}c!==null&&(c.selected=!0)}}function PC(a,c,u){if(c!=null&&(c=""+os(c),c!==a.value&&(a.value=c),u==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=u!=null?""+os(u):""}function DC(a,c,u,h){if(c==null){if(h!=null){if(u!=null)throw Error(r(92));if(k(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),c=u}u=os(c),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h)}function Sl(a,c){if(c){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=c;return}}a.textContent=c}var N8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function UC(a,c,u){var h=c.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":h?a.setProperty(c,u):typeof u!="number"||u===0||N8.has(c)?c==="float"?a.cssFloat=u:a[c]=(""+u).trim():a[c]=u+"px"}function $C(a,c,u){if(c!=null&&typeof c!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||c!=null&&c.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in c)h=c[y],c.hasOwnProperty(y)&&u[y]!==h&&UC(a,y,h)}else for(var v in c)c.hasOwnProperty(v)&&UC(a,v,c[v])}function U0(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hp(a){return R8.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var $0=null;function k0(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Al=null,Tl=null;function kC(a){var c=bl(a);if(c&&(a=c.stateNode)){var u=a[mr]||null;e:switch(a=c.stateNode,c.type){case"input":if(P0(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),c=u.name,u.type==="radio"&&c!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+cs(""+c)+'"][type="radio"]'),c=0;c<u.length;c++){var h=u[c];if(h!==a&&h.form===a.form){var y=h[mr]||null;if(!y)throw Error(r(90));P0(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<u.length;c++)h=u[c],h.form===a.form&&RC(h)}break e;case"textarea":PC(a,u.value,u.defaultValue);break e;case"select":c=u.value,c!=null&&Cl(a,!!u.multiple,c,!1)}}}var M0=!1;function MC(a,c,u){if(M0)return a(c,u);M0=!0;try{var h=a(c);return h}finally{if(M0=!1,(Al!==null||Tl!==null)&&(Ig(),Al&&(c=Al,a=Tl,Tl=Al=null,kC(c),a)))for(c=0;c<a.length;c++)kC(a[c])}}function Sd(a,c){var u=a.stateNode;if(u===null)return null;var h=u[mr]||null;if(h===null)return null;u=h[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,c,typeof u));return u}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B0=!1;if(qi)try{var Ad={};Object.defineProperty(Ad,"passive",{get:function(){B0=!0}}),window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{B0=!1}var $a=null,L0=null,Vp=null;function BC(){if(Vp)return Vp;var a,c=L0,u=c.length,h,y="value"in $a?$a.value:$a.textContent,v=y.length;for(a=0;a<u&&c[a]===y[a];a++);var N=u-a;for(h=1;h<=N&&c[u-h]===y[v-h];h++);return Vp=y.slice(a,1<h?1-h:void 0)}function Gp(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Wp(){return!0}function LC(){return!1}function yr(a){function c(u,h,y,v,N){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(u=a[$],this[$]=u?u(v):v[$]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Wp:LC,this.isPropagationStopped=LC,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Wp)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Wp)},persist:function(){},isPersistent:Wp}),c}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kp=yr(Jo),Td=p({},Jo,{view:0,detail:0}),O8=yr(Td),j0,F0,xd,Yp=p({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q0,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==xd&&(xd&&a.type==="mousemove"?(j0=a.screenX-xd.screenX,F0=a.screenY-xd.screenY):F0=j0=0,xd=a),j0)},movementY:function(a){return"movementY"in a?a.movementY:F0}}),jC=yr(Yp),P8=p({},Yp,{dataTransfer:0}),D8=yr(P8),U8=p({},Td,{relatedTarget:0}),z0=yr(U8),$8=p({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),k8=yr($8),M8=p({},Jo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),B8=yr(M8),L8=p({},Jo,{data:0}),FC=yr(L8),j8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q8(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=z8[a])?!!c[a]:!1}function q0(){return q8}var H8=p({},Td,{key:function(a){if(a.key){var c=j8[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Gp(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?F8[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q0,charCode:function(a){return a.type==="keypress"?Gp(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gp(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),V8=yr(H8),G8=p({},Yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zC=yr(G8),W8=p({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q0}),K8=yr(W8),Y8=p({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z8=yr(Y8),Q8=p({},Yp,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),X8=yr(Q8),J8=p({},Jo,{newState:0,oldState:0}),e6=yr(J8),t6=[9,13,27,32],H0=qi&&"CompositionEvent"in window,Nd=null;qi&&"documentMode"in document&&(Nd=document.documentMode);var n6=qi&&"TextEvent"in window&&!Nd,qC=qi&&(!H0||Nd&&8<Nd&&11>=Nd),HC=" ",VC=!1;function GC(a,c){switch(a){case"keyup":return t6.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WC(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xl=!1;function r6(a,c){switch(a){case"compositionend":return WC(c);case"keypress":return c.which!==32?null:(VC=!0,HC);case"textInput":return a=c.data,a===HC&&VC?null:a;default:return null}}function s6(a,c){if(xl)return a==="compositionend"||!H0&&GC(a,c)?(a=BC(),Vp=L0=$a=null,xl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return qC&&c.locale!=="ko"?null:c.data;default:return null}}var i6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KC(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!i6[a.type]:c==="textarea"}function YC(a,c,u,h){Al?Tl?Tl.push(h):Tl=[h]:Al=h,c=$g(c,"onChange"),0<c.length&&(u=new Kp("onChange","change",null,u,h),a.push({event:u,listeners:c}))}var Id=null,Rd=null;function a6(a){I2(a,0)}function Zp(a){var c=Cd(a);if(RC(c))return a}function ZC(a,c){if(a==="change")return c}var QC=!1;if(qi){var V0;if(qi){var G0="oninput"in document;if(!G0){var XC=document.createElement("div");XC.setAttribute("oninput","return;"),G0=typeof XC.oninput=="function"}V0=G0}else V0=!1;QC=V0&&(!document.documentMode||9<document.documentMode)}function JC(){Id&&(Id.detachEvent("onpropertychange",eS),Rd=Id=null)}function eS(a){if(a.propertyName==="value"&&Zp(Rd)){var c=[];YC(c,Rd,a,k0(a)),MC(a6,c)}}function o6(a,c,u){a==="focusin"?(JC(),Id=c,Rd=u,Id.attachEvent("onpropertychange",eS)):a==="focusout"&&JC()}function c6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Zp(Rd)}function l6(a,c){if(a==="click")return Zp(c)}function u6(a,c){if(a==="input"||a==="change")return Zp(c)}function d6(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Fr=typeof Object.is=="function"?Object.is:d6;function Od(a,c){if(Fr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var u=Object.keys(a),h=Object.keys(c);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!vt.call(c,y)||!Fr(a[y],c[y]))return!1}return!0}function tS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function nS(a,c){var u=tS(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=c&&h>=c)return{node:u,offset:c-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=tS(u)}}function rS(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?rS(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function sS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=qp(a.document);c instanceof a.HTMLIFrameElement;){try{var u=typeof c.contentWindow.location.href=="string"}catch{u=!1}if(u)a=c.contentWindow;else break;c=qp(a.document)}return c}function W0(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var f6=qi&&"documentMode"in document&&11>=document.documentMode,Nl=null,K0=null,Pd=null,Y0=!1;function iS(a,c,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Y0||Nl==null||Nl!==qp(h)||(h=Nl,"selectionStart"in h&&W0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Pd&&Od(Pd,h)||(Pd=h,h=$g(K0,"onSelect"),0<h.length&&(c=new Kp("onSelect","select",null,c,u),a.push({event:c,listeners:h}),c.target=Nl)))}function ec(a,c){var u={};return u[a.toLowerCase()]=c.toLowerCase(),u["Webkit"+a]="webkit"+c,u["Moz"+a]="moz"+c,u}var Il={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionrun:ec("Transition","TransitionRun"),transitionstart:ec("Transition","TransitionStart"),transitioncancel:ec("Transition","TransitionCancel"),transitionend:ec("Transition","TransitionEnd")},Z0={},aS={};qi&&(aS=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function tc(a){if(Z0[a])return Z0[a];if(!Il[a])return a;var c=Il[a],u;for(u in c)if(c.hasOwnProperty(u)&&u in aS)return Z0[a]=c[u];return a}var oS=tc("animationend"),cS=tc("animationiteration"),lS=tc("animationstart"),h6=tc("transitionrun"),p6=tc("transitionstart"),g6=tc("transitioncancel"),uS=tc("transitionend"),dS=new Map,Q0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Q0.push("scrollEnd");function Ms(a,c){dS.set(a,c),Xo(c,[a])}var fS=new WeakMap;function ls(a,c){if(typeof a=="object"&&a!==null){var u=fS.get(a);return u!==void 0?u:(c={value:a,source:c,stack:NC(c)},fS.set(a,c),c)}return{value:a,source:c,stack:NC(c)}}var us=[],Rl=0,X0=0;function Qp(){for(var a=Rl,c=X0=Rl=0;c<a;){var u=us[c];us[c++]=null;var h=us[c];us[c++]=null;var y=us[c];us[c++]=null;var v=us[c];if(us[c++]=null,h!==null&&y!==null){var N=h.pending;N===null?y.next=y:(y.next=N.next,N.next=y),h.pending=y}v!==0&&hS(u,y,v)}}function Xp(a,c,u,h){us[Rl++]=a,us[Rl++]=c,us[Rl++]=u,us[Rl++]=h,X0|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function J0(a,c,u,h){return Xp(a,c,u,h),Jp(a)}function Ol(a,c){return Xp(a,null,null,c),Jp(a)}function hS(a,c,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var y=!1,v=a.return;v!==null;)v.childLanes|=u,h=v.alternate,h!==null&&(h.childLanes|=u),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(y=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,y&&c!==null&&(y=31-or(u),a=v.hiddenUpdates,h=a[y],h===null?a[y]=[c]:h.push(c),c.lane=u|536870912),v):null}function Jp(a){if(50<rf)throw rf=0,ib=null,Error(r(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Pl={};function m6(a,c,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(a,c,u,h){return new m6(a,c,u,h)}function ew(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Hi(a,c){var u=a.alternate;return u===null?(u=zr(a.tag,c,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=c,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,c=a.dependencies,u.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function pS(a,c){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,c=u.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function eg(a,c,u,h,y,v){var N=0;if(h=a,typeof a=="function")ew(a)&&(N=1);else if(typeof a=="string")N=wU(a,u,ee.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case S:return a=zr(31,u,c,y),a.elementType=S,a.lanes=v,a;case w:return nc(u.children,y,v,c);case E:N=8,y|=24;break;case _:return a=zr(12,u,c,y|2),a.elementType=_,a.lanes=v,a;case x:return a=zr(13,u,c,y),a.elementType=x,a.lanes=v,a;case T:return a=zr(19,u,c,y),a.elementType=T,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case A:N=10;break e;case I:N=9;break e;case O:N=11;break e;case P:N=14;break e;case U:N=16,h=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return c=zr(N,u,c,y),c.elementType=a,c.type=h,c.lanes=v,c}function nc(a,c,u,h){return a=zr(7,a,h,c),a.lanes=u,a}function tw(a,c,u){return a=zr(6,a,null,c),a.lanes=u,a}function nw(a,c,u){return c=zr(4,a.children!==null?a.children:[],a.key,c),c.lanes=u,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var Dl=[],Ul=0,tg=null,ng=0,ds=[],fs=0,rc=null,Vi=1,Gi="";function sc(a,c){Dl[Ul++]=ng,Dl[Ul++]=tg,tg=a,ng=c}function gS(a,c,u){ds[fs++]=Vi,ds[fs++]=Gi,ds[fs++]=rc,rc=a;var h=Vi;a=Gi;var y=32-or(h)-1;h&=~(1<<y),u+=1;var v=32-or(c)+y;if(30<v){var N=y-y%5;v=(h&(1<<N)-1).toString(32),h>>=N,y-=N,Vi=1<<32-or(c)+y|u<<y|h,Gi=v+a}else Vi=1<<v|u<<y|h,Gi=a}function rw(a){a.return!==null&&(sc(a,1),gS(a,1,0))}function sw(a){for(;a===tg;)tg=Dl[--Ul],Dl[Ul]=null,ng=Dl[--Ul],Dl[Ul]=null;for(;a===rc;)rc=ds[--fs],ds[fs]=null,Gi=ds[--fs],ds[fs]=null,Vi=ds[--fs],ds[fs]=null}var cr=null,en=null,Et=!1,ic=null,li=!1,iw=Error(r(519));function ac(a){var c=Error(r(418,""));throw $d(ls(c,a)),iw}function mS(a){var c=a.stateNode,u=a.type,h=a.memoizedProps;switch(c[Yn]=a,c[mr]=h,u){case"dialog":at("cancel",c),at("close",c);break;case"iframe":case"object":case"embed":at("load",c);break;case"video":case"audio":for(u=0;u<af.length;u++)at(af[u],c);break;case"source":at("error",c);break;case"img":case"image":case"link":at("error",c),at("load",c);break;case"details":at("toggle",c);break;case"input":at("invalid",c),OC(c,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),zp(c);break;case"select":at("invalid",c);break;case"textarea":at("invalid",c),DC(c,h.value,h.defaultValue,h.children),zp(c)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||c.textContent===""+u||h.suppressHydrationWarning===!0||D2(c.textContent,u)?(h.popover!=null&&(at("beforetoggle",c),at("toggle",c)),h.onScroll!=null&&at("scroll",c),h.onScrollEnd!=null&&at("scrollend",c),h.onClick!=null&&(c.onclick=kg),c=!0):c=!1,c||ac(a)}function yS(a){for(cr=a.return;cr;)switch(cr.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:cr=cr.return}}function Dd(a){if(a!==cr)return!1;if(!Et)return yS(a),Et=!0,!1;var c=a.tag,u;if((u=c!==3&&c!==27)&&((u=c===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Eb(a.type,a.memoizedProps)),u=!u),u&&en&&ac(a),yS(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(c===0){en=Ls(a.nextSibling);break e}c--}else u!=="$"&&u!=="$!"&&u!=="$?"||c++;a=a.nextSibling}en=null}}else c===27?(c=en,Qa(a.type)?(a=Ab,Ab=null,en=a):en=c):en=cr?Ls(a.stateNode.nextSibling):null;return!0}function Ud(){en=cr=null,Et=!1}function wS(){var a=ic;return a!==null&&(vr===null?vr=a:vr.push.apply(vr,a),ic=null),a}function $d(a){ic===null?ic=[a]:ic.push(a)}var aw=q(null),oc=null,Wi=null;function ka(a,c,u){te(aw,c._currentValue),c._currentValue=u}function Ki(a){a._currentValue=aw.current,X(aw)}function ow(a,c,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,h!==null&&(h.childLanes|=c)):h!==null&&(h.childLanes&c)!==c&&(h.childLanes|=c),a===u)break;a=a.return}}function cw(a,c,u,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var v=y.dependencies;if(v!==null){var N=y.child;v=v.firstContext;e:for(;v!==null;){var $=v;v=y;for(var H=0;H<c.length;H++)if($.context===c[H]){v.lanes|=u,$=v.alternate,$!==null&&($.lanes|=u),ow(v.return,u,a),h||(N=null);break e}v=$.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=u,v=N.alternate,v!==null&&(v.lanes|=u),ow(N,u,a),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===a){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function kd(a,c,u,h){a=null;for(var y=c,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var $=y.type;Fr(y.pendingProps.value,N.value)||(a!==null?a.push($):a=[$])}}else if(y===Ae.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(ff):a=[ff])}y=y.return}a!==null&&cw(c,a,u,h),c.flags|=262144}function rg(a){for(a=a.firstContext;a!==null;){if(!Fr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function cc(a){oc=a,Wi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Zn(a){return bS(oc,a)}function sg(a,c){return oc===null&&cc(a),bS(a,c)}function bS(a,c){var u=c._currentValue;if(c={context:c,memoizedValue:u,next:null},Wi===null){if(a===null)throw Error(r(308));Wi=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Wi=Wi.next=c;return u}var y6=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){c.aborted=!0,a.forEach(function(u){return u()})}},w6=t.unstable_scheduleCallback,b6=t.unstable_NormalPriority,mn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lw(){return{controller:new y6,data:new Map,refCount:0}}function Md(a){a.refCount--,a.refCount===0&&w6(b6,function(){a.controller.abort()})}var Bd=null,uw=0,$l=0,kl=null;function v6(a,c){if(Bd===null){var u=Bd=[];uw=0,$l=fb(),kl={status:"pending",value:void 0,then:function(h){u.push(h)}}}return uw++,c.then(vS,vS),c}function vS(){if(--uw===0&&Bd!==null){kl!==null&&(kl.status="fulfilled");var a=Bd;Bd=null,$l=0,kl=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function E6(a,c){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){h.status="fulfilled",h.value=c;for(var y=0;y<u.length;y++)(0,u[y])(c)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var ES=R.S;R.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&v6(a,c),ES!==null&&ES(a,c)};var lc=q(null);function dw(){var a=lc.current;return a!==null?a:Lt.pooledCache}function ig(a,c){c===null?te(lc,lc.current):te(lc,c.pool)}function _S(){var a=dw();return a===null?null:{parent:mn._currentValue,pool:a}}var Ld=Error(r(460)),CS=Error(r(474)),ag=Error(r(542)),fw={then:function(){}};function SS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function og(){}function AS(a,c,u){switch(u=a[u],u===void 0?a.push(c):u!==c&&(c.then(og,og),c=u),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,xS(a),a;default:if(typeof c.status=="string")c.then(og,og);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=c,a.status="pending",a.then(function(h){if(c.status==="pending"){var y=c;y.status="fulfilled",y.value=h}},function(h){if(c.status==="pending"){var y=c;y.status="rejected",y.reason=h}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,xS(a),a}throw jd=c,Ld}}var jd=null;function TS(){if(jd===null)throw Error(r(459));var a=jd;return jd=null,a}function xS(a){if(a===Ld||a===ag)throw Error(r(483))}var Ma=!1;function hw(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pw(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ba(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function La(a,c,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(At&2)!==0){var y=h.pending;return y===null?c.next=c:(c.next=y.next,y.next=c),h.pending=c,c=Jp(a),hS(a,null,u),c}return Xp(a,h,c,u),Jp(a)}function Fd(a,c,u){if(c=c.updateQueue,c!==null&&(c=c.shared,(u&4194048)!==0)){var h=c.lanes;h&=a.pendingLanes,u|=h,c.lanes=u,vC(a,u)}}function gw(a,c){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?y=v=N:v=v.next=N,u=u.next}while(u!==null);v===null?y=v=c:v=v.next=c}else y=v=c;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=c}var mw=!1;function zd(){if(mw){var a=kl;if(a!==null)throw a}}function qd(a,c,u,h){mw=!1;var y=a.updateQueue;Ma=!1;var v=y.firstBaseUpdate,N=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var H=$,J=H.next;H.next=null,N===null?v=J:N.next=J,N=H;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,$=ae.lastBaseUpdate,$!==N&&($===null?ae.firstBaseUpdate=J:$.next=J,ae.lastBaseUpdate=H))}if(v!==null){var le=y.baseState;N=0,ae=J=H=null,$=v;do{var ne=$.lane&-536870913,re=ne!==$.lane;if(re?(ut&ne)===ne:(h&ne)===ne){ne!==0&&ne===$l&&(mw=!0),ae!==null&&(ae=ae.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Ge=a,je=$;ne=c;var Dt=u;switch(je.tag){case 1:if(Ge=je.payload,typeof Ge=="function"){le=Ge.call(Dt,le,ne);break e}le=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=je.payload,ne=typeof Ge=="function"?Ge.call(Dt,le,ne):Ge,ne==null)break e;le=p({},le,ne);break e;case 2:Ma=!0}}ne=$.callback,ne!==null&&(a.flags|=64,re&&(a.flags|=8192),re=y.callbacks,re===null?y.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ae===null?(J=ae=re,H=le):ae=ae.next=re,N|=ne;if($=$.next,$===null){if($=y.shared.pending,$===null)break;re=$,$=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);ae===null&&(H=le),y.baseState=H,y.firstBaseUpdate=J,y.lastBaseUpdate=ae,v===null&&(y.shared.lanes=0),Wa|=N,a.lanes=N,a.memoizedState=le}}function NS(a,c){if(typeof a!="function")throw Error(r(191,a));a.call(c)}function IS(a,c){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)NS(u[a],c)}var Ml=q(null),cg=q(0);function RS(a,c){a=ta,te(cg,a),te(Ml,c),ta=a|c.baseLanes}function yw(){te(cg,ta),te(Ml,Ml.current)}function ww(){ta=cg.current,X(Ml),X(cg)}var ja=0,nt=null,Ot=null,un=null,lg=!1,Bl=!1,uc=!1,ug=0,Hd=0,Ll=null,_6=0;function sn(){throw Error(r(321))}function bw(a,c){if(c===null)return!1;for(var u=0;u<c.length&&u<a.length;u++)if(!Fr(a[u],c[u]))return!1;return!0}function vw(a,c,u,h,y,v){return ja=v,nt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,R.H=a===null||a.memoizedState===null?hA:pA,uc=!1,v=u(h,y),uc=!1,Bl&&(v=PS(c,u,h,y)),OS(a),v}function OS(a){R.H=mg;var c=Ot!==null&&Ot.next!==null;if(ja=0,un=Ot=nt=null,lg=!1,Hd=0,Ll=null,c)throw Error(r(300));a===null||Tn||(a=a.dependencies,a!==null&&rg(a)&&(Tn=!0))}function PS(a,c,u,h){nt=a;var y=0;do{if(Bl&&(Ll=null),Hd=0,Bl=!1,25<=y)throw Error(r(301));if(y+=1,un=Ot=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}R.H=I6,v=c(u,h)}while(Bl);return v}function C6(){var a=R.H,c=a.useState()[0];return c=typeof c.then=="function"?Vd(c):c,a=a.useState()[0],(Ot!==null?Ot.memoizedState:null)!==a&&(nt.flags|=1024),c}function Ew(){var a=ug!==0;return ug=0,a}function _w(a,c,u){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~u}function Cw(a){if(lg){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}lg=!1}ja=0,un=Ot=nt=null,Bl=!1,Hd=ug=0,Ll=null}function wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?nt.memoizedState=un=a:un=un.next=a,un}function dn(){if(Ot===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=Ot.next;var c=un===null?nt.memoizedState:un.next;if(c!==null)un=c,Ot=a;else{if(a===null)throw nt.alternate===null?Error(r(467)):Error(r(310));Ot=a,a={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},un===null?nt.memoizedState=un=a:un=un.next=a}return un}function Sw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vd(a){var c=Hd;return Hd+=1,Ll===null&&(Ll=[]),a=AS(Ll,a,c),c=nt,(un===null?c.memoizedState:un.next)===null&&(c=c.alternate,R.H=c===null||c.memoizedState===null?hA:pA),a}function dg(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Vd(a);if(a.$$typeof===A)return Zn(a)}throw Error(r(438,String(a)))}function Aw(a){var c=null,u=nt.updateQueue;if(u!==null&&(c=u.memoCache),c==null){var h=nt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(c={data:h.data.map(function(y){return y.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),u===null&&(u=Sw(),nt.updateQueue=u),u.memoCache=c,u=c.data[c.index],u===void 0)for(u=c.data[c.index]=Array(a),h=0;h<a;h++)u[h]=B;return c.index++,u}function Yi(a,c){return typeof c=="function"?c(a):c}function fg(a){var c=dn();return Tw(c,Ot,a)}function Tw(a,c,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var y=a.baseQueue,v=h.pending;if(v!==null){if(y!==null){var N=y.next;y.next=v.next,v.next=N}c.baseQueue=y=v,h.pending=null}if(v=a.baseState,y===null)a.memoizedState=v;else{c=y.next;var $=N=null,H=null,J=c,ae=!1;do{var le=J.lane&-536870913;if(le!==J.lane?(ut&le)===le:(ja&le)===le){var ne=J.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),le===$l&&(ae=!0);else if((ja&ne)===ne){J=J.next,ne===$l&&(ae=!0);continue}else le={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?($=H=le,N=v):H=H.next=le,nt.lanes|=ne,Wa|=ne;le=J.action,uc&&u(v,le),v=J.hasEagerState?J.eagerState:u(v,le)}else ne={lane:le,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?($=H=ne,N=v):H=H.next=ne,nt.lanes|=le,Wa|=le;J=J.next}while(J!==null&&J!==c);if(H===null?N=v:H.next=$,!Fr(v,a.memoizedState)&&(Tn=!0,ae&&(u=kl,u!==null)))throw u;a.memoizedState=v,a.baseState=N,a.baseQueue=H,h.lastRenderedState=v}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function xw(a){var c=dn(),u=c.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,y=u.pending,v=c.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do v=a(v,N.action),N=N.next;while(N!==y);Fr(v,c.memoizedState)||(Tn=!0),c.memoizedState=v,c.baseQueue===null&&(c.baseState=v),u.lastRenderedState=v}return[v,h]}function DS(a,c,u){var h=nt,y=dn(),v=Et;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=c();var N=!Fr((Ot||y).memoizedState,u);N&&(y.memoizedState=u,Tn=!0),y=y.queue;var $=kS.bind(null,h,y,a);if(Gd(2048,8,$,[a]),y.getSnapshot!==c||N||un!==null&&un.memoizedState.tag&1){if(h.flags|=2048,jl(9,hg(),$S.bind(null,h,y,u,c),null),Lt===null)throw Error(r(349));v||(ja&124)!==0||US(h,c,u)}return u}function US(a,c,u){a.flags|=16384,a={getSnapshot:c,value:u},c=nt.updateQueue,c===null?(c=Sw(),nt.updateQueue=c,c.stores=[a]):(u=c.stores,u===null?c.stores=[a]:u.push(a))}function $S(a,c,u,h){c.value=u,c.getSnapshot=h,MS(c)&&BS(a)}function kS(a,c,u){return u(function(){MS(c)&&BS(a)})}function MS(a){var c=a.getSnapshot;a=a.value;try{var u=c();return!Fr(a,u)}catch{return!0}}function BS(a){var c=Ol(a,2);c!==null&&Wr(c,a,2)}function Nw(a){var c=wr();if(typeof a=="function"){var u=a;if(a=u(),uc){ci(!0);try{u()}finally{ci(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},c}function LS(a,c,u,h){return a.baseState=u,Tw(a,Ot,typeof h=="function"?h:Yi)}function S6(a,c,u,h,y){if(gg(a))throw Error(r(485));if(a=c.action,a!==null){var v={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};R.T!==null?u(!0):v.isTransition=!1,h(v),u=c.pending,u===null?(v.next=c.pending=v,jS(c,v)):(v.next=u.next,c.pending=u.next=v)}}function jS(a,c){var u=c.action,h=c.payload,y=a.state;if(c.isTransition){var v=R.T,N={};R.T=N;try{var $=u(y,h),H=R.S;H!==null&&H(N,$),FS(a,c,$)}catch(J){Iw(a,c,J)}finally{R.T=v}}else try{v=u(y,h),FS(a,c,v)}catch(J){Iw(a,c,J)}}function FS(a,c,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){zS(a,c,h)},function(h){return Iw(a,c,h)}):zS(a,c,u)}function zS(a,c,u){c.status="fulfilled",c.value=u,qS(c),a.state=u,c=a.pending,c!==null&&(u=c.next,u===c?a.pending=null:(u=u.next,c.next=u,jS(a,u)))}function Iw(a,c,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do c.status="rejected",c.reason=u,qS(c),c=c.next;while(c!==h)}a.action=null}function qS(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function HS(a,c){return c}function VS(a,c){if(Et){var u=Lt.formState;if(u!==null){e:{var h=nt;if(Et){if(en){t:{for(var y=en,v=li;y.nodeType!==8;){if(!v){y=null;break t}if(y=Ls(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){en=Ls(y.nextSibling),h=y.data==="F!";break e}}ac(h)}h=!1}h&&(c=u[0])}}return u=wr(),u.memoizedState=u.baseState=c,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HS,lastRenderedState:c},u.queue=h,u=uA.bind(null,nt,h),h.dispatch=u,h=Nw(!1),v=Uw.bind(null,nt,!1,h.queue),h=wr(),y={state:c,dispatch:null,action:a,pending:null},h.queue=y,u=S6.bind(null,nt,y,v,u),y.dispatch=u,h.memoizedState=a,[c,u,!1]}function GS(a){var c=dn();return WS(c,Ot,a)}function WS(a,c,u){if(c=Tw(a,c,HS)[0],a=fg(Yi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var h=Vd(c)}catch(N){throw N===Ld?ag:N}else h=c;c=dn();var y=c.queue,v=y.dispatch;return u!==c.memoizedState&&(nt.flags|=2048,jl(9,hg(),A6.bind(null,y,u),null)),[h,v,a]}function A6(a,c){a.action=c}function KS(a){var c=dn(),u=Ot;if(u!==null)return WS(c,u,a);dn(),c=c.memoizedState,u=dn();var h=u.queue.dispatch;return u.memoizedState=a,[c,h,!1]}function jl(a,c,u,h){return a={tag:a,create:u,deps:h,inst:c,next:null},c=nt.updateQueue,c===null&&(c=Sw(),nt.updateQueue=c),u=c.lastEffect,u===null?c.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,c.lastEffect=a),a}function hg(){return{destroy:void 0,resource:void 0}}function YS(){return dn().memoizedState}function pg(a,c,u,h){var y=wr();h=h===void 0?null:h,nt.flags|=a,y.memoizedState=jl(1|c,hg(),u,h)}function Gd(a,c,u,h){var y=dn();h=h===void 0?null:h;var v=y.memoizedState.inst;Ot!==null&&h!==null&&bw(h,Ot.memoizedState.deps)?y.memoizedState=jl(c,v,u,h):(nt.flags|=a,y.memoizedState=jl(1|c,v,u,h))}function ZS(a,c){pg(8390656,8,a,c)}function QS(a,c){Gd(2048,8,a,c)}function XS(a,c){return Gd(4,2,a,c)}function JS(a,c){return Gd(4,4,a,c)}function eA(a,c){if(typeof c=="function"){a=a();var u=c(a);return function(){typeof u=="function"?u():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function tA(a,c,u){u=u!=null?u.concat([a]):null,Gd(4,4,eA.bind(null,c,a),u)}function Rw(){}function nA(a,c){var u=dn();c=c===void 0?null:c;var h=u.memoizedState;return c!==null&&bw(c,h[1])?h[0]:(u.memoizedState=[a,c],a)}function rA(a,c){var u=dn();c=c===void 0?null:c;var h=u.memoizedState;if(c!==null&&bw(c,h[1]))return h[0];if(h=a(),uc){ci(!0);try{a()}finally{ci(!1)}}return u.memoizedState=[h,c],h}function Ow(a,c,u){return u===void 0||(ja&1073741824)!==0?a.memoizedState=c:(a.memoizedState=u,a=a2(),nt.lanes|=a,Wa|=a,u)}function sA(a,c,u,h){return Fr(u,c)?u:Ml.current!==null?(a=Ow(a,u,h),Fr(a,c)||(Tn=!0),a):(ja&42)===0?(Tn=!0,a.memoizedState=u):(a=a2(),nt.lanes|=a,Wa|=a,c)}function iA(a,c,u,h,y){var v=F.p;F.p=v!==0&&8>v?v:8;var N=R.T,$={};R.T=$,Uw(a,!1,c,u);try{var H=y(),J=R.S;if(J!==null&&J($,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=E6(H,h);Wd(a,c,ae,Gr(a))}else Wd(a,c,h,Gr(a))}catch(le){Wd(a,c,{then:function(){},status:"rejected",reason:le},Gr())}finally{F.p=v,R.T=N}}function T6(){}function Pw(a,c,u,h){if(a.tag!==5)throw Error(r(476));var y=aA(a).queue;iA(a,y,c,V,u===null?T6:function(){return oA(a),u(h)})}function aA(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:V},next:null};var u={};return c.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:u},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function oA(a){var c=aA(a).next.queue;Wd(a,c,{},Gr())}function Dw(){return Zn(ff)}function cA(){return dn().memoizedState}function lA(){return dn().memoizedState}function x6(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var u=Gr();a=Ba(u);var h=La(c,a,u);h!==null&&(Wr(h,c,u),Fd(h,c,u)),c={cache:lw()},a.payload=c;return}c=c.return}}function N6(a,c,u){var h=Gr();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},gg(a)?dA(c,u):(u=J0(a,c,u,h),u!==null&&(Wr(u,a,h),fA(u,c,h)))}function uA(a,c,u){var h=Gr();Wd(a,c,u,h)}function Wd(a,c,u,h){var y={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(gg(a))dA(c,y);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=c.lastRenderedReducer,v!==null))try{var N=c.lastRenderedState,$=v(N,u);if(y.hasEagerState=!0,y.eagerState=$,Fr($,N))return Xp(a,c,y,0),Lt===null&&Qp(),!1}catch{}finally{}if(u=J0(a,c,y,h),u!==null)return Wr(u,a,h),fA(u,c,h),!0}return!1}function Uw(a,c,u,h){if(h={lane:2,revertLane:fb(),action:h,hasEagerState:!1,eagerState:null,next:null},gg(a)){if(c)throw Error(r(479))}else c=J0(a,u,h,2),c!==null&&Wr(c,a,2)}function gg(a){var c=a.alternate;return a===nt||c!==null&&c===nt}function dA(a,c){Bl=lg=!0;var u=a.pending;u===null?c.next=c:(c.next=u.next,u.next=c),a.pending=c}function fA(a,c,u){if((u&4194048)!==0){var h=c.lanes;h&=a.pendingLanes,u|=h,c.lanes=u,vC(a,u)}}var mg={readContext:Zn,use:dg,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn},hA={readContext:Zn,use:dg,useCallback:function(a,c){return wr().memoizedState=[a,c===void 0?null:c],a},useContext:Zn,useEffect:ZS,useImperativeHandle:function(a,c,u){u=u!=null?u.concat([a]):null,pg(4194308,4,eA.bind(null,c,a),u)},useLayoutEffect:function(a,c){return pg(4194308,4,a,c)},useInsertionEffect:function(a,c){pg(4,2,a,c)},useMemo:function(a,c){var u=wr();c=c===void 0?null:c;var h=a();if(uc){ci(!0);try{a()}finally{ci(!1)}}return u.memoizedState=[h,c],h},useReducer:function(a,c,u){var h=wr();if(u!==void 0){var y=u(c);if(uc){ci(!0);try{u(c)}finally{ci(!1)}}}else y=c;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=N6.bind(null,nt,a),[h.memoizedState,a]},useRef:function(a){var c=wr();return a={current:a},c.memoizedState=a},useState:function(a){a=Nw(a);var c=a.queue,u=uA.bind(null,nt,c);return c.dispatch=u,[a.memoizedState,u]},useDebugValue:Rw,useDeferredValue:function(a,c){var u=wr();return Ow(u,a,c)},useTransition:function(){var a=Nw(!1);return a=iA.bind(null,nt,a.queue,!0,!1),wr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,u){var h=nt,y=wr();if(Et){if(u===void 0)throw Error(r(407));u=u()}else{if(u=c(),Lt===null)throw Error(r(349));(ut&124)!==0||US(h,c,u)}y.memoizedState=u;var v={value:u,getSnapshot:c};return y.queue=v,ZS(kS.bind(null,h,v,a),[a]),h.flags|=2048,jl(9,hg(),$S.bind(null,h,v,u,c),null),u},useId:function(){var a=wr(),c=Lt.identifierPrefix;if(Et){var u=Gi,h=Vi;u=(h&~(1<<32-or(h)-1)).toString(32)+u,c=""+c+"R"+u,u=ug++,0<u&&(c+="H"+u.toString(32)),c+=""}else u=_6++,c=""+c+"r"+u.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:Dw,useFormState:VS,useActionState:VS,useOptimistic:function(a){var c=wr();c.memoizedState=c.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=u,c=Uw.bind(null,nt,!0,u),u.dispatch=c,[a,c]},useMemoCache:Aw,useCacheRefresh:function(){return wr().memoizedState=x6.bind(null,nt)}},pA={readContext:Zn,use:dg,useCallback:nA,useContext:Zn,useEffect:QS,useImperativeHandle:tA,useInsertionEffect:XS,useLayoutEffect:JS,useMemo:rA,useReducer:fg,useRef:YS,useState:function(){return fg(Yi)},useDebugValue:Rw,useDeferredValue:function(a,c){var u=dn();return sA(u,Ot.memoizedState,a,c)},useTransition:function(){var a=fg(Yi)[0],c=dn().memoizedState;return[typeof a=="boolean"?a:Vd(a),c]},useSyncExternalStore:DS,useId:cA,useHostTransitionStatus:Dw,useFormState:GS,useActionState:GS,useOptimistic:function(a,c){var u=dn();return LS(u,Ot,a,c)},useMemoCache:Aw,useCacheRefresh:lA},I6={readContext:Zn,use:dg,useCallback:nA,useContext:Zn,useEffect:QS,useImperativeHandle:tA,useInsertionEffect:XS,useLayoutEffect:JS,useMemo:rA,useReducer:xw,useRef:YS,useState:function(){return xw(Yi)},useDebugValue:Rw,useDeferredValue:function(a,c){var u=dn();return Ot===null?Ow(u,a,c):sA(u,Ot.memoizedState,a,c)},useTransition:function(){var a=xw(Yi)[0],c=dn().memoizedState;return[typeof a=="boolean"?a:Vd(a),c]},useSyncExternalStore:DS,useId:cA,useHostTransitionStatus:Dw,useFormState:KS,useActionState:KS,useOptimistic:function(a,c){var u=dn();return Ot!==null?LS(u,Ot,a,c):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Aw,useCacheRefresh:lA},Fl=null,Kd=0;function yg(a){var c=Kd;return Kd+=1,Fl===null&&(Fl=[]),AS(Fl,a,c)}function Yd(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function wg(a,c){throw c.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(c),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function gA(a){var c=a._init;return c(a._payload)}function mA(a){function c(Z,Y){if(a){var Q=Z.deletions;Q===null?(Z.deletions=[Y],Z.flags|=16):Q.push(Y)}}function u(Z,Y){if(!a)return null;for(;Y!==null;)c(Z,Y),Y=Y.sibling;return null}function h(Z){for(var Y=new Map;Z!==null;)Z.key!==null?Y.set(Z.key,Z):Y.set(Z.index,Z),Z=Z.sibling;return Y}function y(Z,Y){return Z=Hi(Z,Y),Z.index=0,Z.sibling=null,Z}function v(Z,Y,Q){return Z.index=Q,a?(Q=Z.alternate,Q!==null?(Q=Q.index,Q<Y?(Z.flags|=67108866,Y):Q):(Z.flags|=67108866,Y)):(Z.flags|=1048576,Y)}function N(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function $(Z,Y,Q,oe){return Y===null||Y.tag!==6?(Y=tw(Q,Z.mode,oe),Y.return=Z,Y):(Y=y(Y,Q),Y.return=Z,Y)}function H(Z,Y,Q,oe){var Pe=Q.type;return Pe===w?ae(Z,Y,Q.props.children,oe,Q.key):Y!==null&&(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===U&&gA(Pe)===Y.type)?(Y=y(Y,Q.props),Yd(Y,Q),Y.return=Z,Y):(Y=eg(Q.type,Q.key,Q.props,null,Z.mode,oe),Yd(Y,Q),Y.return=Z,Y)}function J(Z,Y,Q,oe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=nw(Q,Z.mode,oe),Y.return=Z,Y):(Y=y(Y,Q.children||[]),Y.return=Z,Y)}function ae(Z,Y,Q,oe,Pe){return Y===null||Y.tag!==7?(Y=nc(Q,Z.mode,oe,Pe),Y.return=Z,Y):(Y=y(Y,Q),Y.return=Z,Y)}function le(Z,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=tw(""+Y,Z.mode,Q),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case m:return Q=eg(Y.type,Y.key,Y.props,null,Z.mode,Q),Yd(Q,Y),Q.return=Z,Q;case b:return Y=nw(Y,Z.mode,Q),Y.return=Z,Y;case U:var oe=Y._init;return Y=oe(Y._payload),le(Z,Y,Q)}if(k(Y)||z(Y))return Y=nc(Y,Z.mode,Q,null),Y.return=Z,Y;if(typeof Y.then=="function")return le(Z,yg(Y),Q);if(Y.$$typeof===A)return le(Z,sg(Z,Y),Q);wg(Z,Y)}return null}function ne(Z,Y,Q,oe){var Pe=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Pe!==null?null:$(Z,Y,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case m:return Q.key===Pe?H(Z,Y,Q,oe):null;case b:return Q.key===Pe?J(Z,Y,Q,oe):null;case U:return Pe=Q._init,Q=Pe(Q._payload),ne(Z,Y,Q,oe)}if(k(Q)||z(Q))return Pe!==null?null:ae(Z,Y,Q,oe,null);if(typeof Q.then=="function")return ne(Z,Y,yg(Q),oe);if(Q.$$typeof===A)return ne(Z,Y,sg(Z,Q),oe);wg(Z,Q)}return null}function re(Z,Y,Q,oe,Pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Z=Z.get(Q)||null,$(Y,Z,""+oe,Pe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case m:return Z=Z.get(oe.key===null?Q:oe.key)||null,H(Y,Z,oe,Pe);case b:return Z=Z.get(oe.key===null?Q:oe.key)||null,J(Y,Z,oe,Pe);case U:var rt=oe._init;return oe=rt(oe._payload),re(Z,Y,Q,oe,Pe)}if(k(oe)||z(oe))return Z=Z.get(Q)||null,ae(Y,Z,oe,Pe,null);if(typeof oe.then=="function")return re(Z,Y,Q,yg(oe),Pe);if(oe.$$typeof===A)return re(Z,Y,Q,sg(Y,oe),Pe);wg(Y,oe)}return null}function Ge(Z,Y,Q,oe){for(var Pe=null,rt=null,$e=Y,Fe=Y=0,Nn=null;$e!==null&&Fe<Q.length;Fe++){$e.index>Fe?(Nn=$e,$e=null):Nn=$e.sibling;var ht=ne(Z,$e,Q[Fe],oe);if(ht===null){$e===null&&($e=Nn);break}a&&$e&&ht.alternate===null&&c(Z,$e),Y=v(ht,Y,Fe),rt===null?Pe=ht:rt.sibling=ht,rt=ht,$e=Nn}if(Fe===Q.length)return u(Z,$e),Et&&sc(Z,Fe),Pe;if($e===null){for(;Fe<Q.length;Fe++)$e=le(Z,Q[Fe],oe),$e!==null&&(Y=v($e,Y,Fe),rt===null?Pe=$e:rt.sibling=$e,rt=$e);return Et&&sc(Z,Fe),Pe}for($e=h($e);Fe<Q.length;Fe++)Nn=re($e,Z,Fe,Q[Fe],oe),Nn!==null&&(a&&Nn.alternate!==null&&$e.delete(Nn.key===null?Fe:Nn.key),Y=v(Nn,Y,Fe),rt===null?Pe=Nn:rt.sibling=Nn,rt=Nn);return a&&$e.forEach(function(no){return c(Z,no)}),Et&&sc(Z,Fe),Pe}function je(Z,Y,Q,oe){if(Q==null)throw Error(r(151));for(var Pe=null,rt=null,$e=Y,Fe=Y=0,Nn=null,ht=Q.next();$e!==null&&!ht.done;Fe++,ht=Q.next()){$e.index>Fe?(Nn=$e,$e=null):Nn=$e.sibling;var no=ne(Z,$e,ht.value,oe);if(no===null){$e===null&&($e=Nn);break}a&&$e&&no.alternate===null&&c(Z,$e),Y=v(no,Y,Fe),rt===null?Pe=no:rt.sibling=no,rt=no,$e=Nn}if(ht.done)return u(Z,$e),Et&&sc(Z,Fe),Pe;if($e===null){for(;!ht.done;Fe++,ht=Q.next())ht=le(Z,ht.value,oe),ht!==null&&(Y=v(ht,Y,Fe),rt===null?Pe=ht:rt.sibling=ht,rt=ht);return Et&&sc(Z,Fe),Pe}for($e=h($e);!ht.done;Fe++,ht=Q.next())ht=re($e,Z,Fe,ht.value,oe),ht!==null&&(a&&ht.alternate!==null&&$e.delete(ht.key===null?Fe:ht.key),Y=v(ht,Y,Fe),rt===null?Pe=ht:rt.sibling=ht,rt=ht);return a&&$e.forEach(function(RU){return c(Z,RU)}),Et&&sc(Z,Fe),Pe}function Dt(Z,Y,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case m:e:{for(var Pe=Q.key;Y!==null;){if(Y.key===Pe){if(Pe=Q.type,Pe===w){if(Y.tag===7){u(Z,Y.sibling),oe=y(Y,Q.props.children),oe.return=Z,Z=oe;break e}}else if(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===U&&gA(Pe)===Y.type){u(Z,Y.sibling),oe=y(Y,Q.props),Yd(oe,Q),oe.return=Z,Z=oe;break e}u(Z,Y);break}else c(Z,Y);Y=Y.sibling}Q.type===w?(oe=nc(Q.props.children,Z.mode,oe,Q.key),oe.return=Z,Z=oe):(oe=eg(Q.type,Q.key,Q.props,null,Z.mode,oe),Yd(oe,Q),oe.return=Z,Z=oe)}return N(Z);case b:e:{for(Pe=Q.key;Y!==null;){if(Y.key===Pe)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){u(Z,Y.sibling),oe=y(Y,Q.children||[]),oe.return=Z,Z=oe;break e}else{u(Z,Y);break}else c(Z,Y);Y=Y.sibling}oe=nw(Q,Z.mode,oe),oe.return=Z,Z=oe}return N(Z);case U:return Pe=Q._init,Q=Pe(Q._payload),Dt(Z,Y,Q,oe)}if(k(Q))return Ge(Z,Y,Q,oe);if(z(Q)){if(Pe=z(Q),typeof Pe!="function")throw Error(r(150));return Q=Pe.call(Q),je(Z,Y,Q,oe)}if(typeof Q.then=="function")return Dt(Z,Y,yg(Q),oe);if(Q.$$typeof===A)return Dt(Z,Y,sg(Z,Q),oe);wg(Z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(u(Z,Y.sibling),oe=y(Y,Q),oe.return=Z,Z=oe):(u(Z,Y),oe=tw(Q,Z.mode,oe),oe.return=Z,Z=oe),N(Z)):u(Z,Y)}return function(Z,Y,Q,oe){try{Kd=0;var Pe=Dt(Z,Y,Q,oe);return Fl=null,Pe}catch($e){if($e===Ld||$e===ag)throw $e;var rt=zr(29,$e,null,Z.mode);return rt.lanes=oe,rt.return=Z,rt}finally{}}}var zl=mA(!0),yA=mA(!1),hs=q(null),ui=null;function Fa(a){var c=a.alternate;te(yn,yn.current&1),te(hs,a),ui===null&&(c===null||Ml.current!==null||c.memoizedState!==null)&&(ui=a)}function wA(a){if(a.tag===22){if(te(yn,yn.current),te(hs,a),ui===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ui=a)}}else za()}function za(){te(yn,yn.current),te(hs,hs.current)}function Zi(a){X(hs),ui===a&&(ui=null),X(yn)}var yn=q(0);function bg(a){for(var c=a;c!==null;){if(c.tag===13){var u=c.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Sb(u)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function $w(a,c,u,h){c=a.memoizedState,u=u(h,c),u=u==null?c:p({},c,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var kw={enqueueSetState:function(a,c,u){a=a._reactInternals;var h=Gr(),y=Ba(h);y.payload=c,u!=null&&(y.callback=u),c=La(a,y,h),c!==null&&(Wr(c,a,h),Fd(c,a,h))},enqueueReplaceState:function(a,c,u){a=a._reactInternals;var h=Gr(),y=Ba(h);y.tag=1,y.payload=c,u!=null&&(y.callback=u),c=La(a,y,h),c!==null&&(Wr(c,a,h),Fd(c,a,h))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var u=Gr(),h=Ba(u);h.tag=2,c!=null&&(h.callback=c),c=La(a,h,u),c!==null&&(Wr(c,a,u),Fd(c,a,u))}};function bA(a,c,u,h,y,v,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,v,N):c.prototype&&c.prototype.isPureReactComponent?!Od(u,h)||!Od(y,v):!0}function vA(a,c,u,h){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(u,h),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(u,h),c.state!==a&&kw.enqueueReplaceState(c,c.state,null)}function dc(a,c){var u=c;if("ref"in c){u={};for(var h in c)h!=="ref"&&(u[h]=c[h])}if(a=a.defaultProps){u===c&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}var vg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function EA(a){vg(a)}function _A(a){console.error(a)}function CA(a){vg(a)}function Eg(a,c){try{var u=a.onUncaughtError;u(c.value,{componentStack:c.stack})}catch(h){setTimeout(function(){throw h})}}function SA(a,c,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Mw(a,c,u){return u=Ba(u),u.tag=3,u.payload={element:null},u.callback=function(){Eg(a,c)},u}function AA(a){return a=Ba(a),a.tag=3,a}function TA(a,c,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;a.payload=function(){return y(v)},a.callback=function(){SA(c,u,h)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){SA(c,u,h),typeof y!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function R6(a,c,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(c=u.alternate,c!==null&&kd(c,u,y,!0),u=hs.current,u!==null){switch(u.tag){case 13:return ui===null?ob():u.alternate===null&&tn===0&&(tn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===fw?u.flags|=16384:(c=u.updateQueue,c===null?u.updateQueue=new Set([h]):c.add(h),lb(a,h,y)),!1;case 22:return u.flags|=65536,h===fw?u.flags|=16384:(c=u.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=c):(u=c.retryQueue,u===null?c.retryQueue=new Set([h]):u.add(h)),lb(a,h,y)),!1}throw Error(r(435,u.tag))}return lb(a,h,y),ob(),!1}if(Et)return c=hs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=y,h!==iw&&(a=Error(r(422),{cause:h}),$d(ls(a,u)))):(h!==iw&&(c=Error(r(423),{cause:h}),$d(ls(c,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=ls(h,u),y=Mw(a.stateNode,h,y),gw(a,y),tn!==4&&(tn=2)),!1;var v=Error(r(520),{cause:h});if(v=ls(v,u),nf===null?nf=[v]:nf.push(v),tn!==4&&(tn=2),c===null)return!0;h=ls(h,u),u=c;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Mw(u.stateNode,h,a),gw(u,a),!1;case 1:if(c=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ka===null||!Ka.has(v))))return u.flags|=65536,y&=-y,u.lanes|=y,y=AA(y),TA(y,a,u,h),gw(u,y),!1}u=u.return}while(u!==null);return!1}var xA=Error(r(461)),Tn=!1;function kn(a,c,u,h){c.child=a===null?yA(c,null,u,h):zl(c,a.child,u,h)}function NA(a,c,u,h,y){u=u.render;var v=c.ref;if("ref"in h){var N={};for(var $ in h)$!=="ref"&&(N[$]=h[$])}else N=h;return cc(c),h=vw(a,c,u,N,v,y),$=Ew(),a!==null&&!Tn?(_w(a,c,y),Qi(a,c,y)):(Et&&$&&rw(c),c.flags|=1,kn(a,c,h,y),c.child)}function IA(a,c,u,h,y){if(a===null){var v=u.type;return typeof v=="function"&&!ew(v)&&v.defaultProps===void 0&&u.compare===null?(c.tag=15,c.type=v,RA(a,c,v,h,y)):(a=eg(u.type,null,h,c,c.mode,y),a.ref=c.ref,a.return=c,c.child=a)}if(v=a.child,!Vw(a,y)){var N=v.memoizedProps;if(u=u.compare,u=u!==null?u:Od,u(N,h)&&a.ref===c.ref)return Qi(a,c,y)}return c.flags|=1,a=Hi(v,h),a.ref=c.ref,a.return=c,c.child=a}function RA(a,c,u,h,y){if(a!==null){var v=a.memoizedProps;if(Od(v,h)&&a.ref===c.ref)if(Tn=!1,c.pendingProps=h=v,Vw(a,y))(a.flags&131072)!==0&&(Tn=!0);else return c.lanes=a.lanes,Qi(a,c,y)}return Bw(a,c,u,h,y)}function OA(a,c,u){var h=c.pendingProps,y=h.children,v=a!==null?a.memoizedState:null;if(h.mode==="hidden"){if((c.flags&128)!==0){if(h=v!==null?v.baseLanes|u:u,a!==null){for(y=c.child=a.child,v=0;y!==null;)v=v|y.lanes|y.childLanes,y=y.sibling;c.childLanes=v&~h}else c.childLanes=0,c.child=null;return PA(a,c,h,u)}if((u&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&ig(c,v!==null?v.cachePool:null),v!==null?RS(c,v):yw(),wA(c);else return c.lanes=c.childLanes=536870912,PA(a,c,v!==null?v.baseLanes|u:u,u)}else v!==null?(ig(c,v.cachePool),RS(c,v),za(),c.memoizedState=null):(a!==null&&ig(c,null),yw(),za());return kn(a,c,y,u),c.child}function PA(a,c,u,h){var y=dw();return y=y===null?null:{parent:mn._currentValue,pool:y},c.memoizedState={baseLanes:u,cachePool:y},a!==null&&ig(c,null),yw(),wA(c),a!==null&&kd(a,c,h,!0),null}function _g(a,c){var u=c.ref;if(u===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(c.flags|=4194816)}}function Bw(a,c,u,h,y){return cc(c),u=vw(a,c,u,h,void 0,y),h=Ew(),a!==null&&!Tn?(_w(a,c,y),Qi(a,c,y)):(Et&&h&&rw(c),c.flags|=1,kn(a,c,u,y),c.child)}function DA(a,c,u,h,y,v){return cc(c),c.updateQueue=null,u=PS(c,h,u,y),OS(a),h=Ew(),a!==null&&!Tn?(_w(a,c,v),Qi(a,c,v)):(Et&&h&&rw(c),c.flags|=1,kn(a,c,u,v),c.child)}function UA(a,c,u,h,y){if(cc(c),c.stateNode===null){var v=Pl,N=u.contextType;typeof N=="object"&&N!==null&&(v=Zn(N)),v=new u(h,v),c.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=kw,c.stateNode=v,v._reactInternals=c,v=c.stateNode,v.props=h,v.state=c.memoizedState,v.refs={},hw(c),N=u.contextType,v.context=typeof N=="object"&&N!==null?Zn(N):Pl,v.state=c.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&($w(c,u,N,h),v.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&kw.enqueueReplaceState(v,v.state,null),qd(c,h,v,y),zd(),v.state=c.memoizedState),typeof v.componentDidMount=="function"&&(c.flags|=4194308),h=!0}else if(a===null){v=c.stateNode;var $=c.memoizedProps,H=dc(u,$);v.props=H;var J=v.context,ae=u.contextType;N=Pl,typeof ae=="object"&&ae!==null&&(N=Zn(ae));var le=u.getDerivedStateFromProps;ae=typeof le=="function"||typeof v.getSnapshotBeforeUpdate=="function",$=c.pendingProps!==$,ae||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||($||J!==N)&&vA(c,v,h,N),Ma=!1;var ne=c.memoizedState;v.state=ne,qd(c,h,v,y),zd(),J=c.memoizedState,$||ne!==J||Ma?(typeof le=="function"&&($w(c,u,le,h),J=c.memoizedState),(H=Ma||bA(c,u,H,h,ne,J,N))?(ae||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(c.flags|=4194308)):(typeof v.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=h,c.memoizedState=J),v.props=h,v.state=J,v.context=N,h=H):(typeof v.componentDidMount=="function"&&(c.flags|=4194308),h=!1)}else{v=c.stateNode,pw(a,c),N=c.memoizedProps,ae=dc(u,N),v.props=ae,le=c.pendingProps,ne=v.context,J=u.contextType,H=Pl,typeof J=="object"&&J!==null&&(H=Zn(J)),$=u.getDerivedStateFromProps,(J=typeof $=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==le||ne!==H)&&vA(c,v,h,H),Ma=!1,ne=c.memoizedState,v.state=ne,qd(c,h,v,y),zd();var re=c.memoizedState;N!==le||ne!==re||Ma||a!==null&&a.dependencies!==null&&rg(a.dependencies)?(typeof $=="function"&&($w(c,u,$,h),re=c.memoizedState),(ae=Ma||bA(c,u,ae,h,ne,re,H)||a!==null&&a.dependencies!==null&&rg(a.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,re,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,re,H)),typeof v.componentDidUpdate=="function"&&(c.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===a.memoizedProps&&ne===a.memoizedState||(c.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ne===a.memoizedState||(c.flags|=1024),c.memoizedProps=h,c.memoizedState=re),v.props=h,v.state=re,v.context=H,h=ae):(typeof v.componentDidUpdate!="function"||N===a.memoizedProps&&ne===a.memoizedState||(c.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ne===a.memoizedState||(c.flags|=1024),h=!1)}return v=h,_g(a,c),h=(c.flags&128)!==0,v||h?(v=c.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:v.render(),c.flags|=1,a!==null&&h?(c.child=zl(c,a.child,null,y),c.child=zl(c,null,u,y)):kn(a,c,u,y),c.memoizedState=v.state,a=c.child):a=Qi(a,c,y),a}function $A(a,c,u,h){return Ud(),c.flags|=256,kn(a,c,u,h),c.child}var Lw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jw(a){return{baseLanes:a,cachePool:_S()}}function Fw(a,c,u){return a=a!==null?a.childLanes&~u:0,c&&(a|=ps),a}function kA(a,c,u){var h=c.pendingProps,y=!1,v=(c.flags&128)!==0,N;if((N=v)||(N=a!==null&&a.memoizedState===null?!1:(yn.current&2)!==0),N&&(y=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,a===null){if(Et){if(y?Fa(c):za(),Et){var $=en,H;if(H=$){e:{for(H=$,$=li;H.nodeType!==8;){if(!$){$=null;break e}if(H=Ls(H.nextSibling),H===null){$=null;break e}}$=H}$!==null?(c.memoizedState={dehydrated:$,treeContext:rc!==null?{id:Vi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},H=zr(18,null,null,0),H.stateNode=$,H.return=c,c.child=H,cr=c,en=null,H=!0):H=!1}H||ac(c)}if($=c.memoizedState,$!==null&&($=$.dehydrated,$!==null))return Sb($)?c.lanes=32:c.lanes=536870912,null;Zi(c)}return $=h.children,h=h.fallback,y?(za(),y=c.mode,$=Cg({mode:"hidden",children:$},y),h=nc(h,y,u,null),$.return=c,h.return=c,$.sibling=h,c.child=$,y=c.child,y.memoizedState=jw(u),y.childLanes=Fw(a,N,u),c.memoizedState=Lw,h):(Fa(c),zw(c,$))}if(H=a.memoizedState,H!==null&&($=H.dehydrated,$!==null)){if(v)c.flags&256?(Fa(c),c.flags&=-257,c=qw(a,c,u)):c.memoizedState!==null?(za(),c.child=a.child,c.flags|=128,c=null):(za(),y=h.fallback,$=c.mode,h=Cg({mode:"visible",children:h.children},$),y=nc(y,$,u,null),y.flags|=2,h.return=c,y.return=c,h.sibling=y,c.child=h,zl(c,a.child,null,u),h=c.child,h.memoizedState=jw(u),h.childLanes=Fw(a,N,u),c.memoizedState=Lw,c=y);else if(Fa(c),Sb($)){if(N=$.nextSibling&&$.nextSibling.dataset,N)var J=N.dgst;N=J,h=Error(r(419)),h.stack="",h.digest=N,$d({value:h,source:null,stack:null}),c=qw(a,c,u)}else if(Tn||kd(a,c,u,!1),N=(u&a.childLanes)!==0,Tn||N){if(N=Lt,N!==null&&(h=u&-u,h=(h&42)!==0?1:A0(h),h=(h&(N.suspendedLanes|u))!==0?0:h,h!==0&&h!==H.retryLane))throw H.retryLane=h,Ol(a,h),Wr(N,a,h),xA;$.data==="$?"||ob(),c=qw(a,c,u)}else $.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=H.treeContext,en=Ls($.nextSibling),cr=c,Et=!0,ic=null,li=!1,a!==null&&(ds[fs++]=Vi,ds[fs++]=Gi,ds[fs++]=rc,Vi=a.id,Gi=a.overflow,rc=c),c=zw(c,h.children),c.flags|=4096);return c}return y?(za(),y=h.fallback,$=c.mode,H=a.child,J=H.sibling,h=Hi(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,J!==null?y=Hi(J,y):(y=nc(y,$,u,null),y.flags|=2),y.return=c,h.return=c,h.sibling=y,c.child=h,h=y,y=c.child,$=a.child.memoizedState,$===null?$=jw(u):(H=$.cachePool,H!==null?(J=mn._currentValue,H=H.parent!==J?{parent:J,pool:J}:H):H=_S(),$={baseLanes:$.baseLanes|u,cachePool:H}),y.memoizedState=$,y.childLanes=Fw(a,N,u),c.memoizedState=Lw,h):(Fa(c),u=a.child,a=u.sibling,u=Hi(u,{mode:"visible",children:h.children}),u.return=c,u.sibling=null,a!==null&&(N=c.deletions,N===null?(c.deletions=[a],c.flags|=16):N.push(a)),c.child=u,c.memoizedState=null,u)}function zw(a,c){return c=Cg({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Cg(a,c){return a=zr(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function qw(a,c,u){return zl(c,a.child,null,u),a=zw(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function MA(a,c,u){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c),ow(a.return,c,u)}function Hw(a,c,u,h,y){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y}:(v.isBackwards=c,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=y)}function BA(a,c,u){var h=c.pendingProps,y=h.revealOrder,v=h.tail;if(kn(a,c,h.children,u),h=yn.current,(h&2)!==0)h=h&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&MA(a,u,c);else if(a.tag===19)MA(a,u,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}switch(te(yn,h),y){case"forwards":for(u=c.child,y=null;u!==null;)a=u.alternate,a!==null&&bg(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=c.child,c.child=null):(y=u.sibling,u.sibling=null),Hw(c,!1,y,u,v);break;case"backwards":for(u=null,y=c.child,c.child=null;y!==null;){if(a=y.alternate,a!==null&&bg(a)===null){c.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Hw(c,!0,u,null,v);break;case"together":Hw(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Qi(a,c,u){if(a!==null&&(c.dependencies=a.dependencies),Wa|=c.lanes,(u&c.childLanes)===0)if(a!==null){if(kd(a,c,u,!1),(u&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(r(153));if(c.child!==null){for(a=c.child,u=Hi(a,a.pendingProps),c.child=u,u.return=c;a.sibling!==null;)a=a.sibling,u=u.sibling=Hi(a,a.pendingProps),u.return=c;u.sibling=null}return c.child}function Vw(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&rg(a)))}function O6(a,c,u){switch(c.tag){case 3:ge(c,c.stateNode.containerInfo),ka(c,mn,a.memoizedState.cache),Ud();break;case 27:case 5:qe(c);break;case 4:ge(c,c.stateNode.containerInfo);break;case 10:ka(c,c.type,c.memoizedProps.value);break;case 13:var h=c.memoizedState;if(h!==null)return h.dehydrated!==null?(Fa(c),c.flags|=128,null):(u&c.child.childLanes)!==0?kA(a,c,u):(Fa(c),a=Qi(a,c,u),a!==null?a.sibling:null);Fa(c);break;case 19:var y=(a.flags&128)!==0;if(h=(u&c.childLanes)!==0,h||(kd(a,c,u,!1),h=(u&c.childLanes)!==0),y){if(h)return BA(a,c,u);c.flags|=128}if(y=c.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),te(yn,yn.current),h)break;return null;case 22:case 23:return c.lanes=0,OA(a,c,u);case 24:ka(c,mn,a.memoizedState.cache)}return Qi(a,c,u)}function LA(a,c,u){if(a!==null)if(a.memoizedProps!==c.pendingProps)Tn=!0;else{if(!Vw(a,u)&&(c.flags&128)===0)return Tn=!1,O6(a,c,u);Tn=(a.flags&131072)!==0}else Tn=!1,Et&&(c.flags&1048576)!==0&&gS(c,ng,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var h=c.elementType,y=h._init;if(h=y(h._payload),c.type=h,typeof h=="function")ew(h)?(a=dc(h,a),c.tag=1,c=UA(null,c,h,a,u)):(c.tag=0,c=Bw(null,c,h,a,u));else{if(h!=null){if(y=h.$$typeof,y===O){c.tag=11,c=NA(null,c,h,a,u);break e}else if(y===P){c.tag=14,c=IA(null,c,h,a,u);break e}}throw c=G(h)||h,Error(r(306,c,""))}}return c;case 0:return Bw(a,c,c.type,c.pendingProps,u);case 1:return h=c.type,y=dc(h,c.pendingProps),UA(a,c,h,y,u);case 3:e:{if(ge(c,c.stateNode.containerInfo),a===null)throw Error(r(387));h=c.pendingProps;var v=c.memoizedState;y=v.element,pw(a,c),qd(c,h,null,u);var N=c.memoizedState;if(h=N.cache,ka(c,mn,h),h!==v.cache&&cw(c,[mn],u,!0),zd(),h=N.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=v,c.memoizedState=v,c.flags&256){c=$A(a,c,h,u);break e}else if(h!==y){y=ls(Error(r(424)),c),$d(y),c=$A(a,c,h,u);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(en=Ls(a.firstChild),cr=c,Et=!0,ic=null,li=!0,u=yA(c,null,h,u),c.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ud(),h===y){c=Qi(a,c,u);break e}kn(a,c,h,u)}c=c.child}return c;case 26:return _g(a,c),a===null?(u=q2(c.type,null,c.pendingProps,null))?c.memoizedState=u:Et||(u=c.type,a=c.pendingProps,h=Mg(se.current).createElement(u),h[Yn]=c,h[mr]=a,Bn(h,u,a),An(h),c.stateNode=h):c.memoizedState=q2(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return qe(c),a===null&&Et&&(h=c.stateNode=j2(c.type,c.pendingProps,se.current),cr=c,li=!0,y=en,Qa(c.type)?(Ab=y,en=Ls(h.firstChild)):en=y),kn(a,c,c.pendingProps.children,u),_g(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Et&&((y=h=en)&&(h=iU(h,c.type,c.pendingProps,li),h!==null?(c.stateNode=h,cr=c,en=Ls(h.firstChild),li=!1,y=!0):y=!1),y||ac(c)),qe(c),y=c.type,v=c.pendingProps,N=a!==null?a.memoizedProps:null,h=v.children,Eb(y,v)?h=null:N!==null&&Eb(y,N)&&(c.flags|=32),c.memoizedState!==null&&(y=vw(a,c,C6,null,null,u),ff._currentValue=y),_g(a,c),kn(a,c,h,u),c.child;case 6:return a===null&&Et&&((a=u=en)&&(u=aU(u,c.pendingProps,li),u!==null?(c.stateNode=u,cr=c,en=null,a=!0):a=!1),a||ac(c)),null;case 13:return kA(a,c,u);case 4:return ge(c,c.stateNode.containerInfo),h=c.pendingProps,a===null?c.child=zl(c,null,h,u):kn(a,c,h,u),c.child;case 11:return NA(a,c,c.type,c.pendingProps,u);case 7:return kn(a,c,c.pendingProps,u),c.child;case 8:return kn(a,c,c.pendingProps.children,u),c.child;case 12:return kn(a,c,c.pendingProps.children,u),c.child;case 10:return h=c.pendingProps,ka(c,c.type,h.value),kn(a,c,h.children,u),c.child;case 9:return y=c.type._context,h=c.pendingProps.children,cc(c),y=Zn(y),h=h(y),c.flags|=1,kn(a,c,h,u),c.child;case 14:return IA(a,c,c.type,c.pendingProps,u);case 15:return RA(a,c,c.type,c.pendingProps,u);case 19:return BA(a,c,u);case 31:return h=c.pendingProps,u=c.mode,h={mode:h.mode,children:h.children},a===null?(u=Cg(h,u),u.ref=c.ref,c.child=u,u.return=c,c=u):(u=Hi(a.child,h),u.ref=c.ref,c.child=u,u.return=c,c=u),c;case 22:return OA(a,c,u);case 24:return cc(c),h=Zn(mn),a===null?(y=dw(),y===null&&(y=Lt,v=lw(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=u),y=v),c.memoizedState={parent:h,cache:y},hw(c),ka(c,mn,y)):((a.lanes&u)!==0&&(pw(a,c),qd(c,null,null,u),zd()),y=a.memoizedState,v=c.memoizedState,y.parent!==h?(y={parent:h,cache:h},c.memoizedState=y,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=y),ka(c,mn,h)):(h=v.cache,ka(c,mn,h),h!==y.cache&&cw(c,[mn],u,!0))),kn(a,c,c.pendingProps.children,u),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Xi(a){a.flags|=4}function jA(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!K2(c)){if(c=hs.current,c!==null&&((ut&4194048)===ut?ui!==null:(ut&62914560)!==ut&&(ut&536870912)===0||c!==ui))throw jd=fw,CS;a.flags|=8192}}function Sg(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?wC():536870912,a.lanes|=c,Gl|=c)}function Zd(a,c){if(!Et)switch(a.tailMode){case"hidden":c=a.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Qt(a){var c=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(c)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=u,c}function P6(a,c,u){var h=c.pendingProps;switch(sw(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(c),null;case 1:return Qt(c),null;case 3:return u=c.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Ki(mn),_e(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Dd(c)?Xi(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,wS())),Qt(c),null;case 26:return u=c.memoizedState,a===null?(Xi(c),u!==null?(Qt(c),jA(c,u)):(Qt(c),c.flags&=-16777217)):u?u!==a.memoizedState?(Xi(c),Qt(c),jA(c,u)):(Qt(c),c.flags&=-16777217):(a.memoizedProps!==h&&Xi(c),Qt(c),c.flags&=-16777217),null;case 27:Je(c),u=se.current;var y=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==h&&Xi(c);else{if(!h){if(c.stateNode===null)throw Error(r(166));return Qt(c),null}a=ee.current,Dd(c)?mS(c):(a=j2(y,h,u),c.stateNode=a,Xi(c))}return Qt(c),null;case 5:if(Je(c),u=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==h&&Xi(c);else{if(!h){if(c.stateNode===null)throw Error(r(166));return Qt(c),null}if(a=ee.current,Dd(c))mS(c);else{switch(y=Mg(se.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?a.multiple=!0:h.size&&(a.size=h.size);break;default:a=typeof h.is=="string"?y.createElement(u,{is:h.is}):y.createElement(u)}}a[Yn]=c,a[mr]=h;e:for(y=c.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===c)break e;for(;y.sibling===null;){if(y.return===null||y.return===c)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}c.stateNode=a;e:switch(Bn(a,u,h),u){case"button":case"input":case"select":case"textarea":a=!!h.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Xi(c)}}return Qt(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==h&&Xi(c);else{if(typeof h!="string"&&c.stateNode===null)throw Error(r(166));if(a=se.current,Dd(c)){if(a=c.stateNode,u=c.memoizedProps,h=null,y=cr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[Yn]=c,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||D2(a.nodeValue,u)),a||ac(c)}else a=Mg(a).createTextNode(h),a[Yn]=c,c.stateNode=a}return Qt(c),null;case 13:if(h=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Dd(c),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Yn]=c}else Ud(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Qt(c),y=!1}else y=wS(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return c.flags&256?(Zi(c),c):(Zi(c),null)}if(Zi(c),(c.flags&128)!==0)return c.lanes=u,c;if(u=h!==null,a=a!==null&&a.memoizedState!==null,u){h=c.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==y&&(h.flags|=2048)}return u!==a&&u&&(c.child.flags|=8192),Sg(c,c.updateQueue),Qt(c),null;case 4:return _e(),a===null&&mb(c.stateNode.containerInfo),Qt(c),null;case 10:return Ki(c.type),Qt(c),null;case 19:if(X(yn),y=c.memoizedState,y===null)return Qt(c),null;if(h=(c.flags&128)!==0,v=y.rendering,v===null)if(h)Zd(y,!1);else{if(tn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(v=bg(a),v!==null){for(c.flags|=128,Zd(y,!1),a=v.updateQueue,c.updateQueue=a,Sg(c,a),c.subtreeFlags=0,a=u,u=c.child;u!==null;)pS(u,a),u=u.sibling;return te(yn,yn.current&1|2),c.child}a=a.sibling}y.tail!==null&&ln()>xg&&(c.flags|=128,h=!0,Zd(y,!1),c.lanes=4194304)}else{if(!h)if(a=bg(v),a!==null){if(c.flags|=128,h=!0,a=a.updateQueue,c.updateQueue=a,Sg(c,a),Zd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!v.alternate&&!Et)return Qt(c),null}else 2*ln()-y.renderingStartTime>xg&&u!==536870912&&(c.flags|=128,h=!0,Zd(y,!1),c.lanes=4194304);y.isBackwards?(v.sibling=c.child,c.child=v):(a=y.last,a!==null?a.sibling=v:c.child=v,y.last=v)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=ln(),c.sibling=null,a=yn.current,te(yn,h?a&1|2:a&1),c):(Qt(c),null);case 22:case 23:return Zi(c),ww(),h=c.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(c.flags|=8192):h&&(c.flags|=8192),h?(u&536870912)!==0&&(c.flags&128)===0&&(Qt(c),c.subtreeFlags&6&&(c.flags|=8192)):Qt(c),u=c.updateQueue,u!==null&&Sg(c,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==u&&(c.flags|=2048),a!==null&&X(lc),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),c.memoizedState.cache!==u&&(c.flags|=2048),Ki(mn),Qt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function D6(a,c){switch(sw(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Ki(mn),_e(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Je(c),null;case 13:if(Zi(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ud()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return X(yn),null;case 4:return _e(),null;case 10:return Ki(c.type),null;case 22:case 23:return Zi(c),ww(),a!==null&&X(lc),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Ki(mn),null;case 25:return null;default:return null}}function FA(a,c){switch(sw(c),c.tag){case 3:Ki(mn),_e();break;case 26:case 27:case 5:Je(c);break;case 4:_e();break;case 13:Zi(c);break;case 19:X(yn);break;case 10:Ki(c.type);break;case 22:case 23:Zi(c),ww(),a!==null&&X(lc);break;case 24:Ki(mn)}}function Qd(a,c){try{var u=c.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&a)===a){h=void 0;var v=u.create,N=u.inst;h=v(),N.destroy=h}u=u.next}while(u!==y)}}catch($){kt(c,c.return,$)}}function qa(a,c,u){try{var h=c.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var v=y.next;h=v;do{if((h.tag&a)===a){var N=h.inst,$=N.destroy;if($!==void 0){N.destroy=void 0,y=c;var H=u,J=$;try{J()}catch(ae){kt(y,H,ae)}}}h=h.next}while(h!==v)}}catch(ae){kt(c,c.return,ae)}}function zA(a){var c=a.updateQueue;if(c!==null){var u=a.stateNode;try{IS(c,u)}catch(h){kt(a,a.return,h)}}}function qA(a,c,u){u.props=dc(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){kt(a,c,h)}}function Xd(a,c){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(y){kt(a,c,y)}}function di(a,c){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){kt(a,c,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){kt(a,c,y)}else u.current=null}function HA(a){var c=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){kt(a,a.return,y)}}function Gw(a,c,u){try{var h=a.stateNode;eU(h,a.type,u,c),h[mr]=c}catch(y){kt(a,a.return,y)}}function VA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Qa(a.type)||a.tag===4}function Ww(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||VA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Qa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Kw(a,c,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,c?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,c):(c=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,c.appendChild(a),u=u._reactRootContainer,u!=null||c.onclick!==null||(c.onclick=kg));else if(h!==4&&(h===27&&Qa(a.type)&&(u=a.stateNode,c=null),a=a.child,a!==null))for(Kw(a,c,u),a=a.sibling;a!==null;)Kw(a,c,u),a=a.sibling}function Ag(a,c,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,c?u.insertBefore(a,c):u.appendChild(a);else if(h!==4&&(h===27&&Qa(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Ag(a,c,u),a=a.sibling;a!==null;)Ag(a,c,u),a=a.sibling}function GA(a){var c=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,y=c.attributes;y.length;)c.removeAttributeNode(y[0]);Bn(c,h,u),c[Yn]=a,c[mr]=u}catch(v){kt(a,a.return,v)}}var Ji=!1,an=!1,Yw=!1,WA=typeof WeakSet=="function"?WeakSet:Set,xn=null;function U6(a,c){if(a=a.containerInfo,bb=qg,a=sS(a),W0(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var N=0,$=-1,H=-1,J=0,ae=0,le=a,ne=null;t:for(;;){for(var re;le!==u||y!==0&&le.nodeType!==3||($=N+y),le!==v||h!==0&&le.nodeType!==3||(H=N+h),le.nodeType===3&&(N+=le.nodeValue.length),(re=le.firstChild)!==null;)ne=le,le=re;for(;;){if(le===a)break t;if(ne===u&&++J===y&&($=N),ne===v&&++ae===h&&(H=N),(re=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=re}u=$===-1||H===-1?null:{start:$,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(vb={focusedElem:a,selectionRange:u},qg=!1,xn=c;xn!==null;)if(c=xn,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,xn=a;else for(;xn!==null;){switch(c=xn,v=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,u=c,y=v.memoizedProps,v=v.memoizedState,h=u.stateNode;try{var Ge=dc(u.type,y,u.elementType===u.type);a=h.getSnapshotBeforeUpdate(Ge,v),h.__reactInternalSnapshotBeforeUpdate=a}catch(je){kt(u,u.return,je)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,u=a.nodeType,u===9)Cb(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Cb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=c.sibling,a!==null){a.return=c.return,xn=a;break}xn=c.return}}function KA(a,c,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ha(a,u),h&4&&Qd(5,u);break;case 1:if(Ha(a,u),h&4)if(a=u.stateNode,c===null)try{a.componentDidMount()}catch(N){kt(u,u.return,N)}else{var y=dc(u.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(y,c,a.__reactInternalSnapshotBeforeUpdate)}catch(N){kt(u,u.return,N)}}h&64&&zA(u),h&512&&Xd(u,u.return);break;case 3:if(Ha(a,u),h&64&&(a=u.updateQueue,a!==null)){if(c=null,u.child!==null)switch(u.child.tag){case 27:case 5:c=u.child.stateNode;break;case 1:c=u.child.stateNode}try{IS(a,c)}catch(N){kt(u,u.return,N)}}break;case 27:c===null&&h&4&&GA(u);case 26:case 5:Ha(a,u),c===null&&h&4&&HA(u),h&512&&Xd(u,u.return);break;case 12:Ha(a,u);break;case 13:Ha(a,u),h&4&&QA(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=q6.bind(null,u),oU(a,u))));break;case 22:if(h=u.memoizedState!==null||Ji,!h){c=c!==null&&c.memoizedState!==null||an,y=Ji;var v=an;Ji=h,(an=c)&&!v?Va(a,u,(u.subtreeFlags&8772)!==0):Ha(a,u),Ji=y,an=v}break;case 30:break;default:Ha(a,u)}}function YA(a){var c=a.alternate;c!==null&&(a.alternate=null,YA(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&N0(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Gt=null,br=!1;function ea(a,c,u){for(u=u.child;u!==null;)ZA(a,c,u),u=u.sibling}function ZA(a,c,u){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(oi,u)}catch{}switch(u.tag){case 26:an||di(u,c),ea(a,c,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:an||di(u,c);var h=Gt,y=br;Qa(u.type)&&(Gt=u.stateNode,br=!1),ea(a,c,u),cf(u.stateNode),Gt=h,br=y;break;case 5:an||di(u,c);case 6:if(h=Gt,y=br,Gt=null,ea(a,c,u),Gt=h,br=y,Gt!==null)if(br)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(u.stateNode)}catch(v){kt(u,c,v)}else try{Gt.removeChild(u.stateNode)}catch(v){kt(u,c,v)}break;case 18:Gt!==null&&(br?(a=Gt,B2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),mf(a)):B2(Gt,u.stateNode));break;case 4:h=Gt,y=br,Gt=u.stateNode.containerInfo,br=!0,ea(a,c,u),Gt=h,br=y;break;case 0:case 11:case 14:case 15:an||qa(2,u,c),an||qa(4,u,c),ea(a,c,u);break;case 1:an||(di(u,c),h=u.stateNode,typeof h.componentWillUnmount=="function"&&qA(u,c,h)),ea(a,c,u);break;case 21:ea(a,c,u);break;case 22:an=(h=an)||u.memoizedState!==null,ea(a,c,u),an=h;break;default:ea(a,c,u)}}function QA(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{mf(a)}catch(u){kt(c,c.return,u)}}function $6(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new WA),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new WA),c;default:throw Error(r(435,a.tag))}}function Zw(a,c){var u=$6(a);c.forEach(function(h){var y=H6.bind(null,a,h);u.has(h)||(u.add(h),h.then(y,y))})}function qr(a,c){var u=c.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],v=a,N=c,$=N;e:for(;$!==null;){switch($.tag){case 27:if(Qa($.type)){Gt=$.stateNode,br=!1;break e}break;case 5:Gt=$.stateNode,br=!1;break e;case 3:case 4:Gt=$.stateNode.containerInfo,br=!0;break e}$=$.return}if(Gt===null)throw Error(r(160));ZA(v,N,y),Gt=null,br=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)XA(c,a),c=c.sibling}var Bs=null;function XA(a,c){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:qr(c,a),Hr(a),h&4&&(qa(3,a,a.return),Qd(3,a),qa(5,a,a.return));break;case 1:qr(c,a),Hr(a),h&512&&(an||u===null||di(u,u.return)),h&64&&Ji&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=Bs;if(qr(c,a),Hr(a),h&512&&(an||u===null||di(u,u.return)),h&4){var v=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":v=y.getElementsByTagName("title")[0],(!v||v[_d]||v[Yn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(h),y.head.insertBefore(v,y.querySelector("head > title"))),Bn(v,h,u),v[Yn]=a,An(v),h=v;break e;case"link":var N=G2("link","href",y).get(h+(u.href||""));if(N){for(var $=0;$<N.length;$++)if(v=N[$],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice($,1);break t}}v=y.createElement(h),Bn(v,h,u),y.head.appendChild(v);break;case"meta":if(N=G2("meta","content",y).get(h+(u.content||""))){for($=0;$<N.length;$++)if(v=N[$],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice($,1);break t}}v=y.createElement(h),Bn(v,h,u),y.head.appendChild(v);break;default:throw Error(r(468,h))}v[Yn]=a,An(v),h=v}a.stateNode=h}else W2(y,a.type,a.stateNode);else a.stateNode=V2(y,h,a.memoizedProps);else v!==h?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,h===null?W2(y,a.type,a.stateNode):V2(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Gw(a,a.memoizedProps,u.memoizedProps)}break;case 27:qr(c,a),Hr(a),h&512&&(an||u===null||di(u,u.return)),u!==null&&h&4&&Gw(a,a.memoizedProps,u.memoizedProps);break;case 5:if(qr(c,a),Hr(a),h&512&&(an||u===null||di(u,u.return)),a.flags&32){y=a.stateNode;try{Sl(y,"")}catch(re){kt(a,a.return,re)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,Gw(a,y,u!==null?u.memoizedProps:y)),h&1024&&(Yw=!0);break;case 6:if(qr(c,a),Hr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(re){kt(a,a.return,re)}}break;case 3:if(jg=null,y=Bs,Bs=Bg(c.containerInfo),qr(c,a),Bs=y,Hr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{mf(c.containerInfo)}catch(re){kt(a,a.return,re)}Yw&&(Yw=!1,JA(a));break;case 4:h=Bs,Bs=Bg(a.stateNode.containerInfo),qr(c,a),Hr(a),Bs=h;break;case 12:qr(c,a),Hr(a);break;case 13:qr(c,a),Hr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(nb=ln()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Zw(a,h)));break;case 22:y=a.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,J=Ji,ae=an;if(Ji=J||y,an=ae||H,qr(c,a),an=ae,Ji=J,Hr(a),h&8192)e:for(c=a.stateNode,c._visibility=y?c._visibility&-2:c._visibility|1,y&&(u===null||H||Ji||an||fc(a)),u=null,c=a;;){if(c.tag===5||c.tag===26){if(u===null){H=u=c;try{if(v=H.stateNode,y)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{$=H.stateNode;var le=H.memoizedProps.style,ne=le!=null&&le.hasOwnProperty("display")?le.display:null;$.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){kt(H,H.return,re)}}}else if(c.tag===6){if(u===null){H=c;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(re){kt(H,H.return,re)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Zw(a,u))));break;case 19:qr(c,a),Hr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Zw(a,h)));break;case 30:break;case 21:break;default:qr(c,a),Hr(a)}}function Hr(a){var c=a.flags;if(c&2){try{for(var u,h=a.return;h!==null;){if(VA(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,v=Ww(a);Ag(a,v,y);break;case 5:var N=u.stateNode;u.flags&32&&(Sl(N,""),u.flags&=-33);var $=Ww(a);Ag(a,$,N);break;case 3:case 4:var H=u.stateNode.containerInfo,J=Ww(a);Kw(a,J,H);break;default:throw Error(r(161))}}catch(ae){kt(a,a.return,ae)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function JA(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;JA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Ha(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)KA(a,c.alternate,c),c=c.sibling}function fc(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:qa(4,c,c.return),fc(c);break;case 1:di(c,c.return);var u=c.stateNode;typeof u.componentWillUnmount=="function"&&qA(c,c.return,u),fc(c);break;case 27:cf(c.stateNode);case 26:case 5:di(c,c.return),fc(c);break;case 22:c.memoizedState===null&&fc(c);break;case 30:fc(c);break;default:fc(c)}a=a.sibling}}function Va(a,c,u){for(u=u&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var h=c.alternate,y=a,v=c,N=v.flags;switch(v.tag){case 0:case 11:case 15:Va(y,v,u),Qd(4,v);break;case 1:if(Va(y,v,u),h=v,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){kt(h,h.return,J)}if(h=v,y=h.updateQueue,y!==null){var $=h.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)NS(H[y],$)}catch(J){kt(h,h.return,J)}}u&&N&64&&zA(v),Xd(v,v.return);break;case 27:GA(v);case 26:case 5:Va(y,v,u),u&&h===null&&N&4&&HA(v),Xd(v,v.return);break;case 12:Va(y,v,u);break;case 13:Va(y,v,u),u&&N&4&&QA(y,v);break;case 22:v.memoizedState===null&&Va(y,v,u),Xd(v,v.return);break;case 30:break;default:Va(y,v,u)}c=c.sibling}}function Qw(a,c){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Md(u))}function Xw(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Md(a))}function fi(a,c,u,h){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)e2(a,c,u,h),c=c.sibling}function e2(a,c,u,h){var y=c.flags;switch(c.tag){case 0:case 11:case 15:fi(a,c,u,h),y&2048&&Qd(9,c);break;case 1:fi(a,c,u,h);break;case 3:fi(a,c,u,h),y&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Md(a)));break;case 12:if(y&2048){fi(a,c,u,h),a=c.stateNode;try{var v=c.memoizedProps,N=v.id,$=v.onPostCommit;typeof $=="function"&&$(N,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){kt(c,c.return,H)}}else fi(a,c,u,h);break;case 13:fi(a,c,u,h);break;case 23:break;case 22:v=c.stateNode,N=c.alternate,c.memoizedState!==null?v._visibility&2?fi(a,c,u,h):Jd(a,c):v._visibility&2?fi(a,c,u,h):(v._visibility|=2,ql(a,c,u,h,(c.subtreeFlags&10256)!==0)),y&2048&&Qw(N,c);break;case 24:fi(a,c,u,h),y&2048&&Xw(c.alternate,c);break;default:fi(a,c,u,h)}}function ql(a,c,u,h,y){for(y=y&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var v=a,N=c,$=u,H=h,J=N.flags;switch(N.tag){case 0:case 11:case 15:ql(v,N,$,H,y),Qd(8,N);break;case 23:break;case 22:var ae=N.stateNode;N.memoizedState!==null?ae._visibility&2?ql(v,N,$,H,y):Jd(v,N):(ae._visibility|=2,ql(v,N,$,H,y)),y&&J&2048&&Qw(N.alternate,N);break;case 24:ql(v,N,$,H,y),y&&J&2048&&Xw(N.alternate,N);break;default:ql(v,N,$,H,y)}c=c.sibling}}function Jd(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var u=a,h=c,y=h.flags;switch(h.tag){case 22:Jd(u,h),y&2048&&Qw(h.alternate,h);break;case 24:Jd(u,h),y&2048&&Xw(h.alternate,h);break;default:Jd(u,h)}c=c.sibling}}var ef=8192;function Hl(a){if(a.subtreeFlags&ef)for(a=a.child;a!==null;)t2(a),a=a.sibling}function t2(a){switch(a.tag){case 26:Hl(a),a.flags&ef&&a.memoizedState!==null&&vU(Bs,a.memoizedState,a.memoizedProps);break;case 5:Hl(a);break;case 3:case 4:var c=Bs;Bs=Bg(a.stateNode.containerInfo),Hl(a),Bs=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=ef,ef=16777216,Hl(a),ef=c):Hl(a));break;default:Hl(a)}}function n2(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function tf(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var u=0;u<c.length;u++){var h=c[u];xn=h,s2(h,a)}n2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)r2(a),a=a.sibling}function r2(a){switch(a.tag){case 0:case 11:case 15:tf(a),a.flags&2048&&qa(9,a,a.return);break;case 3:tf(a);break;case 12:tf(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Tg(a)):tf(a);break;default:tf(a)}}function Tg(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var u=0;u<c.length;u++){var h=c[u];xn=h,s2(h,a)}n2(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:qa(8,c,c.return),Tg(c);break;case 22:u=c.stateNode,u._visibility&2&&(u._visibility&=-3,Tg(c));break;default:Tg(c)}a=a.sibling}}function s2(a,c){for(;xn!==null;){var u=xn;switch(u.tag){case 0:case 11:case 15:qa(8,u,c);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Md(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,xn=h;else e:for(u=a;xn!==null;){h=xn;var y=h.sibling,v=h.return;if(YA(h),h===u){xn=null;break e}if(y!==null){y.return=v,xn=y;break e}xn=v}}}var k6={getCacheForType:function(a){var c=Zn(mn),u=c.data.get(a);return u===void 0&&(u=a(),c.data.set(a,u)),u}},M6=typeof WeakMap=="function"?WeakMap:Map,At=0,Lt=null,it=null,ut=0,Tt=0,Vr=null,Ga=!1,Vl=!1,Jw=!1,ta=0,tn=0,Wa=0,hc=0,eb=0,ps=0,Gl=0,nf=null,vr=null,tb=!1,nb=0,xg=1/0,Ng=null,Ka=null,Mn=0,Ya=null,Wl=null,Kl=0,rb=0,sb=null,i2=null,rf=0,ib=null;function Gr(){if((At&2)!==0&&ut!==0)return ut&-ut;if(R.T!==null){var a=$l;return a!==0?a:fb()}return EC()}function a2(){ps===0&&(ps=(ut&536870912)===0||Et?yC():536870912);var a=hs.current;return a!==null&&(a.flags|=32),ps}function Wr(a,c,u){(a===Lt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(Yl(a,0),Za(a,ut,ps,!1)),Ed(a,u),((At&2)===0||a!==Lt)&&(a===Lt&&((At&2)===0&&(hc|=u),tn===4&&Za(a,ut,ps,!1)),hi(a))}function o2(a,c,u){if((At&6)!==0)throw Error(r(327));var h=!u&&(c&124)===0&&(c&a.expiredLanes)===0||vd(a,c),y=h?j6(a,c):cb(a,c,!0),v=h;do{if(y===0){Vl&&!h&&Za(a,c,0,!1);break}else{if(u=a.current.alternate,v&&!B6(u)){y=cb(a,c,!1),v=!1;continue}if(y===2){if(v=c,a.errorRecoveryDisabledLanes&v)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var $=a;y=nf;var H=$.current.memoizedState.isDehydrated;if(H&&(Yl($,N).flags|=256),N=cb($,N,!1),N!==2){if(Jw&&!H){$.errorRecoveryDisabledLanes|=v,hc|=v,y=4;break e}v=vr,vr=y,v!==null&&(vr===null?vr=v:vr.push.apply(vr,v))}y=N}if(v=!1,y!==2)continue}}if(y===1){Yl(a,0),Za(a,c,0,!0);break}e:{switch(h=a,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Za(h,c,ps,!Ga);break e;case 2:vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(y=nb+300-ln(),10<y)){if(Za(h,c,ps,!Ga),Lp(h,0,!0)!==0)break e;h.timeoutHandle=k2(c2.bind(null,h,u,vr,Ng,tb,c,ps,hc,Gl,Ga,v,2,-0,0),y);break e}c2(h,u,vr,Ng,tb,c,ps,hc,Gl,Ga,v,0,-0,0)}}break}while(!0);hi(a)}function c2(a,c,u,h,y,v,N,$,H,J,ae,le,ne,re){if(a.timeoutHandle=-1,le=c.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(df={stylesheets:null,count:0,unsuspend:bU},t2(c),le=EU(),le!==null)){a.cancelPendingCommit=le(g2.bind(null,a,c,v,u,h,y,N,$,H,ae,1,ne,re)),Za(a,v,N,!J);return}g2(a,c,v,u,h,y,N,$,H)}function B6(a){for(var c=a;;){var u=c.tag;if((u===0||u===11||u===15)&&c.flags&16384&&(u=c.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],v=y.getSnapshot;y=y.value;try{if(!Fr(v(),y))return!1}catch{return!1}}if(u=c.child,c.subtreeFlags&16384&&u!==null)u.return=c,c=u;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Za(a,c,u,h){c&=~eb,c&=~hc,a.suspendedLanes|=c,a.pingedLanes&=~c,h&&(a.warmLanes|=c),h=a.expirationTimes;for(var y=c;0<y;){var v=31-or(y),N=1<<v;h[v]=-1,y&=~N}u!==0&&bC(a,u,c)}function Ig(){return(At&6)===0?(sf(0),!1):!0}function ab(){if(it!==null){if(Tt===0)var a=it.return;else a=it,Wi=oc=null,Cw(a),Fl=null,Kd=0,a=it;for(;a!==null;)FA(a.alternate,a),a=a.return;it=null}}function Yl(a,c){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,nU(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),ab(),Lt=a,it=u=Hi(a.current,null),ut=c,Tt=0,Vr=null,Ga=!1,Vl=vd(a,c),Jw=!1,Gl=ps=eb=hc=Wa=tn=0,vr=nf=null,tb=!1,(c&8)!==0&&(c|=c&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=c;0<h;){var y=31-or(h),v=1<<y;c|=a[y],h&=~v}return ta=c,Qp(),u}function l2(a,c){nt=null,R.H=mg,c===Ld||c===ag?(c=TS(),Tt=3):c===CS?(c=TS(),Tt=4):Tt=c===xA?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Vr=c,it===null&&(tn=1,Eg(a,ls(c,a.current)))}function u2(){var a=R.H;return R.H=mg,a===null?mg:a}function d2(){var a=R.A;return R.A=k6,a}function ob(){tn=4,Ga||(ut&4194048)!==ut&&hs.current!==null||(Vl=!0),(Wa&134217727)===0&&(hc&134217727)===0||Lt===null||Za(Lt,ut,ps,!1)}function cb(a,c,u){var h=At;At|=2;var y=u2(),v=d2();(Lt!==a||ut!==c)&&(Ng=null,Yl(a,c)),c=!1;var N=tn;e:do try{if(Tt!==0&&it!==null){var $=it,H=Vr;switch(Tt){case 8:ab(),N=6;break e;case 3:case 2:case 9:case 6:hs.current===null&&(c=!0);var J=Tt;if(Tt=0,Vr=null,Zl(a,$,H,J),u&&Vl){N=0;break e}break;default:J=Tt,Tt=0,Vr=null,Zl(a,$,H,J)}}L6(),N=tn;break}catch(ae){l2(a,ae)}while(!0);return c&&a.shellSuspendCounter++,Wi=oc=null,At=h,R.H=y,R.A=v,it===null&&(Lt=null,ut=0,Qp()),N}function L6(){for(;it!==null;)f2(it)}function j6(a,c){var u=At;At|=2;var h=u2(),y=d2();Lt!==a||ut!==c?(Ng=null,xg=ln()+500,Yl(a,c)):Vl=vd(a,c);e:do try{if(Tt!==0&&it!==null){c=it;var v=Vr;t:switch(Tt){case 1:Tt=0,Vr=null,Zl(a,c,v,1);break;case 2:case 9:if(SS(v)){Tt=0,Vr=null,h2(c);break}c=function(){Tt!==2&&Tt!==9||Lt!==a||(Tt=7),hi(a)},v.then(c,c);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:SS(v)?(Tt=0,Vr=null,h2(c)):(Tt=0,Vr=null,Zl(a,c,v,7));break;case 5:var N=null;switch(it.tag){case 26:N=it.memoizedState;case 5:case 27:var $=it;if(!N||K2(N)){Tt=0,Vr=null;var H=$.sibling;if(H!==null)it=H;else{var J=$.return;J!==null?(it=J,Rg(J)):it=null}break t}}Tt=0,Vr=null,Zl(a,c,v,5);break;case 6:Tt=0,Vr=null,Zl(a,c,v,6);break;case 8:ab(),tn=6;break e;default:throw Error(r(462))}}F6();break}catch(ae){l2(a,ae)}while(!0);return Wi=oc=null,R.H=h,R.A=y,At=u,it!==null?0:(Lt=null,ut=0,Qp(),tn)}function F6(){for(;it!==null&&!as();)f2(it)}function f2(a){var c=LA(a.alternate,a,ta);a.memoizedProps=a.pendingProps,c===null?Rg(a):it=c}function h2(a){var c=a,u=c.alternate;switch(c.tag){case 15:case 0:c=DA(u,c,c.pendingProps,c.type,void 0,ut);break;case 11:c=DA(u,c,c.pendingProps,c.type.render,c.ref,ut);break;case 5:Cw(c);default:FA(u,c),c=it=pS(c,ta),c=LA(u,c,ta)}a.memoizedProps=a.pendingProps,c===null?Rg(a):it=c}function Zl(a,c,u,h){Wi=oc=null,Cw(c),Fl=null,Kd=0;var y=c.return;try{if(R6(a,y,c,u,ut)){tn=1,Eg(a,ls(u,a.current)),it=null;return}}catch(v){if(y!==null)throw it=y,v;tn=1,Eg(a,ls(u,a.current)),it=null;return}c.flags&32768?(Et||h===1?a=!0:Vl||(ut&536870912)!==0?a=!1:(Ga=a=!0,(h===2||h===9||h===3||h===6)&&(h=hs.current,h!==null&&h.tag===13&&(h.flags|=16384))),p2(c,a)):Rg(c)}function Rg(a){var c=a;do{if((c.flags&32768)!==0){p2(c,Ga);return}a=c.return;var u=P6(c.alternate,c,ta);if(u!==null){it=u;return}if(c=c.sibling,c!==null){it=c;return}it=c=a}while(c!==null);tn===0&&(tn=5)}function p2(a,c){do{var u=D6(a.alternate,a);if(u!==null){u.flags&=32767,it=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!c&&(a=a.sibling,a!==null)){it=a;return}it=a=u}while(a!==null);tn=6,it=null}function g2(a,c,u,h,y,v,N,$,H){a.cancelPendingCommit=null;do Og();while(Mn!==0);if((At&6)!==0)throw Error(r(327));if(c!==null){if(c===a.current)throw Error(r(177));if(v=c.lanes|c.childLanes,v|=X0,b8(a,u,v,N,$,H),a===Lt&&(it=Lt=null,ut=0),Wl=c,Ya=a,Kl=u,rb=v,sb=y,i2=h,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,V6(lt,function(){return v2(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||h){h=R.T,R.T=null,y=F.p,F.p=2,N=At,At|=4;try{U6(a,c,u)}finally{At=N,F.p=y,R.T=h}}Mn=1,m2(),y2(),w2()}}function m2(){if(Mn===1){Mn=0;var a=Ya,c=Wl,u=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||u){u=R.T,R.T=null;var h=F.p;F.p=2;var y=At;At|=4;try{XA(c,a);var v=vb,N=sS(a.containerInfo),$=v.focusedElem,H=v.selectionRange;if(N!==$&&$&&$.ownerDocument&&rS($.ownerDocument.documentElement,$)){if(H!==null&&W0($)){var J=H.start,ae=H.end;if(ae===void 0&&(ae=J),"selectionStart"in $)$.selectionStart=J,$.selectionEnd=Math.min(ae,$.value.length);else{var le=$.ownerDocument||document,ne=le&&le.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ge=$.textContent.length,je=Math.min(H.start,Ge),Dt=H.end===void 0?je:Math.min(H.end,Ge);!re.extend&&je>Dt&&(N=Dt,Dt=je,je=N);var Z=nS($,je),Y=nS($,Dt);if(Z&&Y&&(re.rangeCount!==1||re.anchorNode!==Z.node||re.anchorOffset!==Z.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var Q=le.createRange();Q.setStart(Z.node,Z.offset),re.removeAllRanges(),je>Dt?(re.addRange(Q),re.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),re.addRange(Q))}}}}for(le=[],re=$;re=re.parentNode;)re.nodeType===1&&le.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<le.length;$++){var oe=le[$];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}qg=!!bb,vb=bb=null}finally{At=y,F.p=h,R.T=u}}a.current=c,Mn=2}}function y2(){if(Mn===2){Mn=0;var a=Ya,c=Wl,u=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||u){u=R.T,R.T=null;var h=F.p;F.p=2;var y=At;At|=4;try{KA(a,c.alternate,c)}finally{At=y,F.p=h,R.T=u}}Mn=3}}function w2(){if(Mn===4||Mn===3){Mn=0,gr();var a=Ya,c=Wl,u=Kl,h=i2;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Mn=5:(Mn=0,Wl=Ya=null,b2(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Ka=null),T0(u),c=c.stateNode,ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(oi,c,void 0,(c.current.flags&128)===128)}catch{}if(h!==null){c=R.T,y=F.p,F.p=2,R.T=null;try{for(var v=a.onRecoverableError,N=0;N<h.length;N++){var $=h[N];v($.value,{componentStack:$.stack})}}finally{R.T=c,F.p=y}}(Kl&3)!==0&&Og(),hi(a),y=a.pendingLanes,(u&4194090)!==0&&(y&42)!==0?a===ib?rf++:(rf=0,ib=a):rf=0,sf(0)}}function b2(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Md(c)))}function Og(a){return m2(),y2(),w2(),v2()}function v2(){if(Mn!==5)return!1;var a=Ya,c=rb;rb=0;var u=T0(Kl),h=R.T,y=F.p;try{F.p=32>u?32:u,R.T=null,u=sb,sb=null;var v=Ya,N=Kl;if(Mn=0,Wl=Ya=null,Kl=0,(At&6)!==0)throw Error(r(331));var $=At;if(At|=4,r2(v.current),e2(v,v.current,N,u),At=$,sf(0,!1),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(oi,v)}catch{}return!0}finally{F.p=y,R.T=h,b2(a,c)}}function E2(a,c,u){c=ls(u,c),c=Mw(a.stateNode,c,2),a=La(a,c,2),a!==null&&(Ed(a,2),hi(a))}function kt(a,c,u){if(a.tag===3)E2(a,a,u);else for(;c!==null;){if(c.tag===3){E2(c,a,u);break}else if(c.tag===1){var h=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ka===null||!Ka.has(h))){a=ls(u,a),u=AA(2),h=La(c,u,2),h!==null&&(TA(u,h,c,a),Ed(h,2),hi(h));break}}c=c.return}}function lb(a,c,u){var h=a.pingCache;if(h===null){h=a.pingCache=new M6;var y=new Set;h.set(c,y)}else y=h.get(c),y===void 0&&(y=new Set,h.set(c,y));y.has(u)||(Jw=!0,y.add(u),a=z6.bind(null,a,c,u),c.then(a,a))}function z6(a,c,u){var h=a.pingCache;h!==null&&h.delete(c),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Lt===a&&(ut&u)===u&&(tn===4||tn===3&&(ut&62914560)===ut&&300>ln()-nb?(At&2)===0&&Yl(a,0):eb|=u,Gl===ut&&(Gl=0)),hi(a)}function _2(a,c){c===0&&(c=wC()),a=Ol(a,c),a!==null&&(Ed(a,c),hi(a))}function q6(a){var c=a.memoizedState,u=0;c!==null&&(u=c.retryLane),_2(a,u)}function H6(a,c){var u=0;switch(a.tag){case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(c),_2(a,u)}function V6(a,c){return gn(a,c)}var Pg=null,Ql=null,ub=!1,Dg=!1,db=!1,pc=0;function hi(a){a!==Ql&&a.next===null&&(Ql===null?Pg=Ql=a:Ql=Ql.next=a),Dg=!0,ub||(ub=!0,W6())}function sf(a,c){if(!db&&Dg){db=!0;do for(var u=!1,h=Pg;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var v=0;else{var N=h.suspendedLanes,$=h.pingedLanes;v=(1<<31-or(42|a)+1)-1,v&=y&~(N&~$),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,T2(h,v))}else v=ut,v=Lp(h,h===Lt?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||vd(h,v)||(u=!0,T2(h,v));h=h.next}while(u);db=!1}}function G6(){C2()}function C2(){Dg=ub=!1;var a=0;pc!==0&&(tU()&&(a=pc),pc=0);for(var c=ln(),u=null,h=Pg;h!==null;){var y=h.next,v=S2(h,c);v===0?(h.next=null,u===null?Pg=y:u.next=y,y===null&&(Ql=u)):(u=h,(a!==0||(v&3)!==0)&&(Dg=!0)),h=y}sf(a)}function S2(a,c){for(var u=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var N=31-or(v),$=1<<N,H=y[N];H===-1?(($&u)===0||($&h)!==0)&&(y[N]=w8($,c)):H<=c&&(a.expiredLanes|=$),v&=~$}if(c=Lt,u=ut,u=Lp(a,a===c?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===c&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Sn(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||vd(a,u)){if(c=u&-u,c===a.callbackPriority)return c;switch(h!==null&&Sn(h),T0(u)){case 2:case 8:u=Da;break;case 32:u=lt;break;case 268435456:u=Fi;break;default:u=lt}return h=A2.bind(null,a),u=gn(u,h),a.callbackPriority=c,a.callbackNode=u,c}return h!==null&&h!==null&&Sn(h),a.callbackPriority=2,a.callbackNode=null,2}function A2(a,c){if(Mn!==0&&Mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Og()&&a.callbackNode!==u)return null;var h=ut;return h=Lp(a,a===Lt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(o2(a,h,c),S2(a,ln()),a.callbackNode!=null&&a.callbackNode===u?A2.bind(null,a):null)}function T2(a,c){if(Og())return null;o2(a,c,!0)}function W6(){rU(function(){(At&6)!==0?gn(Pa,G6):C2()})}function fb(){return pc===0&&(pc=yC()),pc}function x2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Hp(""+a)}function N2(a,c){var u=c.ownerDocument.createElement("input");return u.name=c.name,u.value=c.value,a.id&&u.setAttribute("form",a.id),c.parentNode.insertBefore(u,c),a=new FormData(a),u.parentNode.removeChild(u),a}function K6(a,c,u,h,y){if(c==="submit"&&u&&u.stateNode===y){var v=x2((y[mr]||null).action),N=h.submitter;N&&(c=(c=N[mr]||null)?x2(c.formAction):N.getAttribute("formAction"),c!==null&&(v=c,N=null));var $=new Kp("action","action",null,h,y);a.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(pc!==0){var H=N?N2(y,N):new FormData(y);Pw(u,{pending:!0,data:H,method:y.method,action:v},null,H)}}else typeof v=="function"&&($.preventDefault(),H=N?N2(y,N):new FormData(y),Pw(u,{pending:!0,data:H,method:y.method,action:v},v,H))},currentTarget:y}]})}}for(var hb=0;hb<Q0.length;hb++){var pb=Q0[hb],Y6=pb.toLowerCase(),Z6=pb[0].toUpperCase()+pb.slice(1);Ms(Y6,"on"+Z6)}Ms(oS,"onAnimationEnd"),Ms(cS,"onAnimationIteration"),Ms(lS,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(h6,"onTransitionRun"),Ms(p6,"onTransitionStart"),Ms(g6,"onTransitionCancel"),Ms(uS,"onTransitionEnd"),El("onMouseEnter",["mouseout","mouseover"]),El("onMouseLeave",["mouseout","mouseover"]),El("onPointerEnter",["pointerout","pointerover"]),El("onPointerLeave",["pointerout","pointerover"]),Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(af));function I2(a,c){c=(c&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],y=h.event;h=h.listeners;e:{var v=void 0;if(c)for(var N=h.length-1;0<=N;N--){var $=h[N],H=$.instance,J=$.currentTarget;if($=$.listener,H!==v&&y.isPropagationStopped())break e;v=$,y.currentTarget=J;try{v(y)}catch(ae){vg(ae)}y.currentTarget=null,v=H}else for(N=0;N<h.length;N++){if($=h[N],H=$.instance,J=$.currentTarget,$=$.listener,H!==v&&y.isPropagationStopped())break e;v=$,y.currentTarget=J;try{v(y)}catch(ae){vg(ae)}y.currentTarget=null,v=H}}}}function at(a,c){var u=c[x0];u===void 0&&(u=c[x0]=new Set);var h=a+"__bubble";u.has(h)||(R2(c,a,2,!1),u.add(h))}function gb(a,c,u){var h=0;c&&(h|=4),R2(u,a,h,c)}var Ug="_reactListening"+Math.random().toString(36).slice(2);function mb(a){if(!a[Ug]){a[Ug]=!0,CC.forEach(function(u){u!=="selectionchange"&&(Q6.has(u)||gb(u,!1,a),gb(u,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Ug]||(c[Ug]=!0,gb("selectionchange",!1,c))}}function R2(a,c,u,h){switch(eT(c)){case 2:var y=SU;break;case 8:y=AU;break;default:y=Rb}u=y.bind(null,c,u,a),y=void 0,!B0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(c,u,{capture:!0,passive:y}):a.addEventListener(c,u,!0):y!==void 0?a.addEventListener(c,u,{passive:y}):a.addEventListener(c,u,!1)}function yb(a,c,u,h,y){var v=h;if((c&1)===0&&(c&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var $=h.stateNode.containerInfo;if($===y)break;if(N===4)for(N=h.return;N!==null;){var H=N.tag;if((H===3||H===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;$!==null;){if(N=wl($),N===null)return;if(H=N.tag,H===5||H===6||H===26||H===27){h=v=N;continue e}$=$.parentNode}}h=h.return}MC(function(){var J=v,ae=k0(u),le=[];e:{var ne=dS.get(a);if(ne!==void 0){var re=Kp,Ge=a;switch(a){case"keypress":if(Gp(u)===0)break e;case"keydown":case"keyup":re=V8;break;case"focusin":Ge="focus",re=z0;break;case"focusout":Ge="blur",re=z0;break;case"beforeblur":case"afterblur":re=z0;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=jC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=D8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=K8;break;case oS:case cS:case lS:re=k8;break;case uS:re=Z8;break;case"scroll":case"scrollend":re=O8;break;case"wheel":re=X8;break;case"copy":case"cut":case"paste":re=B8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=zC;break;case"toggle":case"beforetoggle":re=e6}var je=(c&4)!==0,Dt=!je&&(a==="scroll"||a==="scrollend"),Z=je?ne!==null?ne+"Capture":null:ne;je=[];for(var Y=J,Q;Y!==null;){var oe=Y;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||Z===null||(oe=Sd(Y,Z),oe!=null&&je.push(of(Y,oe,Q))),Dt)break;Y=Y.return}0<je.length&&(ne=new re(ne,Ge,null,u,ae),le.push({event:ne,listeners:je}))}}if((c&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",ne&&u!==$0&&(Ge=u.relatedTarget||u.fromElement)&&(wl(Ge)||Ge[yl]))break e;if((re||ne)&&(ne=ae.window===ae?ae:(ne=ae.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ge=u.relatedTarget||u.toElement,re=J,Ge=Ge?wl(Ge):null,Ge!==null&&(Dt=i(Ge),je=Ge.tag,Ge!==Dt||je!==5&&je!==27&&je!==6)&&(Ge=null)):(re=null,Ge=J),re!==Ge)){if(je=jC,oe="onMouseLeave",Z="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(je=zC,oe="onPointerLeave",Z="onPointerEnter",Y="pointer"),Dt=re==null?ne:Cd(re),Q=Ge==null?ne:Cd(Ge),ne=new je(oe,Y+"leave",re,u,ae),ne.target=Dt,ne.relatedTarget=Q,oe=null,wl(ae)===J&&(je=new je(Z,Y+"enter",Ge,u,ae),je.target=Q,je.relatedTarget=Dt,oe=je),Dt=oe,re&&Ge)t:{for(je=re,Z=Ge,Y=0,Q=je;Q;Q=Xl(Q))Y++;for(Q=0,oe=Z;oe;oe=Xl(oe))Q++;for(;0<Y-Q;)je=Xl(je),Y--;for(;0<Q-Y;)Z=Xl(Z),Q--;for(;Y--;){if(je===Z||Z!==null&&je===Z.alternate)break t;je=Xl(je),Z=Xl(Z)}je=null}else je=null;re!==null&&O2(le,ne,re,je,!1),Ge!==null&&Dt!==null&&O2(le,Dt,Ge,je,!0)}}e:{if(ne=J?Cd(J):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Pe=ZC;else if(KC(ne))if(QC)Pe=u6;else{Pe=c6;var rt=o6}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?J&&U0(J.elementType)&&(Pe=ZC):Pe=l6;if(Pe&&(Pe=Pe(a,J))){YC(le,Pe,u,ae);break e}rt&&rt(a,ne,J),a==="focusout"&&J&&ne.type==="number"&&J.memoizedProps.value!=null&&D0(ne,"number",ne.value)}switch(rt=J?Cd(J):window,a){case"focusin":(KC(rt)||rt.contentEditable==="true")&&(Nl=rt,K0=J,Pd=null);break;case"focusout":Pd=K0=Nl=null;break;case"mousedown":Y0=!0;break;case"contextmenu":case"mouseup":case"dragend":Y0=!1,iS(le,u,ae);break;case"selectionchange":if(f6)break;case"keydown":case"keyup":iS(le,u,ae)}var $e;if(H0)e:{switch(a){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else xl?GC(a,u)&&(Fe="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Fe="onCompositionStart");Fe&&(qC&&u.locale!=="ko"&&(xl||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&xl&&($e=BC()):($a=ae,L0="value"in $a?$a.value:$a.textContent,xl=!0)),rt=$g(J,Fe),0<rt.length&&(Fe=new FC(Fe,a,null,u,ae),le.push({event:Fe,listeners:rt}),$e?Fe.data=$e:($e=WC(u),$e!==null&&(Fe.data=$e)))),($e=n6?r6(a,u):s6(a,u))&&(Fe=$g(J,"onBeforeInput"),0<Fe.length&&(rt=new FC("onBeforeInput","beforeinput",null,u,ae),le.push({event:rt,listeners:Fe}),rt.data=$e)),K6(le,a,J,u,ae)}I2(le,c)})}function of(a,c,u){return{instance:a,listener:c,currentTarget:u}}function $g(a,c){for(var u=c+"Capture",h=[];a!==null;){var y=a,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Sd(a,u),y!=null&&h.unshift(of(a,y,v)),y=Sd(a,c),y!=null&&h.push(of(a,y,v))),a.tag===3)return h;a=a.return}return[]}function Xl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function O2(a,c,u,h,y){for(var v=c._reactName,N=[];u!==null&&u!==h;){var $=u,H=$.alternate,J=$.stateNode;if($=$.tag,H!==null&&H===h)break;$!==5&&$!==26&&$!==27||J===null||(H=J,y?(J=Sd(u,v),J!=null&&N.unshift(of(u,J,H))):y||(J=Sd(u,v),J!=null&&N.push(of(u,J,H)))),u=u.return}N.length!==0&&a.push({event:c,listeners:N})}var X6=/\r\n?/g,J6=/\u0000|\uFFFD/g;function P2(a){return(typeof a=="string"?a:""+a).replace(X6,`
`).replace(J6,"")}function D2(a,c){return c=P2(c),P2(a)===c}function kg(){}function Pt(a,c,u,h,y,v){switch(u){case"children":typeof h=="string"?c==="body"||c==="textarea"&&h===""||Sl(a,h):(typeof h=="number"||typeof h=="bigint")&&c!=="body"&&Sl(a,""+h);break;case"className":Fp(a,"class",h);break;case"tabIndex":Fp(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Fp(a,u,h);break;case"style":$C(a,h,v);break;case"data":if(c!=="object"){Fp(a,"data",h);break}case"src":case"href":if(h===""&&(c!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Hp(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(c!=="input"&&Pt(a,c,"name",y.name,y,null),Pt(a,c,"formEncType",y.formEncType,y,null),Pt(a,c,"formMethod",y.formMethod,y,null),Pt(a,c,"formTarget",y.formTarget,y,null)):(Pt(a,c,"encType",y.encType,y,null),Pt(a,c,"method",y.method,y,null),Pt(a,c,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Hp(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=kg);break;case"onScroll":h!=null&&at("scroll",a);break;case"onScrollEnd":h!=null&&at("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=Hp(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":at("beforetoggle",a),at("toggle",a),jp(a,"popover",h);break;case"xlinkActuate":zi(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":zi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":zi(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":zi(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":zi(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":zi(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":zi(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":zi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":zi(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":jp(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=I8.get(u)||u,jp(a,u,h))}}function wb(a,c,u,h,y,v){switch(u){case"style":$C(a,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Sl(a,h):(typeof h=="number"||typeof h=="bigint")&&Sl(a,""+h);break;case"onScroll":h!=null&&at("scroll",a);break;case"onScrollEnd":h!=null&&at("scrollend",a);break;case"onClick":h!=null&&(a.onclick=kg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!SC.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),c=u.slice(2,y?u.length-7:void 0),v=a[mr]||null,v=v!=null?v[u]:null,typeof v=="function"&&a.removeEventListener(c,v,y),typeof h=="function")){typeof v!="function"&&v!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(c,h,y);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):jp(a,u,h)}}}function Bn(a,c,u){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",a),at("load",a);var h=!1,y=!1,v;for(v in u)if(u.hasOwnProperty(v)){var N=u[v];if(N!=null)switch(v){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Pt(a,c,v,N,u,null)}}y&&Pt(a,c,"srcSet",u.srcSet,u,null),h&&Pt(a,c,"src",u.src,u,null);return;case"input":at("invalid",a);var $=v=N=y=null,H=null,J=null;for(h in u)if(u.hasOwnProperty(h)){var ae=u[h];if(ae!=null)switch(h){case"name":y=ae;break;case"type":N=ae;break;case"checked":H=ae;break;case"defaultChecked":J=ae;break;case"value":v=ae;break;case"defaultValue":$=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:Pt(a,c,h,ae,u,null)}}OC(a,v,$,H,J,N,y,!1),zp(a);return;case"select":at("invalid",a),h=N=v=null;for(y in u)if(u.hasOwnProperty(y)&&($=u[y],$!=null))switch(y){case"value":v=$;break;case"defaultValue":N=$;break;case"multiple":h=$;default:Pt(a,c,y,$,u,null)}c=v,u=N,a.multiple=!!h,c!=null?Cl(a,!!h,c,!1):u!=null&&Cl(a,!!h,u,!0);return;case"textarea":at("invalid",a),v=y=h=null;for(N in u)if(u.hasOwnProperty(N)&&($=u[N],$!=null))switch(N){case"value":h=$;break;case"defaultValue":y=$;break;case"children":v=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Pt(a,c,N,$,u,null)}DC(a,h,y,v),zp(a);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(h=u[H],h!=null))switch(H){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Pt(a,c,H,h,u,null)}return;case"dialog":at("beforetoggle",a),at("toggle",a),at("cancel",a),at("close",a);break;case"iframe":case"object":at("load",a);break;case"video":case"audio":for(h=0;h<af.length;h++)at(af[h],a);break;case"image":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"embed":case"source":case"link":at("error",a),at("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(h=u[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Pt(a,c,J,h,u,null)}return;default:if(U0(c)){for(ae in u)u.hasOwnProperty(ae)&&(h=u[ae],h!==void 0&&wb(a,c,ae,h,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(h=u[$],h!=null&&Pt(a,c,$,h,u,null))}function eU(a,c,u,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,N=null,$=null,H=null,J=null,ae=null;for(re in u){var le=u[re];if(u.hasOwnProperty(re)&&le!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=le;default:h.hasOwnProperty(re)||Pt(a,c,re,null,h,le)}}for(var ne in h){var re=h[ne];if(le=u[ne],h.hasOwnProperty(ne)&&(re!=null||le!=null))switch(ne){case"type":v=re;break;case"name":y=re;break;case"checked":J=re;break;case"defaultChecked":ae=re;break;case"value":N=re;break;case"defaultValue":$=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,c));break;default:re!==le&&Pt(a,c,ne,re,h,le)}}P0(a,N,$,H,J,ae,v,y);return;case"select":re=N=$=ne=null;for(v in u)if(H=u[v],u.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":re=H;default:h.hasOwnProperty(v)||Pt(a,c,v,null,h,H)}for(y in h)if(v=h[y],H=u[y],h.hasOwnProperty(y)&&(v!=null||H!=null))switch(y){case"value":ne=v;break;case"defaultValue":$=v;break;case"multiple":N=v;default:v!==H&&Pt(a,c,y,v,h,H)}c=$,u=N,h=re,ne!=null?Cl(a,!!u,ne,!1):!!h!=!!u&&(c!=null?Cl(a,!!u,c,!0):Cl(a,!!u,u?[]:"",!1));return;case"textarea":re=ne=null;for($ in u)if(y=u[$],u.hasOwnProperty($)&&y!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Pt(a,c,$,null,h,y)}for(N in h)if(y=h[N],v=u[N],h.hasOwnProperty(N)&&(y!=null||v!=null))switch(N){case"value":ne=y;break;case"defaultValue":re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&Pt(a,c,N,y,h,v)}PC(a,ne,re);return;case"option":for(var Ge in u)if(ne=u[Ge],u.hasOwnProperty(Ge)&&ne!=null&&!h.hasOwnProperty(Ge))switch(Ge){case"selected":a.selected=!1;break;default:Pt(a,c,Ge,null,h,ne)}for(H in h)if(ne=h[H],re=u[H],h.hasOwnProperty(H)&&ne!==re&&(ne!=null||re!=null))switch(H){case"selected":a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Pt(a,c,H,ne,h,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in u)ne=u[je],u.hasOwnProperty(je)&&ne!=null&&!h.hasOwnProperty(je)&&Pt(a,c,je,null,h,ne);for(J in h)if(ne=h[J],re=u[J],h.hasOwnProperty(J)&&ne!==re&&(ne!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,c));break;default:Pt(a,c,J,ne,h,re)}return;default:if(U0(c)){for(var Dt in u)ne=u[Dt],u.hasOwnProperty(Dt)&&ne!==void 0&&!h.hasOwnProperty(Dt)&&wb(a,c,Dt,void 0,h,ne);for(ae in h)ne=h[ae],re=u[ae],!h.hasOwnProperty(ae)||ne===re||ne===void 0&&re===void 0||wb(a,c,ae,ne,h,re);return}}for(var Z in u)ne=u[Z],u.hasOwnProperty(Z)&&ne!=null&&!h.hasOwnProperty(Z)&&Pt(a,c,Z,null,h,ne);for(le in h)ne=h[le],re=u[le],!h.hasOwnProperty(le)||ne===re||ne==null&&re==null||Pt(a,c,le,ne,h,re)}var bb=null,vb=null;function Mg(a){return a.nodeType===9?a:a.ownerDocument}function U2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $2(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Eb(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var _b=null;function tU(){var a=window.event;return a&&a.type==="popstate"?a===_b?!1:(_b=a,!0):(_b=null,!1)}var k2=typeof setTimeout=="function"?setTimeout:void 0,nU=typeof clearTimeout=="function"?clearTimeout:void 0,M2=typeof Promise=="function"?Promise:void 0,rU=typeof queueMicrotask=="function"?queueMicrotask:typeof M2<"u"?function(a){return M2.resolve(null).then(a).catch(sU)}:k2;function sU(a){setTimeout(function(){throw a})}function Qa(a){return a==="head"}function B2(a,c){var u=c,h=0,y=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<h&&8>h){u=h;var N=a.ownerDocument;if(u&1&&cf(N.documentElement),u&2&&cf(N.body),u&4)for(u=N.head,cf(u),N=u.firstChild;N;){var $=N.nextSibling,H=N.nodeName;N[_d]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=$}}if(y===0){a.removeChild(v),mf(c);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:h=u.charCodeAt(0)-48;else h=0;u=v}while(u);mf(c)}function Cb(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var u=c;switch(c=c.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Cb(u),N0(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function iU(a,c,u,h){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[_d])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Ls(a.nextSibling),a===null)break}return null}function aU(a,c,u){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ls(a.nextSibling),a===null))return null;return a}function Sb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function oU(a,c){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")c();else{var h=function(){c(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ls(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var Ab=null;function L2(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(c===0)return a;c--}else u==="/$"&&c++}a=a.previousSibling}return null}function j2(a,c,u){switch(c=Mg(u),a){case"html":if(a=c.documentElement,!a)throw Error(r(452));return a;case"head":if(a=c.head,!a)throw Error(r(453));return a;case"body":if(a=c.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function cf(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);N0(a)}var gs=new Map,F2=new Set;function Bg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var na=F.d;F.d={f:cU,r:lU,D:uU,C:dU,L:fU,m:hU,X:gU,S:pU,M:mU};function cU(){var a=na.f(),c=Ig();return a||c}function lU(a){var c=bl(a);c!==null&&c.tag===5&&c.type==="form"?oA(c):na.r(a)}var Jl=typeof document>"u"?null:document;function z2(a,c,u){var h=Jl;if(h&&typeof c=="string"&&c){var y=cs(c);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),F2.has(y)||(F2.add(y),a={rel:a,crossOrigin:u,href:c},h.querySelector(y)===null&&(c=h.createElement("link"),Bn(c,"link",a),An(c),h.head.appendChild(c)))}}function uU(a){na.D(a),z2("dns-prefetch",a,null)}function dU(a,c){na.C(a,c),z2("preconnect",a,c)}function fU(a,c,u){na.L(a,c,u);var h=Jl;if(h&&a&&c){var y='link[rel="preload"][as="'+cs(c)+'"]';c==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+cs(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+cs(u.imageSizes)+'"]')):y+='[href="'+cs(a)+'"]';var v=y;switch(c){case"style":v=eu(a);break;case"script":v=tu(a)}gs.has(v)||(a=p({rel:"preload",href:c==="image"&&u&&u.imageSrcSet?void 0:a,as:c},u),gs.set(v,a),h.querySelector(y)!==null||c==="style"&&h.querySelector(lf(v))||c==="script"&&h.querySelector(uf(v))||(c=h.createElement("link"),Bn(c,"link",a),An(c),h.head.appendChild(c)))}}function hU(a,c){na.m(a,c);var u=Jl;if(u&&a){var h=c&&typeof c.as=="string"?c.as:"script",y='link[rel="modulepreload"][as="'+cs(h)+'"][href="'+cs(a)+'"]',v=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=tu(a)}if(!gs.has(v)&&(a=p({rel:"modulepreload",href:a},c),gs.set(v,a),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(uf(v)))return}h=u.createElement("link"),Bn(h,"link",a),An(h),u.head.appendChild(h)}}}function pU(a,c,u){na.S(a,c,u);var h=Jl;if(h&&a){var y=vl(h).hoistableStyles,v=eu(a);c=c||"default";var N=y.get(v);if(!N){var $={loading:0,preload:null};if(N=h.querySelector(lf(v)))$.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":c},u),(u=gs.get(v))&&Tb(a,u);var H=N=h.createElement("link");An(H),Bn(H,"link",a),H._p=new Promise(function(J,ae){H.onload=J,H.onerror=ae}),H.addEventListener("load",function(){$.loading|=1}),H.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Lg(N,c,h)}N={type:"stylesheet",instance:N,count:1,state:$},y.set(v,N)}}}function gU(a,c){na.X(a,c);var u=Jl;if(u&&a){var h=vl(u).hoistableScripts,y=tu(a),v=h.get(y);v||(v=u.querySelector(uf(y)),v||(a=p({src:a,async:!0},c),(c=gs.get(y))&&xb(a,c),v=u.createElement("script"),An(v),Bn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function mU(a,c){na.M(a,c);var u=Jl;if(u&&a){var h=vl(u).hoistableScripts,y=tu(a),v=h.get(y);v||(v=u.querySelector(uf(y)),v||(a=p({src:a,async:!0,type:"module"},c),(c=gs.get(y))&&xb(a,c),v=u.createElement("script"),An(v),Bn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function q2(a,c,u,h){var y=(y=se.current)?Bg(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(c=eu(u.href),u=vl(y).hoistableStyles,h=u.get(c),h||(h={type:"style",instance:null,count:0,state:null},u.set(c,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=eu(u.href);var v=vl(y).hoistableStyles,N=v.get(a);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,N),(v=y.querySelector(lf(a)))&&!v._p&&(N.instance=v,N.state.loading=5),gs.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},gs.set(a,u),v||yU(y,a,u,N.state))),c&&h===null)throw Error(r(528,""));return N}if(c&&h!==null)throw Error(r(529,""));return null;case"script":return c=u.async,u=u.src,typeof u=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=tu(u),u=vl(y).hoistableScripts,h=u.get(c),h||(h={type:"script",instance:null,count:0,state:null},u.set(c,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function eu(a){return'href="'+cs(a)+'"'}function lf(a){return'link[rel="stylesheet"]['+a+"]"}function H2(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function yU(a,c,u,h){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?h.loading=1:(c=a.createElement("link"),h.preload=c,c.addEventListener("load",function(){return h.loading|=1}),c.addEventListener("error",function(){return h.loading|=2}),Bn(c,"link",u),An(c),a.head.appendChild(c))}function tu(a){return'[src="'+cs(a)+'"]'}function uf(a){return"script[async]"+a}function V2(a,c,u){if(c.count++,c.instance===null)switch(c.type){case"style":var h=a.querySelector('style[data-href~="'+cs(u.href)+'"]');if(h)return c.instance=h,An(h),h;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),An(h),Bn(h,"style",y),Lg(h,u.precedence,a),c.instance=h;case"stylesheet":y=eu(u.href);var v=a.querySelector(lf(y));if(v)return c.state.loading|=4,c.instance=v,An(v),v;h=H2(u),(y=gs.get(y))&&Tb(h,y),v=(a.ownerDocument||a).createElement("link"),An(v);var N=v;return N._p=new Promise(function($,H){N.onload=$,N.onerror=H}),Bn(v,"link",h),c.state.loading|=4,Lg(v,u.precedence,a),c.instance=v;case"script":return v=tu(u.src),(y=a.querySelector(uf(v)))?(c.instance=y,An(y),y):(h=u,(y=gs.get(v))&&(h=p({},u),xb(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),An(y),Bn(y,"link",h),a.head.appendChild(y),c.instance=y);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(h=c.instance,c.state.loading|=4,Lg(h,u.precedence,a));return c.instance}function Lg(a,c,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,v=y,N=0;N<h.length;N++){var $=h[N];if($.dataset.precedence===c)v=$;else if(v!==y)break}v?v.parentNode.insertBefore(a,v.nextSibling):(c=u.nodeType===9?u.head:u,c.insertBefore(a,c.firstChild))}function Tb(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function xb(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var jg=null;function G2(a,c,u){if(jg===null){var h=new Map,y=jg=new Map;y.set(u,h)}else y=jg,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var v=u[y];if(!(v[_d]||v[Yn]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(c)||"";N=a+N;var $=h.get(N);$?$.push(v):h.set(N,[v])}}return h}function W2(a,c,u){a=a.ownerDocument||a,a.head.insertBefore(u,c==="title"?a.querySelector("head > title"):null)}function wU(a,c,u){if(u===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function K2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var df=null;function bU(){}function vU(a,c,u){if(df===null)throw Error(r(475));var h=df;if(c.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=eu(u.href),v=a.querySelector(lf(y));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(h.count++,h=Fg.bind(h),a.then(h,h)),c.state.loading|=4,c.instance=v,An(v);return}v=a.ownerDocument||a,u=H2(u),(y=gs.get(y))&&Tb(u,y),v=v.createElement("link"),An(v);var N=v;N._p=new Promise(function($,H){N.onload=$,N.onerror=H}),Bn(v,"link",u),c.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(h.count++,c=Fg.bind(h),a.addEventListener("load",c),a.addEventListener("error",c))}}function EU(){if(df===null)throw Error(r(475));var a=df;return a.stylesheets&&a.count===0&&Nb(a,a.stylesheets),0<a.count?function(c){var u=setTimeout(function(){if(a.stylesheets&&Nb(a,a.stylesheets),a.unsuspend){var h=a.unsuspend;a.unsuspend=null,h()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Fg(){if(this.count--,this.count===0){if(this.stylesheets)Nb(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var zg=null;function Nb(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,zg=new Map,c.forEach(_U,a),zg=null,Fg.call(a))}function _U(a,c){if(!(c.state.loading&4)){var u=zg.get(a);if(u)var h=u.get(null);else{u=new Map,zg.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var N=y[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),h=N)}h&&u.set(null,h)}y=c.instance,N=y.getAttribute("data-precedence"),v=u.get(N)||h,v===h&&u.set(null,y),u.set(N,y),this.count++,h=Fg.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),v?v.parentNode.insertBefore(y,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),c.state.loading|=4}}var ff={$$typeof:A,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function CU(a,c,u,h,y,v,N,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=S0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S0(0),this.hiddenUpdates=S0(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Y2(a,c,u,h,y,v,N,$,H,J,ae,le){return a=new CU(a,c,u,N,$,H,J,le),c=1,v===!0&&(c|=24),v=zr(3,null,null,c),a.current=v,v.stateNode=a,c=lw(),c.refCount++,a.pooledCache=c,c.refCount++,v.memoizedState={element:h,isDehydrated:u,cache:c},hw(v),a}function Z2(a){return a?(a=Pl,a):Pl}function Q2(a,c,u,h,y,v){y=Z2(y),h.context===null?h.context=y:h.pendingContext=y,h=Ba(c),h.payload={element:u},v=v===void 0?null:v,v!==null&&(h.callback=v),u=La(a,h,c),u!==null&&(Wr(u,a,c),Fd(u,a,c))}function X2(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<c?u:c}}function Ib(a,c){X2(a,c),(a=a.alternate)&&X2(a,c)}function J2(a){if(a.tag===13){var c=Ol(a,67108864);c!==null&&Wr(c,a,67108864),Ib(a,67108864)}}var qg=!0;function SU(a,c,u,h){var y=R.T;R.T=null;var v=F.p;try{F.p=2,Rb(a,c,u,h)}finally{F.p=v,R.T=y}}function AU(a,c,u,h){var y=R.T;R.T=null;var v=F.p;try{F.p=8,Rb(a,c,u,h)}finally{F.p=v,R.T=y}}function Rb(a,c,u,h){if(qg){var y=Ob(h);if(y===null)yb(a,c,h,Hg,u),tT(a,h);else if(xU(y,a,c,u,h))h.stopPropagation();else if(tT(a,h),c&4&&-1<TU.indexOf(a)){for(;y!==null;){var v=bl(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=Qo(v.pendingLanes);if(N!==0){var $=v;for($.pendingLanes|=2,$.entangledLanes|=2;N;){var H=1<<31-or(N);$.entanglements[1]|=H,N&=~H}hi(v),(At&6)===0&&(xg=ln()+500,sf(0))}}break;case 13:$=Ol(v,2),$!==null&&Wr($,v,2),Ig(),Ib(v,2)}if(v=Ob(h),v===null&&yb(a,c,h,Hg,u),v===y)break;y=v}y!==null&&h.stopPropagation()}else yb(a,c,h,null,u)}}function Ob(a){return a=k0(a),Pb(a)}var Hg=null;function Pb(a){if(Hg=null,a=wl(a),a!==null){var c=i(a);if(c===null)a=null;else{var u=c.tag;if(u===13){if(a=o(c),a!==null)return a;a=null}else if(u===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Hg=a,null}function eT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oa()){case Pa:return 2;case Da:return 8;case lt:case Zt:return 32;case Fi:return 268435456;default:return 32}default:return 32}}var Db=!1,Xa=null,Ja=null,eo=null,hf=new Map,pf=new Map,to=[],TU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tT(a,c){switch(a){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":hf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(c.pointerId)}}function gf(a,c,u,h,y,v){return a===null||a.nativeEvent!==v?(a={blockedOn:c,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},c!==null&&(c=bl(c),c!==null&&J2(c)),a):(a.eventSystemFlags|=h,c=a.targetContainers,y!==null&&c.indexOf(y)===-1&&c.push(y),a)}function xU(a,c,u,h,y){switch(c){case"focusin":return Xa=gf(Xa,a,c,u,h,y),!0;case"dragenter":return Ja=gf(Ja,a,c,u,h,y),!0;case"mouseover":return eo=gf(eo,a,c,u,h,y),!0;case"pointerover":var v=y.pointerId;return hf.set(v,gf(hf.get(v)||null,a,c,u,h,y)),!0;case"gotpointercapture":return v=y.pointerId,pf.set(v,gf(pf.get(v)||null,a,c,u,h,y)),!0}return!1}function nT(a){var c=wl(a.target);if(c!==null){var u=i(c);if(u!==null){if(c=u.tag,c===13){if(c=o(u),c!==null){a.blockedOn=c,v8(a.priority,function(){if(u.tag===13){var h=Gr();h=A0(h);var y=Ol(u,h);y!==null&&Wr(y,u,h),Ib(u,h)}});return}}else if(c===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Vg(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var u=Ob(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);$0=h,u.target.dispatchEvent(h),$0=null}else return c=bl(u),c!==null&&J2(c),a.blockedOn=u,!1;c.shift()}return!0}function rT(a,c,u){Vg(a)&&u.delete(c)}function NU(){Db=!1,Xa!==null&&Vg(Xa)&&(Xa=null),Ja!==null&&Vg(Ja)&&(Ja=null),eo!==null&&Vg(eo)&&(eo=null),hf.forEach(rT),pf.forEach(rT)}function Gg(a,c){a.blockedOn===c&&(a.blockedOn=null,Db||(Db=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NU)))}var Wg=null;function sT(a){Wg!==a&&(Wg=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wg===a&&(Wg=null);for(var c=0;c<a.length;c+=3){var u=a[c],h=a[c+1],y=a[c+2];if(typeof h!="function"){if(Pb(h||u)===null)continue;break}var v=bl(u);v!==null&&(a.splice(c,3),c-=3,Pw(v,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function mf(a){function c(H){return Gg(H,a)}Xa!==null&&Gg(Xa,a),Ja!==null&&Gg(Ja,a),eo!==null&&Gg(eo,a),hf.forEach(c),pf.forEach(c);for(var u=0;u<to.length;u++){var h=to[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<to.length&&(u=to[0],u.blockedOn===null);)nT(u),u.blockedOn===null&&to.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],v=u[h+1],N=y[mr]||null;if(typeof v=="function")N||sT(u);else if(N){var $=null;if(v&&v.hasAttribute("formAction")){if(y=v,N=v[mr]||null)$=N.formAction;else if(Pb(y)!==null)continue}else $=N.action;typeof $=="function"?u[h+1]=$:(u.splice(h,3),h-=3),sT(u)}}}function Ub(a){this._internalRoot=a}Kg.prototype.render=Ub.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(r(409));var u=c.current,h=Gr();Q2(u,h,a,c,null,null)},Kg.prototype.unmount=Ub.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Q2(a.current,2,null,a,null,null),Ig(),c[yl]=null}};function Kg(a){this._internalRoot=a}Kg.prototype.unstable_scheduleHydration=function(a){if(a){var c=EC();a={blockedOn:null,target:a,priority:c};for(var u=0;u<to.length&&c!==0&&c<to[u].priority;u++);to.splice(u,0,a),u===0&&nT(a)}};var iT=e.version;if(iT!=="19.1.0")throw Error(r(527,iT,"19.1.0"));F.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(c),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var IU={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yg.isDisabled&&Yg.supportsFiber)try{oi=Yg.inject(IU),ar=Yg}catch{}}return wf.createRoot=function(a,c){if(!s(a))throw Error(r(299));var u=!1,h="",y=EA,v=_A,N=CA,$=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(h=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(v=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&($=c.unstable_transitionCallbacks)),c=Y2(a,1,!1,null,null,u,h,y,v,N,$,null),a[yl]=c.current,mb(a),new Ub(c)},wf.hydrateRoot=function(a,c,u){if(!s(a))throw Error(r(299));var h=!1,y="",v=EA,N=_A,$=CA,H=null,J=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks),u.formState!==void 0&&(J=u.formState)),c=Y2(a,1,!0,c,u??null,h,y,v,N,$,H,J),c.context=Z2(null),u=c.current,h=Gr(),h=A0(h),y=Ba(h),y.callback=null,La(u,y,h),u=h,c.current.lanes=u,Ed(c,u),hi(c),a[yl]=c.current,mb(a),new Kg(c)},wf.version="19.1.0",wf}var mT;function LU(){if(mT)return Bb.exports;mT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bb.exports=BU(),Bb.exports}var jU=LU();function oO(t){if(Array.isArray(t))return t.flatMap(p=>oO(p));if(typeof t!="string")return[];const e=[];let n=0,r,s,i,o,l;const d=()=>{for(;n<t.length&&/\s/.test(t.charAt(n));)n+=1;return n<t.length},f=()=>(s=t.charAt(n),s!=="="&&s!==";"&&s!==",");for(;n<t.length;){for(r=n,l=!1;d();)if(s=t.charAt(n),s===","){for(i=n,n+=1,d(),o=n;n<t.length&&f();)n+=1;n<t.length&&t.charAt(n)==="="?(l=!0,n=o,e.push(t.slice(r,i)),r=n):n=i+1}else n+=1;(!l||n>=t.length)&&e.push(t.slice(r,t.length))}return e}function FU(t){return t instanceof Headers?new Headers(t):Array.isArray(t)?new Headers(t):typeof t=="object"?new Headers(t):new Headers}function zU(...t){return t.reduce((e,n)=>{const r=FU(n);for(const[s,i]of r.entries())s==="set-cookie"?oO(i).forEach(l=>e.append("set-cookie",l)):e.set(s,i);return e},new Headers)}const Iu=new WeakMap,Om=new WeakMap,Wm={current:[]};let zb=!1,Xf=0;const zf=new Set,Qg=new Map;function cO(t){const e=Array.from(t).sort((n,r)=>n instanceof Ru&&n.options.deps.includes(r)?1:r instanceof Ru&&r.options.deps.includes(n)?-1:0);for(const n of e){if(Wm.current.includes(n))continue;Wm.current.push(n),n.recompute();const r=Om.get(n);if(r)for(const s of r){const i=Iu.get(s);i&&cO(i)}}}function qU(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function HU(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function lO(t){if(Xf>0&&!Qg.has(t)&&Qg.set(t,t.prevState),zf.add(t),!(Xf>0)&&!zb)try{for(zb=!0;zf.size>0;){const e=Array.from(zf);zf.clear();for(const n of e){const r=Qg.get(n)??n.prevState;n.prevState=r,qU(n)}for(const n of e){const r=Iu.get(n);r&&(Wm.current.push(n),cO(r))}for(const n of e){const r=Iu.get(n);if(r)for(const s of r)HU(s)}}}finally{zb=!1,Wm.current=[],Qg.clear()}}function yT(t){Xf++;try{t()}finally{if(Xf--,Xf===0){const e=Array.from(zf)[0];e&&lO(e)}}}function VU(t){return typeof t=="function"}class EE{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var s,i;this.listeners.add(r);const o=(i=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:i.call(s,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,r,s;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):VU(e)?this.state=e(this.prevState):this.state=e,(s=(r=this.options)==null?void 0:r.onUpdate)==null||s.call(r),lO(this)}}class Ru{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const s of this.options.deps)n.push(s.prevState),r.push(s.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:s,currDepVals:i,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:s,currDepVals:i,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof Ru&&i.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:s}=this.getDepVals();for(let i=0;i<s.length;i++)if(s[i]!==r[i]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,s;this.listeners.add(n);const i=(s=(r=this.options).onSubscribe)==null?void 0:s.call(r,n,this);return()=>{this.listeners.delete(n),i==null||i()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof Ru)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof EE){let r=Iu.get(n);r||(r=new Set,Iu.set(n,r)),r.add(this);let s=Om.get(this);s||(s=new Set,Om.set(this,s)),s.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof Ru)this.unregisterFromGraph(n.options.deps);else if(n instanceof EE){const r=Iu.get(n);r&&r.delete(this);const s=Om.get(this);s&&s.delete(n)}}}const Uo="__TSR_index",wT="popstate",bT="beforeunload";function uO(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:o}))},s=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},i=async({task:o,navigateOpts:l,...d})=>{var f,p;if((l==null?void 0:l.ignoreBlocker)??!1){o();return}const m=((f=t.getBlockers)==null?void 0:f.call(t))??[],b=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&m.length&&b)for(const w of m){const E=wh(d.path,d.state);if(await w.blockerFn({currentLocation:e,nextLocation:E,action:d.type})){(p=t.onBlocked)==null||p.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,d)=>{const f=e.state[Uo];l=_E(f+1,l),i({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:o,state:l})},replace:(o,l,d)=>{const f=e.state[Uo];l=_E(f,l),i({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:o,state:l})},go:(o,l)=>{i({task:()=>{t.go(o),s({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{i({task:()=>{t.back((o==null?void 0:o.ignoreBlocker)??!1),s({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{i({task:()=>{t.forward((o==null?void 0:o.ignoreBlocker)??!1),s({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Uo]!==0,createHref:o=>t.createHref(o),block:o=>{var l;if(!t.setBlockers)return()=>{};const d=((l=t.getBlockers)==null?void 0:l.call(t))??[];return t.setBlockers([...d,o]),()=>{var f,p;const g=((f=t.getBlockers)==null?void 0:f.call(t))??[];(p=t.setBlockers)==null||p.call(t,g.filter(m=>m!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function _E(t,e){return e||(e={}),{...e,key:e_(),[Uo]:t}}function GU(t){var e;const n=typeof document<"u"?window:void 0,r=n.history.pushState,s=n.history.replaceState;let i=[];const o=()=>i,l=S=>i=S,d=S=>S,f=()=>wh(`${n.location.pathname}${n.location.search}${n.location.hash}`,n.history.state);(e=n.history.state)!=null&&e.key||n.history.replaceState({[Uo]:0,key:e_()},"");let p=f(),g,m=!1,b=!1,w=!1,E=!1;const _=()=>p;let C,I;const A=()=>{C&&(U._ignoreSubscribers=!0,(C.isPush?n.history.pushState:n.history.replaceState)(C.state,"",C.href),U._ignoreSubscribers=!1,C=void 0,I=void 0,g=void 0)},O=(S,B,L)=>{const z=d(B);I||(g=p),p=wh(B,L),C={href:z,state:L,isPush:(C==null?void 0:C.isPush)||S==="push"},I||(I=Promise.resolve().then(()=>A()))},x=S=>{p=f(),U.notify({type:S})},T=async()=>{if(b){b=!1;return}const S=f(),B=S.state[Uo]-p.state[Uo],L=B===1,z=B===-1,K=!L&&!z||m;m=!1;const G=K?"GO":z?"BACK":"FORWARD",k=K?{type:"GO",index:B}:{type:z?"BACK":"FORWARD"};if(w)w=!1;else{const R=o();if(typeof document<"u"&&R.length){for(const F of R)if(await F.blockerFn({currentLocation:p,nextLocation:S,action:G})){b=!0,n.history.go(1),U.notify(k);return}}}p=f(),U.notify(k)},P=S=>{if(E){E=!1;return}let B=!1;const L=o();if(typeof document<"u"&&L.length)for(const z of L){const K=z.enableBeforeUnload??!0;if(K===!0){B=!0;break}if(typeof K=="function"&&K()===!0){B=!0;break}}if(B)return S.preventDefault(),S.returnValue=""},U=uO({getLocation:_,getLength:()=>n.history.length,pushState:(S,B)=>O("push",S,B),replaceState:(S,B)=>O("replace",S,B),back:S=>(S&&(w=!0),E=!0,n.history.back()),forward:S=>{S&&(w=!0),E=!0,n.history.forward()},go:S=>{m=!0,n.history.go(S)},createHref:S=>d(S),flush:A,destroy:()=>{n.history.pushState=r,n.history.replaceState=s,n.removeEventListener(bT,P,{capture:!0}),n.removeEventListener(wT,T)},onBlocked:()=>{g&&p!==g&&(p=g)},getBlockers:o,setBlockers:l,notifyOnIndexChange:!1});return n.addEventListener(bT,P,{capture:!0}),n.addEventListener(wT,T),n.history.pushState=function(...S){const B=r.apply(n.history,S);return U._ignoreSubscribers||x("PUSH"),B},n.history.replaceState=function(...S){const B=s.apply(n.history,S);return U._ignoreSubscribers||x("REPLACE"),B},U}function WU(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((i,o)=>_E(o,void 0));return uO({getLocation:()=>wh(e[n],r[n]),getLength:()=>e.length,pushState:(i,o)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(o),e.push(i),n=Math.max(e.length-1,0)},replaceState:(i,o)=>{r[n]=o,e[n]=i},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:i=>{n=Math.min(Math.max(n+i,0),e.length-1)},createHref:i=>i})}function wh(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Uo]:0,key:e_()}}}function e_(){return(Math.random()+1).toString(36).substring(7)}var KU="Invariant failed";function Is(t,e){if(!t)throw new Error(KU)}function CE(t){return t[t.length-1]}function YU(t){return typeof t=="function"}function Fc(t,e){return YU(t)?t(e):t}function SE(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Es(t,e){if(t===e)return t;const n=e,r=_T(t)&&_T(n);if(r||vT(t)&&vT(n)){const s=r?t:Object.keys(t).concat(Object.getOwnPropertySymbols(t)),i=s.length,o=r?n:Object.keys(n).concat(Object.getOwnPropertySymbols(n)),l=o.length,d=r?[]:{};let f=0;for(let p=0;p<l;p++){const g=r?p:o[p];(!r&&s.includes(g)||r)&&t[g]===void 0&&n[g]===void 0?(d[g]=void 0,f++):(d[g]=Es(t[g],n[g]),d[g]===t[g]&&t[g]!==void 0&&f++)}return i===l&&f===i?t:d}return n}function vT(t){return va(t)&&Object.getOwnPropertyNames(t).length===Object.keys(t).length}function va(t){if(!ET(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!ET(n)||!n.hasOwnProperty("isPrototypeOf"))}function ET(t){return Object.prototype.toString.call(t)==="[object Object]"}function _T(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function CT(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function Ou(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(va(t)&&va(e)){const r=(n==null?void 0:n.ignoreUndefined)??!0,s=CT(t,r),i=CT(e,r);return!(n!=null&&n.partial)&&s.length!==i.length?!1:i.every(o=>Ou(t[o],e[o],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,s)=>!Ou(r,e[s],n)):!1}function Eu(t){let e,n;const r=new Promise((s,i)=>{e=s,n=i});return r.status="pending",r.resolve=s=>{r.status="resolved",r.value=s,e(s),t==null||t(s)},r.reject=s=>{r.status="rejected",n(s)},r}function Ri(t){return By(t.filter(e=>e!==void 0).join("/"))}function By(t){return t.replace(/\/{2,}/g,"/")}function t_(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Gu(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function qb(t){return Gu(t_(t))}function Km(t,e){return t!=null&&t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function ZU(t,e,n){return Km(t,n)===Km(e,n)}function QU({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:s}){var i,o;e=Ym(t,e,s),n=Ym(t,n,s);let l=Wu(e);const d=Wu(n);l.length>1&&((i=CE(l))==null?void 0:i.value)==="/"&&l.pop(),d.forEach((g,m)=>{g.value==="/"?m?m===d.length-1&&l.push(g):l=[g]:g.value===".."?l.pop():g.value==="."||l.push(g)}),l.length>1&&(((o=CE(l))==null?void 0:o.value)==="/"?r==="never"&&l.pop():r==="always"&&l.push({type:"pathname",value:"/"}));const f=l.map(g=>{if(g.type==="param"){const m=g.value.substring(1);if(g.prefixSegment&&g.suffixSegment)return`${g.prefixSegment}{$${m}}${g.suffixSegment}`;if(g.prefixSegment)return`${g.prefixSegment}{$${m}}`;if(g.suffixSegment)return`{$${m}}${g.suffixSegment}`}if(g.type==="wildcard"){if(g.prefixSegment&&g.suffixSegment)return`${g.prefixSegment}{$}${g.suffixSegment}`;if(g.prefixSegment)return`${g.prefixSegment}{$}`;if(g.suffixSegment)return`{$}${g.suffixSegment}`}return g.value}),p=Ri([t,...f]);return By(p)}const XU=/^\$.{1,}$/,JU=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,e$=/^\$$/,t$=/^(.*?)\{\$\}(.*)$/;function Wu(t){if(!t)return[];t=By(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>{const s=r.match(t$);if(s){const o=s[1],l=s[2];return{type:"wildcard",value:"$",prefixSegment:o||void 0,suffixSegment:l||void 0}}const i=r.match(JU);if(i){const o=i[1],l=i[2],d=i[3];return{type:"param",value:""+l,prefixSegment:o||void 0,suffixSegment:d||void 0}}return XU.test(r)?{type:"param",value:"$"+r.substring(1),prefixSegment:void 0,suffixSegment:void 0}:e$.test(r)?{type:"wildcard",value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(o=>decodeURI(o)).join("%25"):decodeURI(r)}})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Hb({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:s}){const i=Wu(t);function o(p){const g=e[p],m=typeof g=="string";return["*","_splat"].includes(p)?m?encodeURI(g):g:m?n$(g,s):g}let l=!1;const d={},f=Ri(i.map(p=>{if(p.type==="wildcard"){d._splat=e._splat;const g=p.prefixSegment||"",m=p.suffixSegment||"",b=o("_splat");return n?`${g}${p.value}${b??""}${m}`:`${g}${b}${m}`}if(p.type==="param"){const g=p.value.substring(1);!l&&!(g in e)&&(l=!0),d[g]=e[g];const m=p.prefixSegment||"",b=p.suffixSegment||"";if(r){const w=o(p.value);return`${m}${p.value}${w??""}${b}`}return`${m}${o(g)??"undefined"}${b}`}return p.value}));return{usedParams:d,interpolatedPath:f,isMissingParams:l}}function n$(t,e){let n=encodeURIComponent(t);if(e)for(const[r,s]of e)n=n.replaceAll(r,s);return n}function AE(t,e,n){const r=r$(t,e,n);if(!(n.to&&!r))return r??{}}function Ym(t,e,n=!1){const r=n?t:t.toLowerCase(),s=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case s===r:return"";case e.length<t.length:return e;case s[r.length]!=="/":return e;case s.startsWith(r):return e.slice(t.length);default:return e}}function r$(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=Ym(t,e,n.caseSensitive);const r=Ym(t,`${n.to??"$"}`,n.caseSensitive),s=Wu(e),i=Wu(r);e.startsWith("/")||s.unshift({type:"pathname",value:"/"}),r.startsWith("/")||i.unshift({type:"pathname",value:"/"});const o={};return(()=>{var d;for(let f=0;f<Math.max(s.length,i.length);f++){const p=s[f],g=i[f],m=f>=s.length-1,b=f>=i.length-1;if(g){if(g.type==="wildcard"){const w=s.slice(f);let E;if(g.prefixSegment||g.suffixSegment){if(!p)return!1;const _=g.prefixSegment||"",C=g.suffixSegment||"",I=p.value;if("prefixSegment"in g&&!I.startsWith(_)||"suffixSegment"in g&&!((d=s[s.length-1])!=null&&d.value.endsWith(C)))return!1;let A=decodeURI(Ri(w.map(O=>O.value)));_&&A.startsWith(_)&&(A=A.slice(_.length)),C&&A.endsWith(C)&&(A=A.slice(0,A.length-C.length)),E=A}else E=decodeURI(Ri(w.map(_=>_.value)));return o["*"]=E,o._splat=E,!0}if(g.type==="pathname"){if(g.value==="/"&&!(p!=null&&p.value))return!0;if(p){if(n.caseSensitive){if(g.value!==p.value)return!1}else if(g.value.toLowerCase()!==p.value.toLowerCase())return!1}}if(!p)return!1;if(g.type==="param"){if(p.value==="/")return!1;let w;if(g.prefixSegment||g.suffixSegment){const E=g.prefixSegment||"",_=g.suffixSegment||"",C=p.value;if(E&&!C.startsWith(E)||_&&!C.endsWith(_))return!1;let I=C;E&&I.startsWith(E)&&(I=I.slice(E.length)),_&&I.endsWith(_)&&(I=I.slice(0,I.length-_.length)),w=decodeURIComponent(I)}else w=decodeURIComponent(p.value);o[g.value.substring(1)]=w}}if(!m&&b)return o["**"]=Ri(s.slice(f+1).map(w=>w.value)),!!n.fuzzy&&(g==null?void 0:g.value)!=="/"}return!0})()?o:void 0}function Dr(t){return!!(t!=null&&t.isNotFound)}function s$(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{return}}const Zm="tsr-scroll-restoration-v1_3",i$=(t,e)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{t(...r),n=null},e))}};function a$(){const t=s$();if(!t)return;const e=t.getItem(Zm);let n=e?JSON.parse(e):{};return{state:n,set:r=>(n=Fc(r,n)||n,t.setItem(Zm,JSON.stringify(n)))}}const Vb=a$(),TE=t=>t.state.key||t.href;function o$(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}let Qm=!1;function dO(t,e,n,r,s){var i;let o;try{o=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(f){console.error(f);return}const l=e||((i=window.history.state)==null?void 0:i.key),d=o[l];Qm=!0,(()=>{if(r&&d){for(const p in d){const g=d[p];if(p==="window")window.scrollTo({top:g.scrollY,left:g.scrollX,behavior:n});else if(p){const m=document.querySelector(p);m&&(m.scrollLeft=g.scrollX,m.scrollTop=g.scrollY)}}return}const f=window.location.hash.split("#")[1];if(f){const p=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(p){const g=document.getElementById(f);g&&g.scrollIntoView(p)}return}["window",...(s==null?void 0:s.filter(p=>p!=="window"))??[]].forEach(p=>{const g=p==="window"?window:typeof p=="function"?p():document.querySelector(p);g&&g.scrollTo({top:0,left:0,behavior:n})})})(),Qm=!1}function c$(t,e){if(Vb===void 0||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),typeof document>"u"||t.isScrollRestorationSetup))return;t.isScrollRestorationSetup=!0,Qm=!1;const r=t.options.getScrollRestorationKey||TE;window.history.scrollRestoration="manual";const s=i=>{if(Qm||!t.isScrollRestoring)return;let o="";if(i.target===document||i.target===window)o="window";else{const d=i.target.getAttribute("data-scroll-restoration-id");d?o=`[data-scroll-restoration-id="${d}"]`:o=o$(i.target)}const l=r(t.state.location);Vb.set(d=>{const f=d[l]=d[l]||{},p=f[o]=f[o]||{};if(o==="window")p.scrollX=window.scrollX||0,p.scrollY=window.scrollY||0;else if(o){const g=document.querySelector(o);g&&(p.scrollX=g.scrollLeft||0,p.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",i$(s,100),!0),t.subscribe("onRendered",i=>{const o=r(i.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}dO(Zm,o,t.options.scrollRestorationBehavior||void 0,t.isScrollRestoring||void 0,t.options.scrollToTopSelectors||void 0),t.isScrollRestoring&&Vb.set(l=>(l[o]=l[o]||{},l))})}function l$(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function fO(t,e){const n=Object.entries(t).flatMap(([s,i])=>Array.isArray(i)?i.map(o=>[s,String(o)]):[[s,String(i)]]);return""+new URLSearchParams(n).toString()}function Gb(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function u$(t,e){const n=t;return[...new URLSearchParams(n).entries()].reduce((i,[o,l])=>{const d=i[o];return d==null?i[o]=Gb(l):i[o]=Array.isArray(d)?[...d,Gb(l)]:[d,Gb(l)],i},{})}const d$=h$(JSON.parse),f$=p$(JSON.stringify,JSON.parse);function h$(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=u$(e);for(const r in n){const s=n[r];if(typeof s=="string")try{n[r]=t(s)}catch{}}return n}}function p$(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(i=>{const o=r[i];typeof o>"u"||o===void 0?delete r[i]:r[i]=n(o)});const s=fO(r).toString();return s?`?${s}`:""}}const Ks="__root__";function hO(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument)try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}const e=new Headers(t.headers||{});t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function Rr(t){return t instanceof Response&&!!t.options}function g$(t){if(typeof t=="object"&&t.isSerializedRedirect)return hO(t)}function m$(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function zc(t){const e=t.resolvedLocation,n=t.location,r=(e==null?void 0:e.pathname)!==n.pathname,s=(e==null?void 0:e.href)!==n.href,i=(e==null?void 0:e.hash)!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:r,hrefChanged:s,hashChanged:i}}class y${constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.isShell=!1,this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(i=>[encodeURIComponent(i),i])):void 0,(!this.basepath||n.basepath&&n.basepath!==s.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${qb(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?WU({initialEntries:[this.basepath||"/"]}):GU()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new EE(b$(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(i=>!["redirected"].includes(i.status))}}}),c$(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)")),this.latestLocation.search.__TSS_SHELL&&(this.isShell=!0)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:r,flatRoutes:s}=v$({routeTree:this.routeTree,initRoute:(o,l)=>{o.init({originalIndex:l,defaultSsr:this.options.defaultSsr})}});this.routesById=n,this.routesByPath=r,this.flatRoutes=s;const i=this.options.notFoundRoute;i&&(i.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[i.id]=i)},this.subscribe=(n,r)=>{const s={eventType:n,fn:r};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const s=({pathname:d,search:f,hash:p,state:g})=>{const m=this.options.parseSearch(f),b=this.options.stringifySearch(m);return{pathname:d,searchStr:b,search:Es(n==null?void 0:n.search,m),hash:p.split("#").reverse()[0]??"",href:`${d}${b}${p}`,state:Es(n==null?void 0:n.state,g)}},i=s(r??this.history.location),{__tempLocation:o,__tempKey:l}=i.state;if(o&&(!l||l===this.tempLocationKey)){const d=s(o);return d.state.key=i.state.key,delete d.state.__tempLocation,{...d,maskedLocation:i}}return i},this.resolvePathWithBase=(n,r)=>QU({basepath:this.basepath,base:n,to:By(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(n,r,s)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:r},s):this.matchRoutesInternal(n,r),this.getMatchedRoutes=(n,r)=>E$({pathname:n,routePathname:r,basepath:this.basepath,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes}),this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(i={})=>{var o;const l=i._fromLocation||this.latestLocation,d=this.matchRoutes(l,{_buildLocation:!0}),f=CE(d);let p=f.fullPath;i.unsafeRelative==="path"?p=l.pathname:i.to&&i.from&&(p=i.from,[...d].reverse().find(P=>P.fullPath===p||P.fullPath===Ri([p,"/"]))||console.warn(`Could not find match for from: ${i.from}`));const g=f.search,m={...f.params},b=i.to?this.resolvePathWithBase(p,`${i.to}`):p;let w=(i.params??!0)===!0?m:{...m,...Fc(i.params,m)};const E=this.matchRoutes(b,{},{_buildLocation:!0}).map(T=>this.looseRoutesById[T.routeId]);Object.keys(w).length>0&&E.map(T=>{var P;return((P=T.options.params)==null?void 0:P.stringify)??T.options.stringifyParams}).filter(Boolean).forEach(T=>{w={...w,...T(w)}});const _=Hb({path:b,params:w??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let C=g;if(n._includeValidateSearch&&((o=this.options.search)!=null&&o.strict)){let T={};E.forEach(P=>{try{P.options.validateSearch&&(T={...T,...xE(P.options.validateSearch,{...T,...C})??{}})}catch{}}),C=T}C=_$({search:C,dest:i,destRoutes:E,_includeValidateSearch:n._includeValidateSearch}),C=Es(g,C);const I=this.options.stringifySearch(C),A=i.hash===!0?l.hash:i.hash?Fc(i.hash,l.hash):void 0,O=A?`#${A}`:"";let x=i.state===!0?l.state:i.state?Fc(i.state,l.state):{};return x=Es(l.state,x),{pathname:_,search:C,searchStr:I,state:x,hash:A??"",href:`${_}${I}${O}`,unmaskOnReload:i.unmaskOnReload}},s=(i={},o)=>{var l;const d=r(i);let f=o?r(o):void 0;if(!f){let p={};const g=(l=this.options.routeMasks)==null?void 0:l.find(m=>{const b=AE(this.basepath,d.pathname,{to:m.from,caseSensitive:!1,fuzzy:!1});return b?(p=b,!0):!1});if(g){const{from:m,...b}=g;o={...SE(n,["from"]),...b,params:p},f=r(o)}}if(f){const p=r(o);d.maskedLocation=p}return d};return n.mask?s(n,{...SE(n,["from"]),...n.mask}):s(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...s})=>{const i=()=>{const d=["key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(p=>{s.state[p]=this.latestLocation.state[p]});const f=Ou(s.state,this.latestLocation.state);return d.forEach(p=>{delete s.state[p]}),f},o=this.latestLocation.href===s.href,l=this.commitLocationPromise;if(this.commitLocationPromise=Eu(()=>{l==null||l.resolve()}),o&&i())this.load();else{let{maskedLocation:d,hashScrollIntoView:f,...p}=s;d&&(p={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=f??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[s.replace?"replace":"push"](p.href,p.state,{ignoreBlocker:r})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:s,viewTransition:i,ignoreBlocker:o,href:l,...d}={})=>{if(l){const p=this.history.location.state.__TSR_index,g=wh(l,{__TSR_index:n?p:p+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const f=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...f,viewTransition:i,replace:n,resetScroll:r,hashScrollIntoView:s,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:s,...i})=>{if(!r&&s)try{new URL(`${s}`),r=!0}catch{}if(r){if(!s){const o=this.buildLocation({to:n,...i});s=this.history.createHref(o.href)}i.replace?window.location.replace(s):window.location.href=s;return}return this.buildAndCommitLocation({...i,href:s,to:n})},this.beforeLoad=()=>{if(this.cancelMatches(),this.latestLocation=this.parseLocation(this.latestLocation),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(qb(this.latestLocation.href)!==qb(r.href))throw hO({href:r.href})}const n=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:r.cachedMatches.filter(s=>!n.find(i=>i.id===s.id))}))},this.load=async n=>{let r,s,i;for(i=new Promise(o=>{this.startTransition(async()=>{var l;try{this.beforeLoad();const d=this.latestLocation,f=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...zc({resolvedLocation:f,location:d})}),this.emit({type:"onBeforeLoad",...zc({resolvedLocation:f,location:d})}),await this.loadMatches({sync:n==null?void 0:n.sync,matches:this.state.pendingMatches,location:d,onReady:async()=>{this.startViewTransition(async()=>{let p,g,m;yT(()=>{this.__store.setState(b=>{const w=b.matches,E=b.pendingMatches||b.matches;return p=w.filter(_=>!E.find(C=>C.id===_.id)),g=E.filter(_=>!w.find(C=>C.id===_.id)),m=w.filter(_=>E.find(C=>C.id===_.id)),{...b,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[...b.cachedMatches,...p.filter(_=>_.status!=="error")]}}),this.clearExpiredCache()}),[[p,"onLeave"],[g,"onEnter"],[m,"onStay"]].forEach(([b,w])=>{b.forEach(E=>{var _,C;(C=(_=this.looseRoutesById[E.routeId].options)[w])==null||C.call(_,E)})})})}})}catch(d){Rr(d)?(r=d,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):Dr(d)&&(s=d),this.__store.setState(f=>({...f,statusCode:r?r.status:s?404:f.matches.some(p=>p.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===i&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const i=this.latestLocation,o=this.state.resolvedLocation,l=typeof r.types=="function"?r.types(zc({resolvedLocation:o,location:i})):r.types;s={update:n,types:l}}else s=n;document.startViewTransition(s)}else n()},this.updateMatch=(n,r)=>{var s;let i;const o=(s=this.state.pendingMatches)==null?void 0:s.find(p=>p.id===n),l=this.state.matches.find(p=>p.id===n),d=this.state.cachedMatches.find(p=>p.id===n),f=o?"pendingMatches":l?"matches":d?"cachedMatches":"";return f&&this.__store.setState(p=>{var g;return{...p,[f]:(g=p[f])==null?void 0:g.map(m=>m.id===n?i=r(m):m)}}),i},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:s,onReady:i,updateMatch:o=this.updateMatch,sync:l})=>{let d,f=!1;const p=async()=>{f||(f=!0,await(i==null?void 0:i()))},g=b=>!!(s&&!this.state.matches.find(w=>w.id===b)),m=(b,w)=>{var E,_,C,I;if(Rr(w)||Dr(w)){if(Rr(w)&&w.redirectHandled&&!w.options.reloadDocument)throw w;if((E=b.beforeLoadPromise)==null||E.resolve(),(_=b.loaderPromise)==null||_.resolve(),o(b.id,A=>({...A,status:Rr(w)?"redirected":Dr(w)?"notFound":"error",isFetching:!1,error:w,beforeLoadPromise:void 0,loaderPromise:void 0})),w.routeId||(w.routeId=b.routeId),(C=b.loadPromise)==null||C.resolve(),Rr(w))throw f=!0,w.options._fromLocation=n,w.redirectHandled=!0,w=this.resolveRedirect(w),w;if(Dr(w))throw this._handleNotFound(r,w,{updateMatch:o}),(I=this.serverSsr)==null||I.onMatchSettled({router:this,match:this.getMatch(b.id)}),w}};try{await new Promise((b,w)=>{(async()=>{var E,_,C,I;try{const A=(T,P,U)=>{var S,B;const{id:L,routeId:z}=r[T],K=this.looseRoutesById[z];if(P instanceof Promise)throw P;P.routerCode=U,d=d??T,m(this.getMatch(L),P);try{(B=(S=K.options).onError)==null||B.call(S,P)}catch(G){P=G,m(this.getMatch(L),P)}o(L,G=>{var k,R;return(k=G.beforeLoadPromise)==null||k.resolve(),(R=G.loadPromise)==null||R.resolve(),{...G,error:P,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[T,{id:P,routeId:U}]of r.entries()){const S=this.getMatch(P),B=(E=r[T-1])==null?void 0:E.id,L=this.looseRoutesById[U],z=L.options.pendingMs??this.options.defaultPendingMs,K=!!(i&&!this.isServer&&!g(P)&&(L.options.loader||L.options.beforeLoad||ST(L))&&typeof z=="number"&&z!==1/0&&(L.options.pendingComponent??((_=this.options)==null?void 0:_.defaultPendingComponent)));let G=!0;if((S.beforeLoadPromise||S.loaderPromise)&&(K&&setTimeout(()=>{try{p()}catch{}},z),await S.beforeLoadPromise,G=this.getMatch(P).status==="error"),G){try{o(P,Ae=>{const ge=Ae.loadPromise;return{...Ae,loadPromise:Eu(()=>{ge==null||ge.resolve()}),beforeLoadPromise:Eu()}});const k=new AbortController;let R;K&&(R=setTimeout(()=>{try{p()}catch{}},z));const{paramsError:F,searchError:V}=this.getMatch(P);F&&A(T,F,"PARSE_PARAMS"),V&&A(T,V,"VALIDATE_SEARCH");const W=()=>B?this.getMatch(B).context:this.options.context??{};o(P,Ae=>({...Ae,isFetching:"beforeLoad",fetchCount:Ae.fetchCount+1,abortController:k,pendingTimeout:R,context:{...W(),...Ae.__routeContext}}));const{search:D,params:q,context:X,cause:te}=this.getMatch(P),ee=g(P),ie={search:D,abortController:k,params:q,preload:ee,context:X,location:n,navigate:Ae=>this.navigate({...Ae,_fromLocation:n}),buildLocation:this.buildLocation,cause:ee?"preload":te,matches:r},se=await((I=(C=L.options).beforeLoad)==null?void 0:I.call(C,ie))??{};(Rr(se)||Dr(se))&&A(T,se,"BEFORE_LOAD"),o(P,Ae=>({...Ae,__beforeLoadContext:se,context:{...W(),...Ae.__routeContext,...se},abortController:k}))}catch(k){A(T,k,"BEFORE_LOAD")}o(P,k=>{var R;return(R=k.beforeLoadPromise)==null||R.resolve(),{...k,beforeLoadPromise:void 0,isFetching:!1}})}}const O=r.slice(0,d),x=[];O.forEach(({id:T,routeId:P},U)=>{x.push((async()=>{const{loaderPromise:S}=this.getMatch(T);let B=!1,L=!1;if(S){await S;const z=this.getMatch(T);z.error&&m(z,z.error)}else{const z=x[U-1],K=this.looseRoutesById[P],G=()=>{const{params:ee,loaderDeps:ie,abortController:se,context:Ae,cause:ge}=this.getMatch(T),_e=g(T);return{params:ee,deps:ie,preload:!!_e,parentMatchPromise:z,abortController:se,context:Ae,location:n,navigate:qe=>this.navigate({...qe,_fromLocation:n}),cause:_e?"preload":ge,route:K}},k=Date.now()-this.getMatch(T).updatedAt,R=g(T),F=R?K.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:K.options.staleTime??this.options.defaultStaleTime??0,V=K.options.shouldReload,W=typeof V=="function"?V(G()):V;o(T,ee=>({...ee,loaderPromise:Eu(),preload:!!R&&!this.state.matches.find(ie=>ie.id===T)}));const D=async()=>{var ee,ie,se,Ae,ge,_e;const qe=this.getMatch(T);if(!qe)return;const Je={matches:r,match:qe,params:qe.params,loaderData:qe.loaderData},vt=await((ie=(ee=K.options).head)==null?void 0:ie.call(ee,Je)),gn=vt==null?void 0:vt.meta,Sn=vt==null?void 0:vt.links,as=vt==null?void 0:vt.scripts,gr=await((Ae=(se=K.options).scripts)==null?void 0:Ae.call(se,Je)),ln=await((_e=(ge=K.options).headers)==null?void 0:_e.call(ge,Je));return{meta:gn,links:Sn,headScripts:as,headers:ln,scripts:gr}},q=async()=>{var ee,ie,se,Ae,ge;try{const _e=async()=>{const qe=this.getMatch(T);qe.minPendingPromise&&await qe.minPendingPromise};try{this.loadRouteChunk(K),o(T,vt=>({...vt,isFetching:"loader"}));const qe=await((ie=(ee=K.options).loader)==null?void 0:ie.call(ee,G()));m(this.getMatch(T),qe),await K._lazyPromise,await _e(),await K._componentsPromise,o(T,vt=>({...vt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:qe}));const Je=await D();o(T,vt=>({...vt,...Je}))}catch(qe){let Je=qe;await _e(),m(this.getMatch(T),qe);try{(Ae=(se=K.options).onError)==null||Ae.call(se,qe)}catch(gn){Je=gn,m(this.getMatch(T),gn)}const vt=await D();o(T,gn=>({...gn,error:Je,status:"error",isFetching:!1,...vt}))}(ge=this.serverSsr)==null||ge.onMatchSettled({router:this,match:this.getMatch(T)})}catch(_e){const qe=await D();o(T,Je=>({...Je,loaderPromise:void 0,...qe})),m(this.getMatch(T),_e)}},{status:X,invalid:te}=this.getMatch(T);if(B=X==="success"&&(te||(W??k>F)),!(R&&K.options.preload===!1))if(B&&!l)L=!0,(async()=>{try{await q();const{loaderPromise:ee,loadPromise:ie}=this.getMatch(T);ee==null||ee.resolve(),ie==null||ie.resolve(),o(T,se=>({...se,loaderPromise:void 0}))}catch(ee){Rr(ee)&&await this.navigate(ee.options)}})();else if(X!=="success"||B&&l)await q();else{const ee=await D();o(T,ie=>({...ie,...ee}))}}if(!L){const{loaderPromise:z,loadPromise:K}=this.getMatch(T);z==null||z.resolve(),K==null||K.resolve()}return o(T,z=>({...z,isFetching:L?z.isFetching:!1,loaderPromise:L?z.loaderPromise:void 0,invalid:!1})),this.getMatch(T)})())}),await Promise.all(x),b()}catch(A){w(A)}})()}),await p()}catch(b){if(Rr(b)||Dr(b))throw Dr(b)&&!s&&await p(),b}return r},this.invalidate=n=>{const r=s=>{var i;return((i=n==null?void 0:n.filter)==null?void 0:i.call(n,s))??!0?{...s,invalid:!0,...s.status==="error"?{status:"pending",error:void 0}:{}}:s};return this.__store.setState(s=>{var i;return{...s,matches:s.matches.map(r),cachedMatches:s.cachedMatches.map(r),pendingMatches:(i=s.pendingMatches)==null?void 0:i.map(r)}}),this.shouldViewTransition=!1,this.load({sync:n==null?void 0:n.sync})},this.resolveRedirect=n=>(n.options.href||(n.options.href=this.buildLocation(n.options).href,n.headers.set("Location",n.options.href)),n.headers.get("Location")||n.headers.set("Location",n.options.href),n),this.clearCache=n=>{const r=n==null?void 0:n.filter;r!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(i=>!r(i))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const s=this.looseRoutesById[r.routeId];if(!s.options.loader)return!0;const i=(r.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<i)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:s,...i}=r.options;Object.assign(n.options,i)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(pO.map(async r=>{const s=n.options[r];s!=null&&s.preload&&await s.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let s=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...i,...this.state.cachedMatches.map(l=>l.id)]);yT(()=>{s.forEach(l=>{o.has(l.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,l]}))})});try{return s=await this.loadMatches({matches:s,location:r,preload:!0,updateMatch:(l,d)=>{i.has(l)?s=s.map(f=>f.id===l?d(f):f):this.updateMatch(l,d)}}),s}catch(l){if(Rr(l))return l.options.reloadDocument?void 0:await this.preloadRoute({...l.options,_fromLocation:r});Dr(l)||console.error(l);return}},this.matchRoute=(n,r)=>{const s={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},i=this.buildLocation(s);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const l=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=AE(this.basepath,l.pathname,{...r,to:i.pathname});return!d||n.params&&!Ou(d,n.params,{partial:!0})?!1:d&&((r==null?void 0:r.includeSearch)??!0)?Ou(l.search,i.search,{partial:!0})?d:!1:d},this._handleNotFound=(n,r,{updateMatch:s=this.updateMatch}={})=>{var i;const o=this.routesById[r.routeId??""]??this.routeTree,l={};for(const f of n)l[f.routeId]=f;!o.options.notFoundComponent&&((i=this.options)!=null&&i.defaultNotFoundComponent)&&(o.options.notFoundComponent=this.options.defaultNotFoundComponent),Is(o.options.notFoundComponent);const d=l[o.id];Is(d,"Could not find match for route: "+o.id),s(d.id,f=>({...f,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:s}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??f$,parseSearch:e.parseSearch??d$}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){var r;const{foundRoute:s,matchedRoutes:i,routeParams:o}=this.getMatchedRoutes(e.pathname,(r=n==null?void 0:n.dest)==null?void 0:r.to);let l=!1;(s?s.path!=="/"&&o["**"]:Gu(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):l=!0);const d=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let m=i.length-1;m>=0;m--){const b=i[m];if(b.children)return b.id}return Ks}})(),f=i.map(m=>{var b;let w;const E=((b=m.options.params)==null?void 0:b.parse)??m.options.parseParams;if(E)try{const _=E(o);Object.assign(o,_)}catch(_){if(w=new w$(_.message,{cause:_}),n!=null&&n.throwOnError)throw w;return w}}),p=[],g=m=>(m==null?void 0:m.id)?m.context??this.options.context??{}:this.options.context??{};return i.forEach((m,b)=>{var w,E;const _=p[b-1],[C,I,A]=(()=>{const G=(_==null?void 0:_.search)??e.search,k=(_==null?void 0:_._strictSearch)??{};try{const R=xE(m.options.validateSearch,{...G})??{};return[{...G,...R},{...k,...R},void 0]}catch(R){let F=R;if(R instanceof Xm||(F=new Xm(R.message,{cause:R})),n!=null&&n.throwOnError)throw F;return[G,{},F]}})(),O=((E=(w=m.options).loaderDeps)==null?void 0:E.call(w,{search:C}))??"",x=O?JSON.stringify(O):"",{usedParams:T,interpolatedPath:P}=Hb({path:m.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),U=Hb({path:m.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+x,S=this.getMatch(U),B=this.state.matches.find(G=>G.routeId===m.id),L=B?"stay":"enter";let z;if(S)z={...S,cause:L,params:B?Es(B.params,o):o,_strictParams:T,search:Es(B?B.search:S.search,C),_strictSearch:I};else{const G=m.options.loader||m.options.beforeLoad||m.lazyFn||ST(m)?"pending":"success";z={id:U,index:b,routeId:m.id,params:B?Es(B.params,o):o,_strictParams:T,pathname:Ri([this.basepath,P]),updatedAt:Date.now(),search:B?Es(B.search,C):C,_strictSearch:I,searchError:void 0,status:G,isFetching:!1,error:void 0,paramsError:f[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:L,loaderDeps:B?Es(B.loaderDeps,O):O,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:m.options.staticData||{},loadPromise:Eu(),fullPath:m.fullPath}}n!=null&&n.preload||(z.globalNotFound=d===m.id),z.searchError=A;const K=g(_);z.context={...K,...z.__routeContext,...z.__beforeLoadContext},p.push(z)}),p.forEach((m,b)=>{var w,E;const _=this.looseRoutesById[m.routeId];if(!this.getMatch(m.id)&&(n==null?void 0:n._buildLocation)!==!0){const I=p[b-1],A=g(I),O={deps:m.loaderDeps,params:m.params,context:A,location:e,navigate:x=>this.navigate({...x,_fromLocation:e}),buildLocation:this.buildLocation,cause:m.cause,abortController:m.abortController,preload:!!m.preload,matches:p};m.__routeContext=((E=(w=_.options).context)==null?void 0:E.call(w,O))??{},m.context={...A,...m.__routeContext,...m.__beforeLoadContext}}}),p}}class Xm extends Error{}class w$ extends Error{}function b$(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function xE(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Xm("Async validation not supported");if(n.issues)throw new Xm(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}const pO=["component","errorComponent","pendingComponent","notFoundComponent"];function ST(t){var e;for(const n of pO)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function v$({routeTree:t,initRoute:e}){const n={},r={},s=d=>{d.forEach((f,p)=>{e==null||e(f,p);const g=n[f.id];if(Is(!g,`Duplicate routes found with id: ${String(f.id)}`),n[f.id]=f,!f.isRoot&&f.path){const b=Gu(f.fullPath);(!r[b]||f.fullPath.endsWith("/"))&&(r[b]=f)}const m=f.children;m!=null&&m.length&&s(m)})};s([t]);const i=[];Object.values(n).forEach((d,f)=>{var p;if(d.isRoot||!d.path)return;const g=t_(d.fullPath),m=Wu(g);for(;m.length>1&&((p=m[0])==null?void 0:p.value)==="/";)m.shift();const b=m.map(w=>w.value==="/"?.75:w.type==="param"&&w.prefixSegment&&w.suffixSegment?.55:w.type==="param"&&w.prefixSegment?.52:w.type==="param"&&w.suffixSegment?.51:w.type==="param"?.5:w.type==="wildcard"&&w.prefixSegment&&w.suffixSegment?.3:w.type==="wildcard"&&w.prefixSegment?.27:w.type==="wildcard"&&w.suffixSegment?.26:w.type==="wildcard"?.25:1);i.push({child:d,trimmed:g,parsed:m,index:f,scores:b})});const l=i.sort((d,f)=>{const p=Math.min(d.scores.length,f.scores.length);for(let g=0;g<p;g++)if(d.scores[g]!==f.scores[g])return f.scores[g]-d.scores[g];if(d.scores.length!==f.scores.length)return f.scores.length-d.scores.length;for(let g=0;g<p;g++)if(d.parsed[g].value!==f.parsed[g].value)return d.parsed[g].value>f.parsed[g].value?1:-1;return d.index-f.index}).map((d,f)=>(d.child.rank=f,d.child));return{routesById:n,routesByPath:r,flatRoutes:l}}function E$({pathname:t,routePathname:e,basepath:n,caseSensitive:r,routesByPath:s,routesById:i,flatRoutes:o}){let l={};const d=Gu(t),f=b=>{var w;return AE(n,d,{to:b.fullPath,caseSensitive:((w=b.options)==null?void 0:w.caseSensitive)??r,fuzzy:!0})};let p=e!==void 0?s[e]:void 0;p?l=f(p):p=o.find(b=>{const w=f(b);return w?(l=w,!0):!1});let g=p||i[Ks];const m=[g];for(;g.parentRoute;)g=g.parentRoute,m.unshift(g);return{matchedRoutes:m,routeParams:l,foundRoute:p}}function _$({search:t,dest:e,destRoutes:n,_includeValidateSearch:r}){const s=n.reduce((l,d)=>{var f;const p=[];if("search"in d.options)(f=d.options.search)!=null&&f.middlewares&&p.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const g=({search:m,next:b})=>{let w=m;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(w=d.options.preSearchFilters.reduce((_,C)=>C(_),m));const E=b(w);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((_,C)=>C(_),E):E};p.push(g)}if(r&&d.options.validateSearch){const g=({search:m,next:b})=>{const w=b(m);try{return{...w,...xE(d.options.validateSearch,w)??{}}}catch{return w}};p.push(g)}return l.concat(p)},[])??[],i=({search:l})=>e.search?e.search===!0?l:Fc(e.search,l):{};s.push(i);const o=(l,d)=>{if(l>=s.length)return d;const f=s[l];return f({search:d,next:g=>o(l+1,g)})};return o(0,t)}const Ti=Symbol.for("TSR_DEFERRED_PROMISE");function C$(t,e){const n=t;return n[Ti]||(n[Ti]={status:"pending"},n.then(r=>{n[Ti].status="success",n[Ti].data=r}).catch(r=>{n[Ti].status="error",n[Ti].error={data:m$(r),__isServerError:!0}})),n}const S$="Error preloading route! ";class gO{constructor(e){if(this.init=n=>{var r,s;this.originalIndex=n.originalIndex;const i=this.options,o=!(i!=null&&i.path)&&!(i!=null&&i.id);this.parentRoute=(s=(r=this.options).getParentRoute)==null?void 0:s.call(r),o?this._path=Ks:this.parentRoute||Is(!1);let l=o?Ks:i==null?void 0:i.path;l&&l!=="/"&&(l=t_(l));const d=(i==null?void 0:i.id)||l;let f=o?Ks:Ri([this.parentRoute.id===Ks?"":this.parentRoute.id,d]);l===Ks&&(l="/"),f!==Ks&&(f=Ri(["/",f]));const p=f===Ks?"/":Ri([this.parentRoute.fullPath,l]);this._path=l,this._id=f,this._fullPath=p,this._to=p,this._ssr=(i==null?void 0:i.ssr)??n.defaultSsr??!0},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this._ssr=n._ssr,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class A$ extends gO{constructor(e){super(e)}}const dr={stringify:t=>JSON.stringify(t,function(n,r){const s=this[n],i=Xg.find(o=>o.stringifyCondition(s));return i?i.stringify(s):r}),parse:t=>JSON.parse(t,function(n,r){const s=this[n];if(va(s)){const i=Xg.find(o=>o.parseCondition(s));if(i)return i.parse(s)}return r}),encode:t=>{if(Array.isArray(t))return t.map(n=>dr.encode(n));if(va(t))return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,dr.encode(r)]));const e=Xg.find(n=>n.stringifyCondition(t));return e?e.stringify(t):t},decode:t=>{if(va(t)){const e=Xg.find(n=>n.parseCondition(t));if(e)return e.parse(t)}return Array.isArray(t)?t.map(e=>dr.decode(e)):va(t)?Object.fromEntries(Object.entries(t).map(([e,n])=>[e,dr.decode(n)])):t}},bf=(t,e,n,r)=>({key:t,stringifyCondition:e,stringify:s=>({[`$${t}`]:n(s)}),parseCondition:s=>Object.hasOwn(s,`$${t}`),parse:s=>r(s[`$${t}`])}),Xg=[bf("undefined",t=>t===void 0,()=>0,()=>{}),bf("date",t=>t instanceof Date,t=>t.toISOString(),t=>new Date(t)),bf("error",t=>t instanceof Error,t=>({...t,message:t.message,stack:void 0,cause:t.cause}),t=>Object.assign(new Error(t.message),t)),bf("formData",t=>t instanceof FormData,t=>{const e={};return t.forEach((n,r)=>{const s=e[r];s!==void 0?Array.isArray(s)?s.push(n):e[r]=[s,n]:e[r]=n}),e},t=>{const e=new FormData;return Object.entries(t).forEach(([n,r])=>{Array.isArray(r)?r.forEach(s=>e.append(n,s)):e.append(n,r)}),e}),bf("bigint",t=>typeof t=="bigint",t=>t.toString(),t=>BigInt(t))];async function T$(t){var e,n,r;Is((e=window.__TSR_SSR__)==null?void 0:e.dehydrated);const{manifest:s,dehydratedData:i,lastMatchId:o}=dr.parse(window.__TSR_SSR__.dehydrated);t.ssr={manifest:s,serializer:dr},t.clientSsr={getStreamedValue:f=>{var p;if(t.isServer)return;const g=(p=window.__TSR_SSR__)==null?void 0:p.streamedValues[f];if(g)return g.parsed||(g.parsed=t.ssr.serializer.parse(g.value)),g.parsed}};const l=t.matchRoutes(t.state.location),d=Promise.all(l.map(f=>{const p=t.looseRoutesById[f.routeId];return t.loadRouteChunk(p)}));return l.forEach(f=>{var p;const g=window.__TSR_SSR__.matches.find(m=>m.id===f.id);if(g)return Object.assign(f,g),g.__beforeLoadContext&&(f.__beforeLoadContext=t.ssr.serializer.parse(g.__beforeLoadContext)),g.loaderData&&(f.loaderData=t.ssr.serializer.parse(g.loaderData)),g.error&&(f.error=t.ssr.serializer.parse(g.error)),(p=f.extracted)==null||p.forEach(m=>{NE(f,["loaderData",...m.path],m.value)}),f}),t.__store.setState(f=>({...f,matches:l})),await((r=(n=t.options).hydrate)==null?void 0:r.call(n,i)),await Promise.all(t.state.matches.map(async f=>{var p,g,m,b,w,E;const _=t.looseRoutesById[f.routeId],C=t.state.matches[f.index-1],I=(C==null?void 0:C.context)??t.options.context??{},A={deps:f.loaderDeps,params:f.params,context:I,location:t.state.location,navigate:P=>t.navigate({...P,_fromLocation:t.state.location}),buildLocation:t.buildLocation,cause:f.cause,abortController:f.abortController,preload:!1,matches:l};f.__routeContext=((g=(p=_.options).context)==null?void 0:g.call(p,A))??{},f.context={...I,...f.__routeContext,...f.__beforeLoadContext};const O={matches:t.state.matches,match:f,params:f.params,loaderData:f.loaderData},x=await((b=(m=_.options).head)==null?void 0:b.call(m,O)),T=await((E=(w=_.options).scripts)==null?void 0:E.call(w,O));f.meta=x==null?void 0:x.meta,f.links=x==null?void 0:x.links,f.headScripts=x==null?void 0:x.scripts,f.scripts=T})),l[l.length-1].id!==o?await Promise.all([d,t.load()]):d}function NE(t,e,n){e.length===1&&(t[e[0]]=n);const[r,...s]=e;Array.isArray(t)?NE(t[Number(r)],s,n):va(t)&&NE(t[r],s,n)}const x$="modulepreload",N$=function(t){return"/"+t},AT={},Wt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(n.map(f=>{if(f=N$(f),f in AT)return;AT[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":x$,p||(m.as="script"),m.crossOrigin="",m.href=f,d&&m.setAttribute("nonce",d),document.head.appendChild(m),p)return new Promise((b,w)=>{m.addEventListener("load",b),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};const I$=[];function Pm(t,e){const n=e||t||{};return typeof n.method>"u"&&(n.method="GET"),{options:n,middleware:r=>Pm(void 0,Object.assign(n,{middleware:r})),validator:r=>Pm(void 0,Object.assign(n,{validator:r})),type:r=>Pm(void 0,Object.assign(n,{type:r})),handler:(...r)=>{const[s,i]=r;Object.assign(n,{...s,extractedFn:s,serverFn:i});const o=[...n.middleware||[],k$(n)];return Object.assign(async l=>TT(o,"client",{...s,...n,data:l==null?void 0:l.data,headers:l==null?void 0:l.headers,signal:l==null?void 0:l.signal,context:{}}).then(d=>{if(n.response==="full")return d;if(d.error)throw d.error;return d.result}),{...s,__executeServer:async(l,d)=>{const f=l instanceof FormData?P$(l):l;f.type=typeof n.type=="function"?n.type(f):n.type;const p={...s,...f,signal:d},g=()=>TT(o,"server",p).then(m=>({result:m.result,error:m.error,context:m.sendContext}));if(p.type==="static"){let m;if(Ys!=null&&Ys.getItem&&(m=await Ys.getItem(p)),m||(m=await g().then(b=>({ctx:b,error:null})).catch(b=>({ctx:void 0,error:b})),Ys!=null&&Ys.setItem&&await Ys.setItem(p,m)),Is(m),m.error)throw m.error;return m.ctx}return g()}})}}}async function TT(t,e,n){const r=D$([...I$,...t]),s=async i=>{const o=r.shift();if(!o)return i;o.options.validator&&(e!=="client"||o.options.validateClient)&&(i.data=await $$(o.options.validator,i.data));const l=e==="client"?o.options.client:o.options.server;return l?U$(l,i,async d=>s(d).catch(f=>{if(Rr(f)||Dr(f))return{...d,error:f};throw f})):s(i)};return s({...n,headers:n.headers||{},sendContext:n.sendContext||{},context:n.context||{}})}let Ys;function R$(t){const e=Ys;return Ys=typeof t=="function"?t():t,()=>{Ys=e}}async function O$(t){const e=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-1",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}R$(()=>{const t=async(r,s)=>`/__tsr/staticServerFnCache/${await O$(`${r.functionId}__${s}`)}.json`,e=r=>JSON.stringify(r??"",(o,l)=>l&&typeof l=="object"&&!Array.isArray(l)?Object.keys(l).sort().reduce((d,f)=>(d[f]=l[f],d),{}):l).replace(/[/\\?%*:|"<>]/g,"-").replace(/\s+/g,"_"),n=typeof document<"u"?new Map:null;return{getItem:async r=>{if(typeof document>"u"){const s=e(r.data),i=await t(r,s),o="/Users/mac/code/test/bundle-hell-tss/.output/public",{promises:l}=await Wt(async()=>{const{promises:m}=await import("node:fs");return{promises:m}},[]),f=(await Wt(()=>import("node:path"),[])).join(o,i),[p,g]=await l.readFile(f,"utf-8").then(m=>[dr.parse(m),null]).catch(m=>[null,m]);if(g&&g.code!=="ENOENT")throw g;return p}},setItem:async(r,s)=>{const{promises:i}=await Wt(async()=>{const{promises:g}=await import("node:fs");return{promises:g}},[]),o=await Wt(()=>import("node:path"),[]),l=e(r.data),d=await t(r,l),p=o.join("/Users/mac/code/test/bundle-hell-tss/.output/public",d);await i.mkdir(o.dirname(p),{recursive:!0}),await i.writeFile(p,dr.stringify(s))},fetchItem:async r=>{const s=e(r.data),i=await t(r,s);let o=n==null?void 0:n.get(i);return o||(o=await fetch(i,{method:"GET"}).then(l=>l.text()).then(l=>dr.parse(l)),n==null||n.set(i,o)),o}}});function P$(t){const e=t.get("__TSR_CONTEXT");if(t.delete("__TSR_CONTEXT"),typeof e!="string")return{context:{},data:t};try{return{context:dr.parse(e),data:t}}catch{return{data:t}}}function D$(t){const e=new Set,n=[],r=s=>{s.forEach(i=>{i.options.middleware&&r(i.options.middleware),e.has(i)||(e.add(i),n.push(i))})};return r(t),n}const U$=async(t,e,n)=>t({...e,next:async(r={})=>n({...e,...r,context:{...e.context,...r.context},sendContext:{...e.sendContext,...r.sendContext??{}},headers:zU(e.headers,r.headers),result:r.result!==void 0?r.result:e.response==="raw"?r:e.result,error:r.error??e.error})});function $$(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Error("Async validation not supported");if(n.issues)throw new Error(JSON.stringify(n.issues,void 0,2));return n.value}if("parse"in t)return t.parse(e);if(typeof t=="function")return t(e);throw new Error("Invalid validator type!")}function k$(t){return{_types:void 0,options:{validator:t.validator,validateClient:t.validateClient,client:async({next:e,sendContext:n,...r})=>{var s;const i={...r,context:n,type:typeof r.type=="function"?r.type(r):r.type};if(r.type==="static"&&typeof document<"u"){Is(Ys);const l=await Ys.fetchItem(i);if(l){if(l.error)throw l.error;return e(l.ctx)}`${i.functionId}${JSON.stringify(i.data)}`}const o=await((s=t.extractedFn)==null?void 0:s.call(t,i));return e(o)},server:async({next:e,...n})=>{var r;const s=await((r=t.serverFn)==null?void 0:r.call(t,n));return e({...n,result:s})}}}}function M$({promise:t}){const e=C$(t);if(e[Ti].status==="pending")throw e;if(e[Ti].status==="error")throw e[Ti].error;return[e[Ti].data,e]}function B$(t){const e=he.jsx(L$,{...t});return t.fallback?he.jsx(Ue.Suspense,{fallback:t.fallback,children:e}):e}function L$(t){const[e]=M$(t);return t.children(e)}function n_(t){const e=t.errorComponent??Ly;return he.jsx(j$,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?Ue.createElement(e,{error:n,reset:r}):t.children})}class j$ extends Ue.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Ly({error:t}){const[e,n]=Ue.useState(!1);return he.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[he.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[he.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),he.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),he.jsx("div",{style:{height:".25rem"}}),e?he.jsx("div",{children:he.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?he.jsx("code",{children:t.message}):null})}):null]})}function F$({children:t,fallback:e=null}){return z$()?he.jsx(yh.Fragment,{children:t}):he.jsx(yh.Fragment,{children:e})}function z$(){return yh.useSyncExternalStore(q$,()=>!0,()=>!1)}function q$(){return()=>{}}var Wb={exports:{}},Kb={},Yb={exports:{}},Zb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function H$(){if(xT)return Zb;xT=1;var t=mp();function e(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(g,m){var b=m(),w=r({inst:{value:b,getSnapshot:m}}),E=w[0].inst,_=w[1];return i(function(){E.value=b,E.getSnapshot=m,d(E)&&_({inst:E})},[g,b,m]),s(function(){return d(E)&&_({inst:E}),g(function(){d(E)&&_({inst:E})})},[g]),o(b),b}function d(g){var m=g.getSnapshot;g=g.value;try{var b=m();return!n(g,b)}catch{return!0}}function f(g,m){return m()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Zb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Zb}var NT;function V$(){return NT||(NT=1,Yb.exports=H$()),Yb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function G$(){if(IT)return Kb;IT=1;var t=mp(),e=V$();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,d=t.useDebugValue;return Kb.useSyncExternalStoreWithSelector=function(f,p,g,m,b){var w=i(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function C(T){if(!I){if(I=!0,A=T,T=m(T),b!==void 0&&E.hasValue){var P=E.value;if(b(P,T))return O=P}return O=T}if(P=O,r(A,T))return P;var U=m(T);return b!==void 0&&b(P,U)?(A=T,P):(A=T,O=U)}var I=!1,A,O,x=g===void 0?null:g;return[function(){return C(p())},x===null?void 0:function(){return C(x())}]},[p,g,m,b]);var _=s(f,w[0],w[1]);return o(function(){E.hasValue=!0,E.value=_},[_]),d(_),_},Kb}var RT;function W$(){return RT||(RT=1,Wb.exports=G$()),Wb.exports}var K$=W$();function Y$(t,e=n=>n){return K$.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,Z$)}function Z$(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!e.has(r)||!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const Qb=Ue.createContext(null);function mO(){return typeof document>"u"?Qb:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Qb,Qb)}function rs(t){const e=Ue.useContext(mO());return t==null||t.warn,e}function cn(t){const e=rs({warn:(t==null?void 0:t.router)===void 0}),n=(t==null?void 0:t.router)||e,r=Ue.useRef(void 0);return Y$(n.__store,s=>{if(t!=null&&t.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const i=Es(r.current,t.select(s));return r.current=i,i}return t.select(s)}return s})}const jy=Ue.createContext(void 0),Q$=Ue.createContext(void 0);function Rs(t){const e=Ue.useContext(t.from?Q$:jy);return cn({select:r=>{const s=r.matches.find(i=>t.from?t.from===i.routeId:i.id===e);if(Is(!((t.shouldThrow??!0)&&!s),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),s!==void 0)return t.select?t.select(s):s},structuralSharing:t.structuralSharing})}function r_(t){return Rs({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function s_(t){const{select:e,...n}=t;return Rs({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function i_(t){return Rs({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function a_(t){return Rs({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function o_(t){const{navigate:e,state:n}=rs(),r=Rs({strict:!1,select:s=>s.index});return Ue.useCallback(s=>{const i=s.from??(t==null?void 0:t.from)??n.matches[r].fullPath;return e({...s,from:i})},[t==null?void 0:t.from,e])}var X$=aO();const qf=typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;function Xb(t){const e=Ue.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function J$(t,e,n={},r={}){const s=Ue.useRef(typeof IntersectionObserver=="function"),i=Ue.useRef(null);return Ue.useEffect(()=>{if(!(!t.current||!s.current||r.disabled))return i.current=new IntersectionObserver(([o])=>{e(o)},n),i.current.observe(t.current),()=>{var o;(o=i.current)==null||o.disconnect()}},[e,n,r.disabled,t]),i.current}function e4(t){const e=Ue.useRef(null);return Ue.useImperativeHandle(t,()=>e.current,[]),e}function t4(t,e){const n=rs(),[r,s]=Ue.useState(!1),i=Ue.useRef(!1),o=e4(e),{activeProps:l=()=>({className:"active"}),inactiveProps:d=()=>({}),activeOptions:f,to:p,preload:g,preloadDelay:m,hashScrollIntoView:b,replace:w,startTransition:E,resetScroll:_,viewTransition:C,children:I,target:A,disabled:O,style:x,className:T,onClick:P,onFocus:U,onMouseEnter:S,onMouseLeave:B,onTouchStart:L,ignoreBlocker:z,...K}=t,{params:G,search:k,hash:R,state:F,mask:V,reloadDocument:W,...D}=K,q=Ue.useMemo(()=>{try{return new URL(`${p}`),"external"}catch{}return"internal"},[p]),X=cn({select:lt=>lt.location.search,structuralSharing:!0}),te=Rs({strict:!1,select:lt=>lt.fullPath}),ee=t.from??te;t={...t,from:ee};const ie=Ue.useMemo(()=>n.buildLocation(t),[n,t,X]),se=Ue.useMemo(()=>t.reloadDocument?!1:g??n.options.defaultPreload,[n.options.defaultPreload,g,t.reloadDocument]),Ae=m??n.options.defaultPreloadDelay??0,ge=cn({select:lt=>{if(f!=null&&f.exact){if(!ZU(lt.location.pathname,ie.pathname,n.basepath))return!1}else{const Zt=Km(lt.location.pathname,n.basepath).split("/");if(!Km(ie.pathname,n.basepath).split("/").every((ml,oi)=>ml===Zt[oi]))return!1}return((f==null?void 0:f.includeSearch)??!0)&&!Ou(lt.location.search,ie.search,{partial:!(f!=null&&f.exact),ignoreUndefined:!(f!=null&&f.explicitUndefined)})?!1:f!=null&&f.includeHash?lt.location.hash===ie.hash:!0}}),_e=Ue.useCallback(()=>{n.preloadRoute(t).catch(lt=>{console.warn(lt),console.warn(S$)})},[t,n]),qe=Ue.useCallback(lt=>{lt!=null&&lt.isIntersecting&&_e()},[_e]);if(J$(o,qe,{rootMargin:"100px"},{disabled:!!O||se!=="viewport"}),qf(()=>{i.current||!O&&se==="render"&&(_e(),i.current=!0)},[O,_e,se]),q==="external")return{...D,ref:o,type:q,href:p,...I&&{children:I},...A&&{target:A},...O&&{disabled:O},...x&&{style:x},...T&&{className:T},...P&&{onClick:P},...U&&{onFocus:U},...S&&{onMouseEnter:S},...B&&{onMouseLeave:B},...L&&{onTouchStart:L}};const Je=lt=>{if(!O&&!n4(lt)&&!lt.defaultPrevented&&(!A||A==="_self")&&lt.button===0){lt.preventDefault(),X$.flushSync(()=>{s(!0)});const Zt=n.subscribe("onResolved",()=>{Zt(),s(!1)});return n.navigate({...t,replace:w,resetScroll:_,hashScrollIntoView:b,startTransition:E,viewTransition:C,ignoreBlocker:z})}},vt=lt=>{O||se&&_e()},gn=vt,Sn=lt=>{if(O)return;const Zt=lt.target||{};if(se){if(Zt.preloadTimeout)return;Ae?Zt.preloadTimeout=setTimeout(()=>{Zt.preloadTimeout=null,_e()},Ae):_e()}},as=lt=>{if(O)return;const Zt=lt.target||{};Zt.preloadTimeout&&(clearTimeout(Zt.preloadTimeout),Zt.preloadTimeout=null)},gr=lt=>Zt=>{var Fi;(Fi=Zt.persist)==null||Fi.call(Zt),lt.filter(Boolean).forEach(Zo=>{Zt.defaultPrevented||Zo(Zt)})},ln=ge?Fc(l,{})??{}:{},Oa=ge?{}:Fc(d,{}),Pa=[T,ln.className,Oa.className].filter(Boolean).join(" "),Da={...x,...ln.style,...Oa.style};return{...D,...ln,...Oa,href:O?void 0:ie.maskedLocation?n.history.createHref(ie.maskedLocation.href):n.history.createHref(ie.href),ref:o,onClick:gr([P,Je]),onFocus:gr([U,vt]),onMouseEnter:gr([S,Sn]),onMouseLeave:gr([B,as]),onTouchStart:gr([L,gn]),disabled:!!O,target:A,...Object.keys(Da).length&&{style:Da},...Pa&&{className:Pa},...O&&{role:"link","aria-disabled":!0},...ge&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}const Tu=Ue.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:s,ref:i,...o}=t4(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,Ue.createElement(n||"a",{...o,ref:i},l)});function n4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}let r4=class extends gO{constructor(e){super(e),this.useMatch=n=>Rs({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Rs({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>a_({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>i_({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>s_({...n,from:this.id}),this.useLoaderData=n=>r_({...n,from:this.id}),this.useNavigate=()=>o_({from:this.fullPath}),this.Link=yh.forwardRef((n,r)=>he.jsx(Tu,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function s4(t){return new r4(t)}function i4(){return t=>o4(t)}class a4 extends A${constructor(e){super(e),this.useMatch=n=>Rs({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Rs({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>a_({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>i_({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>s_({...n,from:this.id}),this.useLoaderData=n=>r_({...n,from:this.id}),this.useNavigate=()=>o_({from:this.fullPath}),this.Link=yh.forwardRef((n,r)=>he.jsx(Tu,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function o4(t){return new a4(t)}function Ku(t){return typeof t=="object"?new OT(t,{silent:!0}).createRoute(t):new OT(t,{silent:!0}).createRoute}class OT{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const s=s4(r);return s.isRoot=!1,s},this.silent=n==null?void 0:n.silent}}class PT{constructor(e){this.useMatch=n=>Rs({select:n==null?void 0:n.select,from:this.options.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Rs({from:this.options.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>a_({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useParams=n=>i_({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>s_({...n,from:this.options.id}),this.useLoaderData=n=>r_({...n,from:this.options.id}),this.useNavigate=()=>{const n=rs();return o_({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function DT(t){return typeof t=="object"?new PT(t):e=>new PT({id:t,...e})}function c4(t){const e=cn({select:n=>`not-found-${n.location.pathname}-${n.status}`});return he.jsx(n_,{getResetKey:()=>e,onCatch:(n,r)=>{var s;if(Dr(n))(s=t.onCatch)==null||s.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(Dr(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function l4(){return he.jsx("p",{children:"Not Found"})}function Dm(t){return he.jsx(he.Fragment,{children:t.children})}function yO(t,e,n){return e.options.notFoundComponent?he.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?he.jsx(t.options.defaultNotFoundComponent,{data:n}):he.jsx(l4,{})}var Jb,UT;function u4(){if(UT)return Jb;UT=1;const t={},e=t.hasOwnProperty,n=(U,S)=>{for(const B in U)e.call(U,B)&&S(B,U[B])},r=(U,S)=>(S&&n(S,(B,L)=>{U[B]=L}),U),s=(U,S)=>{const B=U.length;let L=-1;for(;++L<B;)S(U[L])},i=U=>"\\u"+("0000"+U).slice(-4),o=(U,S)=>{let B=U.toString(16);return S?B:B.toUpperCase()},l=t.toString,d=Array.isArray,f=U=>typeof Buffer=="function"&&Buffer.isBuffer(U),p=U=>l.call(U)=="[object Object]",g=U=>typeof U=="string"||l.call(U)=="[object String]",m=U=>typeof U=="number"||l.call(U)=="[object Number]",b=U=>typeof U=="bigint",w=U=>typeof U=="function",E=U=>l.call(U)=="[object Map]",_=U=>l.call(U)=="[object Set]",C={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},I=/[\\\b\f\n\r\t]/,A=/[0-9]/,O=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,x=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,T=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,P=(U,S)=>{const B=()=>{F=R,++S.indentLevel,R=S.indent.repeat(S.indentLevel)},L={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},z=S&&S.json;z&&(L.quotes="double",L.wrap=!0),S=r(L,S),S.quotes!="single"&&S.quotes!="double"&&S.quotes!="backtick"&&(S.quotes="single");const K=S.quotes=="double"?'"':S.quotes=="backtick"?"`":"'",G=S.compact,k=S.lowercaseHex;let R=S.indent.repeat(S.indentLevel),F="";const V=S.__inline1__,W=S.__inline2__,D=G?"":`
`;let q,X=!0;const te=S.numbers=="binary",ee=S.numbers=="octal",ie=S.numbers=="decimal",se=S.numbers=="hexadecimal";if(z&&U&&w(U.toJSON)&&(U=U.toJSON()),!g(U)){if(E(U))return U.size==0?"new Map()":(G||(S.__inline1__=!0,S.__inline2__=!1),"new Map("+P(Array.from(U),S)+")");if(_(U))return U.size==0?"new Set()":"new Set("+P(Array.from(U),S)+")";if(f(U))return U.length==0?"Buffer.from([])":"Buffer.from("+P(Array.from(U),S)+")";if(d(U))return q=[],S.wrap=!0,V&&(S.__inline1__=!1,S.__inline2__=!0),W||B(),s(U,ge=>{X=!1,W&&(S.__inline2__=!1),q.push((G||W?"":R)+P(ge,S))}),X?"[]":W?"["+q.join(", ")+"]":"["+D+q.join(","+D)+D+(G?"":F)+"]";if(m(U)||b(U)){if(z)return JSON.stringify(Number(U));let ge;if(ie)ge=String(U);else if(se){let _e=U.toString(16);k||(_e=_e.toUpperCase()),ge="0x"+_e}else te?ge="0b"+U.toString(2):ee&&(ge="0o"+U.toString(8));return b(U)?ge+"n":ge}else return b(U)?z?JSON.stringify(Number(U)):U+"n":p(U)?(q=[],S.wrap=!0,B(),n(U,(ge,_e)=>{X=!1,q.push((G?"":R)+P(ge,S)+":"+(G?"":" ")+P(_e,S))}),X?"{}":"{"+D+q.join(","+D)+D+(G?"":F)+"}"):z?JSON.stringify(U)||"null":String(U)}const Ae=S.escapeEverything?x:T;return q=U.replace(Ae,(ge,_e,qe,Je,vt,gn)=>{if(_e){if(S.minimal)return _e;const as=_e.charCodeAt(0),gr=_e.charCodeAt(1);if(S.es6){const ln=(as-55296)*1024+gr-56320+65536;return"\\u{"+o(ln,k)+"}"}return i(o(as,k))+i(o(gr,k))}if(qe)return i(o(qe.charCodeAt(0),k));if(ge=="\0"&&!z&&!A.test(gn.charAt(vt+1)))return"\\0";if(Je)return Je==K||S.escapeEverything?"\\"+Je:Je;if(I.test(ge))return C[ge];if(S.minimal&&!O.test(ge))return ge;const Sn=o(ge.charCodeAt(0),k);return z||Sn.length>2?i(Sn):"\\x"+("00"+Sn).slice(-2)}),K=="`"&&(q=q.replace(/\$\{/g,"\\${")),S.isScriptContext&&(q=q.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,z?"\\u003C!--":"\\x3C!--")),S.wrap&&(q=K+q+K),q};return P.version="3.0.2",Jb=P,Jb}u4();function d4({children:t,log:e}){return typeof document<"u"?null:he.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[t,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function f4(){const t=rs(),n=(t.options.getScrollRestorationKey||TE)(t.latestLocation),r=n!==TE(t.latestLocation)?n:null;return!t.isScrollRestoring||!t.isServer?null:he.jsx(d4,{children:`(${dO.toString()})(${JSON.stringify(Zm)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const wO=Ue.memo(function({matchId:e}){var n,r;const s=rs(),i=cn({select:C=>{var I;return(I=C.matches.find(A=>A.id===e))==null?void 0:I.routeId}});Is(i);const o=s.routesById[i],l=o.options.pendingComponent??s.options.defaultPendingComponent,d=l?he.jsx(l,{}):null,f=o.options.errorComponent??s.options.defaultErrorComponent,p=o.options.onCatch??s.options.defaultOnCatch,g=o.isRoot?o.options.notFoundComponent??((n=s.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,m=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??l??((r=o.options.errorComponent)==null?void 0:r.preload))?Ue.Suspense:Dm,b=f?n_:Dm,w=g?c4:Dm,E=cn({select:C=>C.loadedAt}),_=cn({select:C=>{var I;const A=C.matches.findIndex(O=>O.id===e);return(I=C.matches[A-1])==null?void 0:I.routeId}});return he.jsxs(he.Fragment,{children:[he.jsx(jy.Provider,{value:e,children:he.jsx(m,{fallback:d,children:he.jsx(b,{getResetKey:()=>E,errorComponent:f||Ly,onCatch:(C,I)=>{if(Dr(C))throw C;p==null||p(C,I)},children:he.jsx(w,{fallback:C=>{if(!g||C.routeId&&C.routeId!==i||!C.routeId&&!o.isRoot)throw C;return Ue.createElement(g,C)},children:he.jsx(p4,{matchId:e})})})})}),_===Ks&&s.options.scrollRestoration?he.jsxs(he.Fragment,{children:[he.jsx(h4,{}),he.jsx(f4,{})]}):null]})});function h4(){const t=rs(),e=Ue.useRef(void 0);return he.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...zc(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.key)}const p4=Ue.memo(function({matchId:e}){var n,r,s;const i=rs(),{match:o,key:l,routeId:d}=cn({select:m=>{const b=m.matches.findIndex(A=>A.id===e),w=m.matches[b],E=w.routeId,_=i.routesById[E].options.remountDeps??i.options.defaultRemountDeps,C=_==null?void 0:_({routeId:E,loaderDeps:w.loaderDeps,params:w._strictParams,search:w._strictSearch});return{key:C?JSON.stringify(C):void 0,routeId:E,match:SE(w,["id","status","error"])}},structuralSharing:!0}),f=i.routesById[d],p=Ue.useMemo(()=>{const m=f.options.component??i.options.defaultComponent;return m?he.jsx(m,{},l):he.jsx(c_,{})},[l,f.options.component,i.options.defaultComponent]),g=(f.options.errorComponent??i.options.defaultErrorComponent)||Ly;if(o.status==="notFound")return Is(Dr(o.error)),yO(i,f,o.error);if(o.status==="redirected")throw Is(Rr(o.error)),(n=i.getMatch(o.id))==null?void 0:n.loadPromise;if(o.status==="error"){if(i.isServer)return he.jsx(g,{error:o.error,reset:void 0,info:{componentStack:""}});throw o.error}if(o.status==="pending"){const m=f.options.pendingMinMs??i.options.defaultPendingMinMs;if(m&&!((r=i.getMatch(o.id))!=null&&r.minPendingPromise)&&!i.isServer){const b=Eu();Promise.resolve().then(()=>{i.updateMatch(o.id,w=>({...w,minPendingPromise:b}))}),setTimeout(()=>{b.resolve(),i.updateMatch(o.id,w=>({...w,minPendingPromise:void 0}))},m)}throw(s=i.getMatch(o.id))==null?void 0:s.loadPromise}return p}),c_=Ue.memo(function(){const e=rs(),n=Ue.useContext(jy),r=cn({select:f=>{var p;return(p=f.matches.find(g=>g.id===n))==null?void 0:p.routeId}}),s=e.routesById[r],i=cn({select:f=>{const g=f.matches.find(m=>m.id===n);return Is(g),g.globalNotFound}}),o=cn({select:f=>{var p;const g=f.matches,m=g.findIndex(b=>b.id===n);return(p=g[m+1])==null?void 0:p.id}}),l=e.options.defaultPendingComponent?he.jsx(e.options.defaultPendingComponent,{}):null;if(e.isShell)return he.jsx(Ue.Suspense,{fallback:l,children:he.jsx(g4,{})});if(i)return yO(e,s,void 0);if(!o)return null;const d=he.jsx(wO,{matchId:o});return n===Ks?he.jsx(Ue.Suspense,{fallback:l,children:d}):d});function g4(){throw new Error("ShellBoundaryError")}function m4(t){return typeof(t==null?void 0:t.message)!="string"?!1:t.message.startsWith("Failed to fetch dynamically imported module")||t.message.startsWith("error loading dynamically imported module")||t.message.startsWith("Importing a module script failed")}function Fy(t,e,n){let r,s,i,o;const l=()=>typeof document>"u"&&(n==null?void 0:n())===!1?(s=()=>null,Promise.resolve()):(r||(r=t().then(f=>{r=void 0,s=f[e]}).catch(f=>{if(i=f,m4(i)&&i instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const p=`tanstack_router_reload:${i.message}`;sessionStorage.getItem(p)||(sessionStorage.setItem(p,"1"),o=!0)}})),r),d=function(p){if(o)throw window.location.reload(),new Promise(()=>{});if(i)throw i;if(!s)throw l();return(n==null?void 0:n())===!1?he.jsx(F$,{fallback:he.jsx(c_,{}),children:Ue.createElement(s,p)}):Ue.createElement(s,p)};return d.preload=l,d}function y4(){const t=rs(),e=Ue.useRef({router:t,mounted:!1}),n=cn({select:({isLoading:g})=>g}),[r,s]=Ue.useState(!1),i=cn({select:g=>g.matches.some(m=>m.status==="pending"),structuralSharing:!0}),o=Xb(n),l=n||r||i,d=Xb(l),f=n||i,p=Xb(f);return t.isServer||(t.startTransition=g=>{s(!0),Ue.startTransition(()=>{g(),s(!1)})}),Ue.useEffect(()=>{const g=t.history.subscribe(t.load),m=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Gu(t.latestLocation.href)!==Gu(m.href)&&t.commitLocation({...m,replace:!0}),()=>{g()}},[t,t.history]),qf(()=>{if(typeof window<"u"&&t.clientSsr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(m){console.error(m)}})()},[t]),qf(()=>{o&&!n&&t.emit({type:"onLoad",...zc(t.state)})},[o,t,n]),qf(()=>{p&&!f&&t.emit({type:"onBeforeRouteMount",...zc(t.state)})},[f,p,t]),qf(()=>{d&&!l&&(t.emit({type:"onResolved",...zc(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),l$(t))},[l,d,t]),null}function w4(){const t=rs(),e=t.options.defaultPendingComponent?he.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&t.clientSsr?Dm:Ue.Suspense,r=he.jsxs(n,{fallback:e,children:[he.jsx(y4,{}),he.jsx(b4,{})]});return t.options.InnerWrap?he.jsx(t.options.InnerWrap,{children:r}):r}function b4(){const t=cn({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=cn({select:n=>n.loadedAt});return he.jsx(jy.Provider,{value:t,children:he.jsx(n_,{getResetKey:()=>e,errorComponent:Ly,onCatch:n=>{n.message||n.toString()},children:t?he.jsx(wO,{matchId:t}):null})})}const v4=t=>new E4(t);class E4 extends y${constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=Ku,globalThis.createLazyFileRoute=DT):typeof window<"u"&&(window.createFileRoute=Ku,window.createFileRoute=DT);function _4({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=mO(),s=he.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?he.jsx(t.options.Wrap,{children:s}):s}function C4({router:t,...e}){return he.jsx(_4,{router:t,...e,children:he.jsx(w4,{})})}function bO({tag:t,attrs:e,children:n}){switch(t){case"title":return he.jsx("title",{...e,suppressHydrationWarning:!0,children:n});case"meta":return he.jsx("meta",{...e,suppressHydrationWarning:!0});case"link":return he.jsx("link",{...e,suppressHydrationWarning:!0});case"style":return he.jsx("style",{...e,dangerouslySetInnerHTML:{__html:n}});case"script":return e&&e.src?he.jsx("script",{...e,suppressHydrationWarning:!0}):typeof n=="string"?he.jsx("script",{...e,dangerouslySetInnerHTML:{__html:n},suppressHydrationWarning:!0}):null;default:return null}}const S4=()=>{const t=rs(),e=cn({select:o=>o.matches.map(l=>l.meta).filter(Boolean)}),n=Ue.useMemo(()=>{const o=[],l={};let d;return[...e].reverse().forEach(f=>{[...f].reverse().forEach(p=>{if(p)if(p.title)d||(d={tag:"title",children:p.title});else{const g=p.name??p.property;if(g){if(l[g])return;l[g]=!0}o.push({tag:"meta",attrs:{...p}})}})}),d&&o.push(d),o.reverse(),o},[e]),r=cn({select:o=>{var l;const d=o.matches.map(g=>g.links).filter(Boolean).flat(1).map(g=>({tag:"link",attrs:{...g}})),f=(l=t.ssr)==null?void 0:l.manifest,p=o.matches.map(g=>{var m;return((m=f==null?void 0:f.routes[g.routeId])==null?void 0:m.assets)??[]}).filter(Boolean).flat(1).filter(g=>g.tag==="link").map(g=>({tag:"link",attrs:{...g.attrs,suppressHydrationWarning:!0}}));return[...d,...p]},structuralSharing:!0}),s=cn({select:o=>{const l=[];return o.matches.map(d=>t.looseRoutesById[d.routeId]).forEach(d=>{var f,p,g,m;return(m=(g=(p=(f=t.ssr)==null?void 0:f.manifest)==null?void 0:p.routes[d.id])==null?void 0:g.preloads)==null?void 0:m.filter(Boolean).forEach(b=>{l.push({tag:"link",attrs:{rel:"modulepreload",href:b}})})}),l},structuralSharing:!0}),i=cn({select:o=>o.matches.map(l=>l.headScripts).flat(1).filter(Boolean).map(({children:l,...d})=>({tag:"script",attrs:{...d},children:l})),structuralSharing:!0});return T4([...n,...s,...r,...i],o=>JSON.stringify(o))};function A4(){return S4().map(e=>Ue.createElement(bO,{...e,key:`tsr-meta-${JSON.stringify(e)}`}))}function T4(t,e){const n=new Set;return t.filter(r=>{const s=e(r);return n.has(s)?!1:(n.add(s),!0)})}const x4=()=>{const t=rs(),e=cn({select:s=>{var i;const o=[],l=(i=t.ssr)==null?void 0:i.manifest;return l?(s.matches.map(d=>t.looseRoutesById[d.routeId]).forEach(d=>{var f,p;return(p=(f=l.routes[d.id])==null?void 0:f.assets)==null?void 0:p.filter(g=>g.tag==="script").forEach(g=>{o.push({tag:"script",attrs:g.attrs,children:g.children})})}),o):[]},structuralSharing:!0}),{scripts:n}=cn({select:s=>({scripts:s.matches.map(i=>i.scripts).flat(1).filter(Boolean).map(({children:i,...o})=>({tag:"script",attrs:{...o,suppressHydrationWarning:!0},children:i}))}),structuralSharing:!0}),r=[...n,...e];return he.jsx(he.Fragment,{children:r.map((s,i)=>Ue.createElement(bO,{...s,key:`tsr-scripts-${s.tag}-${i}`}))})};let Jg;function N4(t){return Jg||(t.router.state.matches.length?Jg=Promise.resolve():Jg=T$(t.router)),he.jsx(B$,{promise:Jg,children:()=>he.jsx(C4,{router:t.router})})}var zy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qy=typeof window>"u"||"Deno"in globalThis;function Qr(){}function I4(t,e){return typeof t=="function"?t(e):t}function R4(t){return typeof t=="number"&&t>=0&&t!==1/0}function O4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function IE(t,e){return typeof t=="function"?t(e):t}function P4(t,e){return typeof t=="function"?t(e):t}function $T(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==l_(o,e.options))return!1}else if(!bh(e.queryKey,o))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function kT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Gc(e.options.mutationKey)!==Gc(i))return!1}else if(!bh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function l_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gc)(t)}function Gc(t){return JSON.stringify(t,(e,n)=>RE(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function bh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>bh(t[n],e[n])):!1}function vO(t,e){if(t===e)return t;const n=MT(t)&&MT(e);if(n||RE(t)&&RE(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},d=new Set(r);let f=0;for(let p=0;p<o;p++){const g=n?p:i[p];(!n&&d.has(g)||n)&&t[g]===void 0&&e[g]===void 0?(l[g]=void 0,f++):(l[g]=vO(t[g],e[g]),l[g]===t[g]&&t[g]!==void 0&&f++)}return s===o&&f===s?t:l}return e}function Uoe(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function MT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function RE(t){if(!BT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!BT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function BT(t){return Object.prototype.toString.call(t)==="[object Object]"}function D4(t){return new Promise(e=>{setTimeout(e,t)})}function U4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?vO(t,e):e}function $4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function k4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var u_=Symbol();function EO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===u_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function $oe(t,e){return typeof t=="function"?t(...e):!!t}var kc,To,Mu,QR,M4=(QR=class extends zy{constructor(){super();pt(this,kc);pt(this,To);pt(this,Mu);Ye(this,Mu,e=>{if(!qy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ce(this,To)||this.setEventListener(ce(this,Mu))}onUnsubscribe(){var e;this.hasListeners()||((e=ce(this,To))==null||e.call(this),Ye(this,To,void 0))}setEventListener(e){var n;Ye(this,Mu,e),(n=ce(this,To))==null||n.call(this),Ye(this,To,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ce(this,kc)!==e&&(Ye(this,kc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ce(this,kc)=="boolean"?ce(this,kc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},kc=new WeakMap,To=new WeakMap,Mu=new WeakMap,QR),_O=new M4,Bu,xo,Lu,XR,B4=(XR=class extends zy{constructor(){super();pt(this,Bu,!0);pt(this,xo);pt(this,Lu);Ye(this,Lu,e=>{if(!qy&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ce(this,xo)||this.setEventListener(ce(this,Lu))}onUnsubscribe(){var e;this.hasListeners()||((e=ce(this,xo))==null||e.call(this),Ye(this,xo,void 0))}setEventListener(e){var n;Ye(this,Lu,e),(n=ce(this,xo))==null||n.call(this),Ye(this,xo,e(this.setOnline.bind(this)))}setOnline(e){ce(this,Bu)!==e&&(Ye(this,Bu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ce(this,Bu)}},Bu=new WeakMap,xo=new WeakMap,Lu=new WeakMap,XR),Jm=new B4;function L4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function j4(t){var n;let e;if((n=t.then(r=>(e=r,r),Qr))==null||n.catch(Qr),e!==void 0)return{data:e}}function F4(t){return Math.min(1e3*2**t,3e4)}function CO(t){return(t??"online")==="online"?Jm.isOnline():!0}var SO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ev(t){return t instanceof SO}function AO(t){let e=!1,n=0,r=!1,s;const i=L4(),o=E=>{var _;r||(m(new SO(E)),(_=t.abort)==null||_.call(t))},l=()=>{e=!0},d=()=>{e=!1},f=()=>_O.isFocused()&&(t.networkMode==="always"||Jm.isOnline())&&t.canRun(),p=()=>CO(t.networkMode)&&t.canRun(),g=E=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,E),s==null||s(),i.resolve(E))},m=E=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,E),s==null||s(),i.reject(E))},b=()=>new Promise(E=>{var _;s=C=>{(r||f())&&E(C)},(_=t.onPause)==null||_.call(t)}).then(()=>{var E;s=void 0,r||(E=t.onContinue)==null||E.call(t)}),w=()=>{if(r)return;let E;const _=n===0?t.initialPromise:void 0;try{E=_??t.fn()}catch(C){E=Promise.reject(C)}Promise.resolve(E).then(g).catch(C=>{var T;if(r)return;const I=t.retry??(qy?0:3),A=t.retryDelay??F4,O=typeof A=="function"?A(n,C):A,x=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,C);if(e||!x){m(C);return}n++,(T=t.onFail)==null||T.call(t,n,C),D4(O).then(()=>f()?void 0:b()).then(()=>{e?m(C):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:d,canStart:p,start:()=>(p()?w():b().then(w),i)}}var z4=t=>setTimeout(t,0);function q4(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=z4;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(d=>{n(d)})})})};return{batch:l=>{let d;e++;try{d=l()}finally{e--,e||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var ur=q4(),Mc,JR,TO=(JR=class{constructor(){pt(this,Mc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R4(this.gcTime)&&Ye(this,Mc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qy?1/0:5*60*1e3))}clearGcTimeout(){ce(this,Mc)&&(clearTimeout(ce(this,Mc)),Ye(this,Mc,void 0))}},Mc=new WeakMap,JR),ju,Fu,Cs,Bc,rr,hp,Lc,Gs,ha,eO,H4=(eO=class extends TO{constructor(e){super();pt(this,Gs);pt(this,ju);pt(this,Fu);pt(this,Cs);pt(this,Bc);pt(this,rr);pt(this,hp);pt(this,Lc);Ye(this,Lc,!1),Ye(this,hp,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ye(this,Bc,e.client),Ye(this,Cs,ce(this,Bc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ye(this,ju,G4(this.options)),this.state=e.state??ce(this,ju),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ce(this,rr))==null?void 0:e.promise}setOptions(e){this.options={...ce(this,hp),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ce(this,Cs).remove(this)}setData(e,n){const r=U4(this.state.data,e,this.options);return Qn(this,Gs,ha).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Qn(this,Gs,ha).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=ce(this,rr))==null?void 0:r.promise;return(s=ce(this,rr))==null||s.cancel(e),n?n.then(Qr).catch(Qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ce(this,ju))}isActive(){return this.observers.some(e=>P4(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===u_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>IE(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!O4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ce(this,rr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ce(this,rr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ce(this,Cs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ce(this,rr)&&(ce(this,Lc)?ce(this,rr).cancel({revert:!0}):ce(this,rr).cancelRetry()),this.scheduleGc()),ce(this,Cs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qn(this,Gs,ha).call(this,{type:"invalidate"})}fetch(e,n){var f,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ce(this,rr))return ce(this,rr).continueRetry(),ce(this,rr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(b=>b.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ye(this,Lc,!0),r.signal)})},i=()=>{const m=EO(this.options,n),w=(()=>{const E={client:ce(this,Bc),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return Ye(this,Lc,!1),this.options.persister?this.options.persister(m,w,this):m(w)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ce(this,Bc),state:this.state,fetchFn:i};return s(m),m})();(f=this.options.behavior)==null||f.onFetch(l,this),Ye(this,Fu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&Qn(this,Gs,ha).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta});const d=m=>{var b,w,E,_;ev(m)&&m.silent||Qn(this,Gs,ha).call(this,{type:"error",error:m}),ev(m)||((w=(b=ce(this,Cs).config).onError)==null||w.call(b,m,this),(_=(E=ce(this,Cs).config).onSettled)==null||_.call(E,this.state.data,m,this)),this.scheduleGc()};return Ye(this,rr,AO({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var b,w,E,_;if(m===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(C){d(C);return}(w=(b=ce(this,Cs).config).onSuccess)==null||w.call(b,m,this),(_=(E=ce(this,Cs).config).onSettled)==null||_.call(E,m,this.state.error,this),this.scheduleGc()},onError:d,onFail:(m,b)=>{Qn(this,Gs,ha).call(this,{type:"failed",failureCount:m,error:b})},onPause:()=>{Qn(this,Gs,ha).call(this,{type:"pause"})},onContinue:()=>{Qn(this,Gs,ha).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ce(this,rr).start()}},ju=new WeakMap,Fu=new WeakMap,Cs=new WeakMap,Bc=new WeakMap,rr=new WeakMap,hp=new WeakMap,Lc=new WeakMap,Gs=new WeakSet,ha=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...V4(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ev(s)&&s.revert&&ce(this,Fu)?{...ce(this,Fu),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ur.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ce(this,Cs).notify({query:this,type:"updated",action:e})})},eO);function V4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function G4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _i,tO,W4=(tO=class extends zy{constructor(e={}){super();pt(this,_i);this.config=e,Ye(this,_i,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??l_(s,n);let o=this.get(i);return o||(o=new H4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){ce(this,_i).has(e.queryHash)||(ce(this,_i).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ce(this,_i).get(e.queryHash);n&&(e.destroy(),n===e&&ce(this,_i).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ce(this,_i).get(e)}getAll(){return[...ce(this,_i).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$T(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>$T(e,r)):n}notify(e){ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_i=new WeakMap,tO),Ci,lr,jc,Si,mo,nO,K4=(nO=class extends TO{constructor(e){super();pt(this,Si);pt(this,Ci);pt(this,lr);pt(this,jc);this.mutationId=e.mutationId,Ye(this,lr,e.mutationCache),Ye(this,Ci,[]),this.state=e.state||Y4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ce(this,Ci).includes(e)||(ce(this,Ci).push(e),this.clearGcTimeout(),ce(this,lr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ye(this,Ci,ce(this,Ci).filter(n=>n!==e)),this.scheduleGc(),ce(this,lr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ce(this,Ci).length||(this.state.status==="pending"?this.scheduleGc():ce(this,lr).remove(this))}continue(){var e;return((e=ce(this,jc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,l,d,f,p,g,m,b,w,E,_,C,I,A,O,x,T,P,U;const n=()=>{Qn(this,Si,mo).call(this,{type:"continue"})};Ye(this,jc,AO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,B)=>{Qn(this,Si,mo).call(this,{type:"failed",failureCount:S,error:B})},onPause:()=>{Qn(this,Si,mo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ce(this,lr).canRun(this)}));const r=this.state.status==="pending",s=!ce(this,jc).canStart();try{if(r)n();else{Qn(this,Si,mo).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=ce(this,lr).config).onMutate)==null?void 0:o.call(i,e,this));const B=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,e));B!==this.state.context&&Qn(this,Si,mo).call(this,{type:"pending",context:B,variables:e,isPaused:s})}const S=await ce(this,jc).start();return await((p=(f=ce(this,lr).config).onSuccess)==null?void 0:p.call(f,S,e,this.state.context,this)),await((m=(g=this.options).onSuccess)==null?void 0:m.call(g,S,e,this.state.context)),await((w=(b=ce(this,lr).config).onSettled)==null?void 0:w.call(b,S,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,S,null,e,this.state.context)),Qn(this,Si,mo).call(this,{type:"success",data:S}),S}catch(S){try{throw await((I=(C=ce(this,lr).config).onError)==null?void 0:I.call(C,S,e,this.state.context,this)),await((O=(A=this.options).onError)==null?void 0:O.call(A,S,e,this.state.context)),await((T=(x=ce(this,lr).config).onSettled)==null?void 0:T.call(x,void 0,S,this.state.variables,this.state.context,this)),await((U=(P=this.options).onSettled)==null?void 0:U.call(P,void 0,S,e,this.state.context)),S}finally{Qn(this,Si,mo).call(this,{type:"error",error:S})}}finally{ce(this,lr).runNext(this)}}},Ci=new WeakMap,lr=new WeakMap,jc=new WeakMap,Si=new WeakSet,mo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ur.batch(()=>{ce(this,Ci).forEach(r=>{r.onMutationUpdate(e)}),ce(this,lr).notify({mutation:this,type:"updated",action:e})})},nO);function Y4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wa,Ws,pp,rO,Z4=(rO=class extends zy{constructor(e={}){super();pt(this,wa);pt(this,Ws);pt(this,pp);this.config=e,Ye(this,wa,new Set),Ye(this,Ws,new Map),Ye(this,pp,0)}build(e,n,r){const s=new K4({mutationCache:this,mutationId:++Zg(this,pp)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){ce(this,wa).add(e);const n=em(e);if(typeof n=="string"){const r=ce(this,Ws).get(n);r?r.push(e):ce(this,Ws).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ce(this,wa).delete(e)){const n=em(e);if(typeof n=="string"){const r=ce(this,Ws).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&ce(this,Ws).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=em(e);if(typeof n=="string"){const r=ce(this,Ws).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=em(e);if(typeof n=="string"){const s=(r=ce(this,Ws).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ur.batch(()=>{ce(this,wa).forEach(e=>{this.notify({type:"removed",mutation:e})}),ce(this,wa).clear(),ce(this,Ws).clear()})}getAll(){return Array.from(ce(this,wa))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>kT(n,r))}findAll(e={}){return this.getAll().filter(n=>kT(e,n))}notify(e){ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ur.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qr))))}},wa=new WeakMap,Ws=new WeakMap,pp=new WeakMap,rO);function em(t){var e;return(e=t.options.scope)==null?void 0:e.id}function LT(t){return{onFetch:(e,n)=>{var p,g,m,b,w;const r=e.options,s=(m=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:m.direction,i=((b=e.state.data)==null?void 0:b.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const f=async()=>{let E=!1;const _=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},C=EO(e.options,e.fetchOptions),I=async(A,O,x)=>{if(E)return Promise.reject();if(O==null&&A.pages.length)return Promise.resolve(A);const P=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:O,direction:x?"backward":"forward",meta:e.options.meta};return _(L),L})(),U=await C(P),{maxPages:S}=e.options,B=x?k4:$4;return{pages:B(A.pages,U,S),pageParams:B(A.pageParams,O,S)}};if(s&&i.length){const A=s==="backward",O=A?Q4:jT,x={pages:i,pageParams:o},T=O(r,x);l=await I(x,T,A)}else{const A=t??i.length;do{const O=d===0?o[0]??r.initialPageParam:jT(r,l);if(d>0&&O==null)break;l=await I(l,O),d++}while(d<A)}return l};e.options.persister?e.fetchFn=()=>{var E,_;return(_=(E=e.options).persister)==null?void 0:_.call(E,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=f}}}function jT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Q4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var rn,No,Io,zu,qu,Ro,Hu,Vu,sO,X4=(sO=class{constructor(t={}){pt(this,rn);pt(this,No);pt(this,Io);pt(this,zu);pt(this,qu);pt(this,Ro);pt(this,Hu);pt(this,Vu);Ye(this,rn,t.queryCache||new W4),Ye(this,No,t.mutationCache||new Z4),Ye(this,Io,t.defaultOptions||{}),Ye(this,zu,new Map),Ye(this,qu,new Map),Ye(this,Ro,0)}mount(){Zg(this,Ro)._++,ce(this,Ro)===1&&(Ye(this,Hu,_O.subscribe(async t=>{t&&(await this.resumePausedMutations(),ce(this,rn).onFocus())})),Ye(this,Vu,Jm.subscribe(async t=>{t&&(await this.resumePausedMutations(),ce(this,rn).onOnline())})))}unmount(){var t,e;Zg(this,Ro)._--,ce(this,Ro)===0&&((t=ce(this,Hu))==null||t.call(this),Ye(this,Hu,void 0),(e=ce(this,Vu))==null||e.call(this),Ye(this,Vu,void 0))}isFetching(t){return ce(this,rn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ce(this,No).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ce(this,rn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ce(this,rn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(IE(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ce(this,rn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=ce(this,rn).get(r.queryHash),i=s==null?void 0:s.state.data,o=I4(e,i);if(o!==void 0)return ce(this,rn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ur.batch(()=>ce(this,rn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ce(this,rn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ce(this,rn);ur.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ce(this,rn);return ur.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ur.batch(()=>ce(this,rn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Qr).catch(Qr)}invalidateQueries(t,e={}){return ur.batch(()=>(ce(this,rn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ur.batch(()=>ce(this,rn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Qr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Qr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ce(this,rn).build(this,e);return n.isStaleByTime(IE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qr).catch(Qr)}fetchInfiniteQuery(t){return t.behavior=LT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qr).catch(Qr)}ensureInfiniteQueryData(t){return t.behavior=LT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jm.isOnline()?ce(this,No).resumePausedMutations():Promise.resolve()}getQueryCache(){return ce(this,rn)}getMutationCache(){return ce(this,No)}getDefaultOptions(){return ce(this,Io)}setDefaultOptions(t){Ye(this,Io,t)}setQueryDefaults(t,e){ce(this,zu).set(Gc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ce(this,zu).values()],n={};return e.forEach(r=>{bh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ce(this,qu).set(Gc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ce(this,qu).values()],n={};return e.forEach(r=>{bh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ce(this,Io).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=l_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===u_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ce(this,Io).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ce(this,rn).clear(),ce(this,No).clear()}},rn=new WeakMap,No=new WeakMap,Io=new WeakMap,zu=new WeakMap,qu=new WeakMap,Ro=new WeakMap,Hu=new WeakMap,Vu=new WeakMap,sO);function xO(t){return t}function J4(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function ek(t,e,n){var r;return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:(r=t.promise)==null?void 0:r.then(e).catch(s=>n(s)?Promise.reject(new Error("redacted")):Promise.reject(s))},...t.meta&&{meta:t.meta}}}function tk(t){return t.state.isPaused}function nk(t){return t.state.status==="success"}function rk(t){return!0}function FT(t,e={}){var d,f,p,g;const n=e.shouldDehydrateMutation??((d=t.getDefaultOptions().dehydrate)==null?void 0:d.shouldDehydrateMutation)??tk,r=t.getMutationCache().getAll().flatMap(m=>n(m)?[J4(m)]:[]),s=e.shouldDehydrateQuery??((f=t.getDefaultOptions().dehydrate)==null?void 0:f.shouldDehydrateQuery)??nk,i=e.shouldRedactErrors??((p=t.getDefaultOptions().dehydrate)==null?void 0:p.shouldRedactErrors)??rk,o=e.serializeData??((g=t.getDefaultOptions().dehydrate)==null?void 0:g.serializeData)??xO,l=t.getQueryCache().getAll().flatMap(m=>s(m)?[ek(m,o,i)]:[]);return{mutations:r,queries:l}}function zT(t,e,n){var d;if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),s=t.getQueryCache(),i=((d=t.getDefaultOptions().hydrate)==null?void 0:d.deserializeData)??xO,o=e.mutations||[],l=e.queries||[];o.forEach(({state:f,...p})=>{var g,m;r.build(t,{...(g=t.getDefaultOptions().hydrate)==null?void 0:g.mutations,...(m=n==null?void 0:n.defaultOptions)==null?void 0:m.mutations,...p},f)}),l.forEach(({queryKey:f,state:p,queryHash:g,meta:m,promise:b,dehydratedAt:w})=>{var x,T;const E=b?j4(b):void 0,_=p.data===void 0?E==null?void 0:E.data:p.data,C=_===void 0?_:i(_);let I=s.get(g);const A=(I==null?void 0:I.state.status)==="pending",O=(I==null?void 0:I.state.fetchStatus)==="fetching";if(I){const P=E&&w!==void 0&&w>I.state.dataUpdatedAt;if(p.dataUpdatedAt>I.state.dataUpdatedAt||P){const{fetchStatus:U,...S}=p;I.setState({...S,data:C})}}else I=s.build(t,{...(x=t.getDefaultOptions().hydrate)==null?void 0:x.queries,...(T=n==null?void 0:n.defaultOptions)==null?void 0:T.queries,queryKey:f,queryHash:g,meta:m},{...p,data:C,fetchStatus:"idle",status:C!==void 0?"success":p.status});b&&!A&&!O&&(w===void 0||w>I.state.dataUpdatedAt)&&I.fetch(void 0,{initialPromise:Promise.resolve(b).then(i)})})}var NO=Ue.createContext(void 0),koe=t=>{const e=Ue.useContext(NO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},sk=({client:t,children:e})=>(Ue.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),he.jsx(NO.Provider,{value:t,children:e}));function ik(t,e,n){const r=new Set,s=new Set,i=e.getDefaultOptions();if(e.setDefaultOptions({...i,queries:{...i.queries,_experimental_beforeQuery:l=>{var d,f;(f=(d=i.queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,l);const p=l.queryKeyHashFn||Gc;if(t.isServer){if(r.has(p(l.queryKey)))return;if(r.add(p(l.queryKey)),e.getQueryData(l.queryKey)!==void 0){l.__skipInjection=!0;return}}else{const g=t.clientSsr.getStreamedValue("__QueryClient__"+p(l.queryKey));g&&!g.hydrated&&(g.hydrated=!0,zT(e,g))}},_experimental_afterQuery:(l,d)=>{var f,p;const g=l.queryKeyHashFn||Gc;t.isServer&&!l.__skipInjection&&e.getQueryData(l.queryKey)!==void 0&&!s.has(g(l.queryKey))&&(s.add(g(l.queryKey)),t.serverSsr.streamValue("__QueryClient__"+g(l.queryKey),FT(e,{shouldDehydrateMutation:()=>!1,shouldDehydrateQuery:m=>g(m.queryKey)===g(l.queryKey)}))),(p=(f=i.queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,l,d)}}}),(n==null?void 0:n.handleRedirects)??!0){const l=e.getMutationCache().config;e.getMutationCache().config={...l,onError:(f,p,g,m)=>{var b;return Rr(f)?(f.options._fromLocation=t.state.location,t.navigate(t.resolveRedirect(f).options)):(b=l.onError)==null?void 0:b.call(l,f,p,g,m)}};const d=e.getQueryCache().config;e.getQueryCache().config={...d,onError:(f,p)=>{var g;return Rr(f)?(f.options._fromLocation=t.state.location,t.navigate(t.resolveRedirect(f).options)):(g=d.onError)==null?void 0:g.call(d,f,p)}}}const o=t.options;return t.options={...t.options,dehydrate:()=>{var l;return{...(l=o.dehydrate)==null?void 0:l.call(o),dehydratedQueryClient:FT(e)}},hydrate:l=>{var d;(d=o.hydrate)==null||d.call(o,l),zT(e,l.dehydratedQueryClient)},context:{...o.context,queryClient:e},Wrap:({children:l})=>{const d=(n==null?void 0:n.WrapProvider)||Ue.Fragment,f=o.Wrap||Ue.Fragment;return he.jsx(d,{children:he.jsx(sk,{client:e,children:he.jsx(f,{children:l})})})}},t}const ak=new X4;function qT(){return{queryClient:ak}}const IO="2.31.3";let vf={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${IO}`},pe=class OE extends Error{constructor(e,n={}){var l;const r=(()=>{var d;return n.cause instanceof OE?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof OE&&n.cause.docsPath||n.docsPath,i=(l=vf.getDocsUrl)==null?void 0:l.call(vf,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...vf.version?[`Version: ${vf.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=IO}walk(e){return RO(this,e)}};function RO(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?RO(t.cause,e):e?null:t}let OO=class extends pe{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class ok extends pe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let ck=class extends pe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class PO extends pe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let DO=class extends pe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class HT extends pe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function cd(t,{dir:e,size:n=32}={}){return typeof t=="string"?$o(t,{dir:e,size:n}):lk(t,{dir:e,size:n})}function $o(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new DO({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function lk(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new DO({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function zo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Cn(t){return zo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function yp(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const uk=new TextEncoder;function Hy(t,e={}){return typeof t=="number"||typeof t=="bigint"?fk(t,e):typeof t=="boolean"?dk(t,e):zo(t)?Ui(t,e):UO(t,e)}function dk(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(ii(n,{size:e.size}),cd(n,{size:e.size})):n}const ra={zero:48,nine:57,A:65,F:70,a:97,f:102};function VT(t){if(t>=ra.zero&&t<=ra.nine)return t-ra.zero;if(t>=ra.A&&t<=ra.F)return t-(ra.A-10);if(t>=ra.a&&t<=ra.f)return t-(ra.a-10)}function Ui(t,e={}){let n=t;e.size&&(ii(n,{size:e.size}),n=cd(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,l=0;o<s;o++){const d=VT(r.charCodeAt(l++)),f=VT(r.charCodeAt(l++));if(d===void 0||f===void 0)throw new pe(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);i[o]=d*16+f}return i}function fk(t,e){const n=st(t,e);return Ui(n)}function UO(t,e={}){const n=uk.encode(t);return typeof e.size=="number"?(ii(n,{size:e.size}),cd(n,{dir:"right",size:e.size})):n}function ii(t,{size:e}){if(Cn(t)>e)throw new ck({givenSize:Cn(t),maxSize:e})}function Yu(t,e={}){const{signed:n}=e;e.size&&ii(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Wc(t,e={}){return Number(Yu(t,e))}function $O(t,e={}){let n=Ui(t);return e.size&&(ii(n,{size:e.size}),n=yp(n,{dir:"right"})),new TextDecoder().decode(n)}const hk=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Zu(t,e={}){return typeof t=="number"||typeof t=="bigint"?st(t,e):typeof t=="string"?Vy(t,e):typeof t=="boolean"?kO(t,e):Br(t,e)}function kO(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(ii(n,{size:e.size}),cd(n,{size:e.size})):n}function Br(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=hk[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(ii(r,{size:e.size}),cd(r,{dir:"right",size:e.size})):r}function st(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const d=typeof t=="bigint"?"n":"";throw new OO({max:i?`${i}${d}`:void 0,min:`${o}${d}`,signed:n,size:r,value:`${t}${d}`})}const l=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?cd(l,{size:r}):l}const pk=new TextEncoder;function Vy(t,e={}){const n=pk.encode(t);return Br(n,e)}function qo(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Tk(t.type);return`${t.name}(${Gy(t.inputs,{includeName:e})})`}function Gy(t,{includeName:e=!1}={}){return t?t.map(n=>gk(n,{includeName:e})).join(e?", ":","):""}function gk(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Gy(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class mk extends pe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class GT extends pe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class MO extends pe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Gy(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Wy extends pe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class yk extends pe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class wk extends pe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Cn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class bk extends pe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class joe extends pe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Foe extends pe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class BO extends pe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class vk extends pe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class LO extends pe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class ey extends pe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Ek extends pe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class zoe extends pe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class _k extends pe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${qo(e.abiItem)}\`, and`,`\`${n.type}\` in \`${qo(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class qoe extends pe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class PE extends pe{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Gy(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class jO extends pe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${qo(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Ck extends pe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Sk extends pe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class Ak extends pe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class Tk extends pe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Qu(t){return typeof t[0]=="string"?Ky(t):xk(t)}function xk(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Ky(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Kc extends pe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let Yy=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const tm=BigInt(2**32-1),WT=BigInt(32);function Nk(t,e=!1){return e?{h:Number(t&tm),l:Number(t>>WT&tm)}:{h:Number(t>>WT&tm)|0,l:Number(t&tm)|0}}function Ik(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l}=Nk(t[i],e);[r[i],s[i]]=[o,l]}return[r,s]}const Rk=(t,e,n)=>t<<n|e>>>32-n,Ok=(t,e,n)=>e<<n|t>>>32-n,Pk=(t,e,n)=>e<<n-32|t>>>64-n,Dk=(t,e,n)=>t<<n-32|e>>>64-n,nu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Uk(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ty(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Yc(t,...e){if(!Uk(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Voe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ty(t.outputLen),ty(t.blockLen)}function ny(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function FO(t,e){Yc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function $k(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function vh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function tv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function pi(t,e){return t<<32-e|t>>>e}const kk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Mk(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Bk(t){for(let e=0;e<t.length;e++)t[e]=Mk(t[e]);return t}const KT=kk?t=>t:Bk,zO=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Lk=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Goe(t){if(Yc(t),zO)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Lk[t[n]];return e}const sa={_0:48,_9:57,A:65,F:70,a:97,f:102};function YT(t){if(t>=sa._0&&t<=sa._9)return t-sa._0;if(t>=sa.A&&t<=sa.F)return t-(sa.A-10);if(t>=sa.a&&t<=sa.f)return t-(sa.a-10)}function Woe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(zO)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=YT(t.charCodeAt(i)),l=YT(t.charCodeAt(i+1));if(o===void 0||l===void 0){const d=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+i)}r[s]=o*16+l}return r}function jk(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function d_(t){return typeof t=="string"&&(t=jk(t)),Yc(t),t}function Koe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Yc(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class qO{}function HO(t){const e=r=>t().update(d_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Yoe(t=32){if(nu&&typeof nu.getRandomValues=="function")return nu.getRandomValues(new Uint8Array(t));if(nu&&typeof nu.randomBytes=="function")return Uint8Array.from(nu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Fk=BigInt(0),Ef=BigInt(1),zk=BigInt(2),qk=BigInt(7),Hk=BigInt(256),Vk=BigInt(113),VO=[],GO=[],WO=[];for(let t=0,e=Ef,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],VO.push(2*(5*r+n)),GO.push((t+1)*(t+2)/2%64);let s=Fk;for(let i=0;i<7;i++)e=(e<<Ef^(e>>qk)*Vk)%Hk,e&zk&&(s^=Ef<<(Ef<<BigInt(i))-Ef);WO.push(s)}const KO=Ik(WO,!0),Gk=KO[0],Wk=KO[1],ZT=(t,e,n)=>n>32?Pk(t,e,n):Rk(t,e,n),QT=(t,e,n)=>n>32?Dk(t,e,n):Ok(t,e,n);function Kk(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,d=(o+2)%10,f=n[d],p=n[d+1],g=ZT(f,p,1)^n[l],m=QT(f,p,1)^n[l+1];for(let b=0;b<50;b+=10)t[o+b]^=g,t[o+b+1]^=m}let s=t[2],i=t[3];for(let o=0;o<24;o++){const l=GO[o],d=ZT(s,i,l),f=QT(s,i,l),p=VO[o];s=t[p],i=t[p+1],t[p]=d,t[p+1]=f}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)n[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=Gk[r],t[1]^=Wk[r]}vh(n)}class f_ extends qO{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,ty(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=$k(this.state)}clone(){return this._cloneInto()}keccak(){KT(this.state32),Kk(this.state32,this.rounds),KT(this.state32),this.posOut=0,this.pos=0}update(e){ny(this),e=d_(e),Yc(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let l=0;l<o;l++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ny(this,!1),Yc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ty(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(FO(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,vh(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new f_(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Yk=(t,e,n)=>HO(()=>new f_(e,t,n)),YO=Yk(1,136,256/8);function wp(t,e){const n=e||"hex",r=YO(zo(t,{strict:!1})?Hy(t):t);return n==="bytes"?r:Zu(r)}const nv=new Yy(8192);function Zy(t,e){if(nv.has(`${t}.${e}`))return nv.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=wp(UO(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return nv.set(`${t}.${e}`,i),i}function xc(t,e){if(!$i(t,{strict:!1}))throw new Kc({address:t});return Zy(t,e)}const Zk=/^0x[a-fA-F0-9]{40}$/,rv=new Yy(8192);function $i(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(rv.has(r))return rv.get(r);const s=Zk.test(t)?t.toLowerCase()===t?!0:n?Zy(t)===t:!0:!1;return rv.set(r,s),s}function ry(t,e,n,{strict:r}={}){return zo(t,{strict:!1})?Qk(t,e,n,{strict:r}):XO(t,e,n,{strict:r})}function ZO(t,e){if(typeof e=="number"&&e>0&&e>Cn(t)-1)throw new PO({offset:e,position:"start",size:Cn(t)})}function QO(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Cn(t)!==n-e)throw new PO({offset:n,position:"end",size:Cn(t)})}function XO(t,e,n,{strict:r}={}){ZO(t,e);const s=t.slice(e,n);return r&&QO(s,e,n),s}function Qk(t,e,n,{strict:r}={}){ZO(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&QO(s,e,n),s}const Zoe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xk=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function JO(t,e){if(t.length!==e.length)throw new bk({expectedLength:t.length,givenLength:e.length});const n=Jk({params:t,values:e}),r=p_(n);return r.length===0?"0x":r}function Jk({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(h_({param:t[r],value:e[r]}));return n}function h_({param:t,value:e}){const n=g_(t.type);if(n){const[r,s]=n;return tM(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return aM(e,{param:t});if(t.type==="address")return eM(e);if(t.type==="bool")return rM(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=Xk.exec(t.type)??[];return sM(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return nM(e,{param:t});if(t.type==="string")return iM(e);throw new Ck(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function p_(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:l}=t[i];o?e+=32:e+=Cn(l)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:l}=t[i];o?(n.push(st(e+s,{size:32})),r.push(l),s+=Cn(l)):n.push(l)}return Qu([...n,...r])}function eM(t){if(!$i(t))throw new Kc({address:t});return{dynamic:!1,encoded:$o(t.toLowerCase())}}function tM(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Ak(t);if(!r&&t.length!==e)throw new yk({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const l=h_({param:n,value:t[o]});l.dynamic&&(s=!0),i.push(l)}if(r||s){const o=p_(i);if(r){const l=st(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Qu([l,o]):l}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Qu(i.map(({encoded:o})=>o))}}function nM(t,{param:e}){const[,n]=e.type.split("bytes"),r=Cn(t);if(!n){let s=t;return r%32!==0&&(s=$o(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Qu([$o(st(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new wk({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:$o(t,{dir:"right"})}}function rM(t){if(typeof t!="boolean")throw new pe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:$o(kO(t))}}function sM(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new OO({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:st(t,{size:32,signed:e})}}function iM(t){const e=Vy(t),n=Math.ceil(Cn(e)/32),r=[];for(let s=0;s<n;s++)r.push($o(ry(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Qu([$o(st(Cn(e),{size:32})),...r])}}function aM(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,l=h_({param:i,value:t[o]});r.push(l),l.dynamic&&(n=!0)}return{dynamic:n,encoded:n?p_(r):Qu(r.map(({encoded:s})=>s))}}function g_(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const sv="/docs/contract/encodeDeployData";function e3(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new mk({docsPath:sv});if(!("inputs"in s))throw new GT({docsPath:sv});if(!s.inputs||s.inputs.length===0)throw new GT({docsPath:sv});const i=JO(s.inputs,n);return Ky([r,i])}function ji(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class m_ extends pe{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class iv extends pe{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function oM(t){const e=wp(`0x${t.substring(4)}`).substring(26);return Zy(`0x${e}`)}async function cM({hash:t,signature:e}){const n=zo(t)?t:Zu(t),{secp256k1:r}=await Wt(async()=>{const{secp256k1:o}=await import("./secp256k1-VrU-7mrZ.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:f,s:p,v:g,yParity:m}=e,b=Number(m??g),w=XT(b);return new r.Signature(Yu(f),Yu(p)).addRecoveryBit(w)}const o=zo(e)?e:Zu(e);if(Cn(o)!==65)throw new Error("invalid signature length");const l=Wc(`0x${o.slice(130)}`),d=XT(l);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function XT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function lM({hash:t,signature:e}){return oM(await cM({hash:t,signature:e}))}class JT extends pe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class t3 extends pe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class uM extends pe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const dM={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new uM({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new t3({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new JT({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new JT({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function y_(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(dM);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function fM(t,e="hex"){const n=n3(t),r=y_(new Uint8Array(n.length));return n.encode(r),e==="hex"?Br(r.bytes):r.bytes}function n3(t){return Array.isArray(t)?hM(t.map(e=>n3(e))):pM(t)}function hM(t){const e=t.reduce((s,i)=>s+i.length,0),n=r3(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function pM(t){const e=typeof t=="string"?Ui(t):t,n=r3(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function r3(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new pe("Length is too large.")}function gM(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=wp(Ky(["0x05",fM([e?st(e):"0x",s,n?st(n):"0x"])]));return r==="bytes"?Ui(i):i}async function s3(t){const{authorization:e,signature:n}=t;return lM({hash:gM(e),signature:n??e})}class DE extends pe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class mM extends pe{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class yM extends pe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class i3 extends pe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function wM({chain:t,currentChainId:e}){if(!t)throw new yM;if(e!==t.id)throw new mM({chain:t,currentChainId:e})}const bM={gwei:9,wei:18},vM={ether:-9,wei:9},EM={ether:-18,gwei:-9};function ld(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function kr(t,e="wei"){return ld(t,vM[e])}class Nc extends pe{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Nc,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Nc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class sy extends pe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${kr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(sy,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class UE extends pe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${kr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(UE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class $E extends pe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty($E,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class kE extends pe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(kE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class ME extends pe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(ME,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class BE extends pe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(BE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class LE extends pe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(LE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class jE extends pe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(jE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class FE extends pe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(FE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class iy extends pe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${kr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${kr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(iy,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Qy extends pe{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function w_(t,e="wei"){return ld(t,bM[e])}function bp(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class _M extends pe{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class CM extends pe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",bp(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class SM extends pe{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,to:g,value:m}){var w;const b=bp({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:g,value:typeof m<"u"&&`${w_(m)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof l<"u"&&`${kr(l)} gwei`,maxFeePerGas:typeof d<"u"&&`${kr(d)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${kr(f)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",b].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class a3 extends pe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class o3 extends pe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class AM extends pe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const xs=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),TM=t=>t,b_=t=>t;class Jf extends pe{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${b_(o)}`,e&&`Request body: ${xs(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class v_ extends pe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${b_(r)}`,`Request body: ${xs(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ex extends pe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${b_(n)}`,`Request body: ${xs(e)}`],name:"TimeoutError"})}}const xM=-1;class Lr extends pe{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof v_?e.code:n??xM}}class ss extends Lr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Eh extends Lr{constructor(e){super(e,{code:Eh.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class _h extends Lr{constructor(e){super(e,{code:_h.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(_h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ch extends Lr{constructor(e,{method:n}={}){super(e,{code:Ch.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ch,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Sh extends Lr{constructor(e){super(e,{code:Sh.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Sh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Zc extends Lr{constructor(e){super(e,{code:Zc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Zc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ah extends Lr{constructor(e){super(e,{code:Ah.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ah,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Th extends Lr{constructor(e){super(e,{code:Th.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Th,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ko extends Lr{constructor(e){super(e,{code:ko.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Xu extends Lr{constructor(e){super(e,{code:Xu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Xu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ic extends Lr{constructor(e,{method:n}={}){super(e,{code:Ic.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ic,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ju extends Lr{constructor(e){super(e,{code:Ju.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Ju,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class xh extends Lr{constructor(e){super(e,{code:xh.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class En extends ss{constructor(e){super(e,{code:En.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Nh extends ss{constructor(e){super(e,{code:Nh.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Nh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ih extends ss{constructor(e,{method:n}={}){super(e,{code:Ih.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Ih,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Rh extends ss{constructor(e){super(e,{code:Rh.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Rh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Oh extends ss{constructor(e){super(e,{code:Oh.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Oh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ki extends ss{constructor(e){super(e,{code:ki.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(ki,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ph extends ss{constructor(e){super(e,{code:Ph.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Ph,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Dh extends ss{constructor(e){super(e,{code:Dh.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Uh extends ss{constructor(e){super(e,{code:Uh.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class $h extends ss{constructor(e){super(e,{code:$h.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty($h,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class kh extends ss{constructor(e){super(e,{code:kh.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Mh extends ss{constructor(e){super(e,{code:Mh.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Mh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Bh extends ss{constructor(e){super(e,{code:Bh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class NM extends Lr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function E_(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof pe?t.walk(s=>(s==null?void 0:s.code)===Nc.code):t;return r instanceof pe?new Nc({cause:t,message:r.details}):Nc.nodeMessage.test(n)?new Nc({cause:t,message:t.details}):sy.nodeMessage.test(n)?new sy({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):UE.nodeMessage.test(n)?new UE({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):$E.nodeMessage.test(n)?new $E({cause:t,nonce:e==null?void 0:e.nonce}):kE.nodeMessage.test(n)?new kE({cause:t,nonce:e==null?void 0:e.nonce}):ME.nodeMessage.test(n)?new ME({cause:t,nonce:e==null?void 0:e.nonce}):BE.nodeMessage.test(n)?new BE({cause:t}):LE.nodeMessage.test(n)?new LE({cause:t,gas:e==null?void 0:e.gas}):jE.nodeMessage.test(n)?new jE({cause:t,gas:e==null?void 0:e.gas}):FE.nodeMessage.test(n)?new FE({cause:t}):iy.nodeMessage.test(n)?new iy({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Qy({cause:t})}function IM(t,{docsPath:e,...n}){const r=(()=>{const s=E_(t,n);return s instanceof Qy?t:s})();return new SM(r,{docsPath:e,...n})}function __(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const l of o)l in t&&(n[l]=t[l]),i[l]&&typeof i[l]=="object"&&!Array.isArray(i[l])&&r(i[l])}const s=e(t||{});return r(s),n}const RM={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function C_(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=OM(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Br(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=st(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=st(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=st(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=st(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=st(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=st(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=RM[t.type]),typeof t.value<"u"&&(e.value=st(t.value)),e}function OM(t){return t.map(e=>({address:e.address,r:e.r?st(BigInt(e.r)):e.r,s:e.s?st(BigInt(e.s)):e.s,chainId:st(e.chainId),nonce:st(e.nonce),...typeof e.yParity<"u"?{yParity:st(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:st(e.v)}:{}}))}function Yt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const PM=2n**256n-1n;function Xy(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?ji(e):void 0;if(o&&!$i(o.address))throw new Kc({address:o.address});if(i&&!$i(i))throw new Kc({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new _M;if(r&&r>PM)throw new sy({maxFeePerGas:r});if(s&&r&&s>r)throw new iy({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function c3(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Wc(e)}class DM extends pe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class S_ extends pe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class UM extends pe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${kr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class l3 extends pe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const u3={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function d3(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Wc(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Wc(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?u3[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=$M(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function $M(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function kM(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:d3(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Lh(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var p,g,m;const i=r??"latest",o=s??!1,l=n!==void 0?st(n):void 0;let d=null;if(e?d=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):d=await t.request({method:"eth_getBlockByNumber",params:[l||i,o]},{dedupe:!!l}),!d)throw new l3({blockHash:e,blockNumber:n});return(((m=(g=(p=t.chain)==null?void 0:p.formatters)==null?void 0:g.block)==null?void 0:m.format)||kM)(d)}async function f3(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function MM(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const l=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof l=="function"){const f=n||await Yt(t,Lh,"getBlock")({}),p=await l({block:f,client:t,request:s});if(p===null)throw new Error;return p}if(typeof l<"u")return l;const d=await t.request({method:"eth_maxPriorityFeePerGas"});return Yu(d)}catch{const[l,d]=await Promise.all([n?Promise.resolve(n):Yt(t,Lh,"getBlock")({}),Yt(t,f3,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new S_;const f=d-l.baseFeePerGas;return f<0n?0n:f}}async function tx(t,e){var m,b;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var w,E;return typeof((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((E=r==null?void 0:r.fees)==null?void 0:E.baseFeeMultiplier)??1.2})();if(o<1)throw new DM;const d=10**(((m=o.toString().split(".")[1])==null?void 0:m.length)??0),f=w=>w*BigInt(Math.ceil(o*d))/BigInt(d),p=n||await Yt(t,Lh,"getBlock")({});if(typeof((b=r==null?void 0:r.fees)==null?void 0:b.estimateFeesPerGas)=="function"){const w=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:f,request:s,type:i});if(w!==null)return w}if(i==="eip1559"){if(typeof p.baseFeePerGas!="bigint")throw new S_;const w=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await MM(t,{block:p,chain:r,request:s}),E=f(p.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??E+w,maxPriorityFeePerGas:w}}return{gasPrice:(s==null?void 0:s.gasPrice)??f(await Yt(t,f3,"getGasPrice")({}))}}class BM extends pe{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,to:g,value:m}){var w;const b=bp({from:n==null?void 0:n.address,to:g,value:typeof m<"u"&&`${w_(m)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof l<"u"&&`${kr(l)} gwei`,maxFeePerGas:typeof d<"u"&&`${kr(d)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${kr(f)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function LM(t,{docsPath:e,...n}){const r=(()=>{const s=E_(t,n);return s instanceof Qy?t:s})();return new BM(r,{docsPath:e,...n})}class jM extends pe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class FM extends pe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function nx(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function zM(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=nx(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=nx(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function rx(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new HT({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new HT({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function qM(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=st(e)),n!==void 0&&(o.nonce=st(n)),r!==void 0&&(o.state=rx(r)),s!==void 0){if(o.state)throw new FM;o.stateDiff=rx(s)}return o}function h3(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!$i(n,{strict:!1}))throw new Kc({address:n});if(e[n])throw new jM({address:n});e[n]=qM(r)}return e}async function p3(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?st(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function g3(t,e){var s,i,o;const{account:n=t.account}=e,r=n?ji(n):void 0;try{let G=function(R){const{block:F,request:V,rpcStateOverride:W}=R;return t.request({method:"eth_estimateGas",params:W?[V,F??"latest",W]:F?[V,F]:[V]})};const{accessList:l,authorizationList:d,blobs:f,blobVersionedHashes:p,blockNumber:g,blockTag:m,data:b,gas:w,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:I,nonce:A,value:O,stateOverride:x,...T}=await T_(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),U=(typeof g=="bigint"?st(g):void 0)||m,S=h3(x),B=await(async()=>{if(T.to)return T.to;if(d&&d.length>0)return await s3({authorization:d[0]}).catch(()=>{throw new pe("`to` is required. Could not infer from `authorizationList`")})})();Xy(e);const L=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,K=(L||C_)({...__(T,{format:L}),from:r==null?void 0:r.address,accessList:l,authorizationList:d,blobs:f,blobVersionedHashes:p,data:b,gas:w,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:I,nonce:A,to:B,value:O});let k=BigInt(await G({block:U,request:K,rpcStateOverride:S}));if(d){const R=await p3(t,{address:K.from}),F=await Promise.all(d.map(async V=>{const{address:W}=V,D=await G({block:U,request:{authorizationList:void 0,data:b,from:r==null?void 0:r.address,to:W,value:st(R)},rpcStateOverride:S}).catch(()=>100000n);return 2n*BigInt(D)}));k+=F.reduce((V,W)=>V+W,0n)}return k}catch(l){throw LM(l,{...e,account:r,chain:t.chain})}}async function HM(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?st(r):n]},{dedupe:!!r});return Wc(s)}function m3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Ui(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Br(i))}function y3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Ui(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Ui(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const l=r[o],d=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(l,d)))}return n==="bytes"?i:i.map(o=>Br(o))}function VM(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),l=Number(n&i),d=r?4:0,f=r?0:4;t.setUint32(e+d,o,r),t.setUint32(e+f,l,r)}function GM(t,e,n){return t&e^~t&n}function WM(t,e,n){return t&e^t&n^e&n}class KM extends qO{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=tv(this.buffer)}update(e){ny(this),e=d_(e),Yc(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const d=tv(e);for(;s<=i-o;o+=s)this.process(d,o);continue}r.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ny(this),FO(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,vh(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let g=o;g<s;g++)n[g]=0;VM(r,s-8,BigInt(this.length*8),i),this.process(r,0);const l=tv(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)l.setUint32(4*g,p[g],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:l}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=l,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const ro=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),YM=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),so=new Uint32Array(64);class ZM extends KM{constructor(e=32){super(64,e,8,!1),this.A=ro[0]|0,this.B=ro[1]|0,this.C=ro[2]|0,this.D=ro[3]|0,this.E=ro[4]|0,this.F=ro[5]|0,this.G=ro[6]|0,this.H=ro[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:l,H:d}=this;return[e,n,r,s,i,o,l,d]}set(e,n,r,s,i,o,l,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=d|0}process(e,n){for(let g=0;g<16;g++,n+=4)so[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const m=so[g-15],b=so[g-2],w=pi(m,7)^pi(m,18)^m>>>3,E=pi(b,17)^pi(b,19)^b>>>10;so[g]=E+so[g-7]+w+so[g-16]|0}let{A:r,B:s,C:i,D:o,E:l,F:d,G:f,H:p}=this;for(let g=0;g<64;g++){const m=pi(l,6)^pi(l,11)^pi(l,25),b=p+m+GM(l,d,f)+YM[g]+so[g]|0,E=(pi(r,2)^pi(r,13)^pi(r,22))+WM(r,s,i)|0;p=f,f=d,d=l,l=o+b|0,o=i,i=s,s=r,r=b+E|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,s,i,o,l,d,f,p)}roundClean(){vh(so)}destroy(){this.set(0,0,0,0,0,0,0,0),vh(this.buffer)}}const QM=HO(()=>new ZM),XM=QM;function JM(t,e){return XM(zo(t,{strict:!1})?Hy(t):t)}function eB(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=JM(e);return s.set([n],0),r==="bytes"?s:Br(s)}function tB(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(eB({commitment:i,to:r,version:n}));return s}const sx=6,w3=32,A_=4096,b3=w3*A_,ix=b3*sx-1-1*A_*sx;class nB extends pe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class rB extends pe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function sB(t){const e=typeof t.data=="string"?Ui(t.data):t.data,n=Cn(e);if(!n)throw new rB;if(n>ix)throw new nB({maxSize:ix,size:n});const r=[];let s=!0,i=0;for(;s;){const o=y_(new Uint8Array(b3));let l=0;for(;l<A_;){const d=e.slice(i,i+(w3-1));if(o.pushByte(0),o.pushBytes(d),d.length<31){o.pushByte(128),s=!1;break}l++,i+=31}r.push(o)}return r.map(o=>Br(o.bytes))}function iB(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??sB({data:e}),i=t.commitments??m3({blobs:s,kzg:n,to:r}),o=t.proofs??y3({blobs:s,commitments:i,kzg:n,to:r}),l=[];for(let d=0;d<s.length;d++)l.push({blob:s[d],commitment:i[d],proof:o[d]});return l}function aB(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new CM({transaction:t})}const v3=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ax=new Map;async function T_(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:l,nonceManager:d,parameters:f=v3,type:p}=e,g=n&&ji(n),m={...e,...g?{from:g==null?void 0:g.address}:{}};let b;async function w(){return b||(b=await Yt(t,Lh,"getBlock")({blockTag:"latest"}),b)}let E;async function _(){return E||(s?s.id:typeof e.chainId<"u"?e.chainId:(E=await Yt(t,c3,"getChainId")({}),E))}if(f.includes("nonce")&&typeof l>"u"&&g)if(d){const C=await _();m.nonce=await d.consume({address:g.address,chainId:C,client:t})}else m.nonce=await Yt(t,HM,"getTransactionCount")({address:g.address,blockTag:"pending"});if((f.includes("blobVersionedHashes")||f.includes("sidecars"))&&r&&o){const C=m3({blobs:r,kzg:o});if(f.includes("blobVersionedHashes")){const I=tB({commitments:C,to:"hex"});m.blobVersionedHashes=I}if(f.includes("sidecars")){const I=y3({blobs:r,commitments:C,kzg:o}),A=iB({blobs:r,commitments:C,proofs:I,to:"hex"});m.sidecars=A}}if(f.includes("chainId")&&(m.chainId=await _()),(f.includes("fees")||f.includes("type"))&&typeof p>"u")try{m.type=aB(m)}catch{let C=ax.get(t.uid);if(typeof C>"u"){const I=await w();C=typeof(I==null?void 0:I.baseFeePerGas)=="bigint",ax.set(t.uid,C)}m.type=C?"eip1559":"legacy"}if(f.includes("fees"))if(m.type!=="legacy"&&m.type!=="eip2930"){if(typeof m.maxFeePerGas>"u"||typeof m.maxPriorityFeePerGas>"u"){const C=await w(),{maxFeePerGas:I,maxPriorityFeePerGas:A}=await tx(t,{block:C,chain:s,request:m});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<A)throw new UM({maxPriorityFeePerGas:A});m.maxPriorityFeePerGas=A,m.maxFeePerGas=I}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new S_;if(typeof e.gasPrice>"u"){const C=await w(),{gasPrice:I}=await tx(t,{block:C,chain:s,request:m,type:"legacy"});m.gasPrice=I}}return f.includes("gas")&&typeof i>"u"&&(m.gas=await Yt(t,g3,"estimateGas")({...m,account:g&&{address:g.address,type:"json-rpc"}})),Xy(m),delete m.parameters,m}async function oB(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const av=new Yy(128);async function E3(t,e){var I,A,O,x;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:l,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:b,type:w,value:E,..._}=e;if(typeof n>"u")throw new m_({docsPath:"/docs/actions/wallet/sendTransaction"});const C=n?ji(n):null;try{Xy(e);const T=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await s3({authorization:i[0]}).catch(()=>{throw new pe("`to` is required. Could not infer from `authorizationList`.")})})();if((C==null?void 0:C.type)==="json-rpc"||C===null){let P;r!==null&&(P=await Yt(t,c3,"getChainId")({}),wM({currentChainId:P,chain:r}));const U=(O=(A=(I=t.chain)==null?void 0:I.formatters)==null?void 0:A.transactionRequest)==null?void 0:O.format,B=(U||C_)({...__(_,{format:U}),accessList:s,authorizationList:i,blobs:o,chainId:P,data:l,from:C==null?void 0:C.address,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:b,to:T,type:w,value:E}),L=av.get(t.uid),z=L?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:z,params:[B]},{retryCount:0})}catch(K){if(L===!1)throw K;const G=K;if(G.name==="InvalidInputRpcError"||G.name==="InvalidParamsRpcError"||G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[B]},{retryCount:0}).then(k=>(av.set(t.uid,!0),k)).catch(k=>{const R=k;throw R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError"?(av.set(t.uid,!1),G):R});throw G}}if((C==null?void 0:C.type)==="local"){const P=await Yt(t,T_,"prepareTransactionRequest")({account:C,accessList:s,authorizationList:i,blobs:o,chain:r,data:l,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:b,nonceManager:C.nonceManager,parameters:[...v3,"sidecars"],type:w,value:E,..._,to:T}),U=(x=r==null?void 0:r.serializers)==null?void 0:x.transaction,S=await C.signTransaction(P,{serializer:U});return await Yt(t,oB,"sendRawTransaction")({serializedTransaction:S})}throw(C==null?void 0:C.type)==="smart"?new iv({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new iv({docsPath:"/docs/actions/wallet/sendTransaction",type:C==null?void 0:C.type})}catch(T){throw T instanceof iv?T:IM(T,{...e,account:C,chain:e.chain||void 0})}}const zE=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Qoe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];function cB(t,e={}){typeof e.size<"u"&&ii(t,{size:e.size});const n=Br(t,e);return Yu(n,e)}function lB(t,e={}){let n=t;if(typeof e.size<"u"&&(ii(n,{size:e.size}),n=yp(n)),n.length>1||n[0]>1)throw new ok(n);return!!n[0]}function _a(t,e={}){typeof e.size<"u"&&ii(t,{size:e.size});const n=Br(t,e);return Wc(n,e)}function uB(t,e={}){let n=t;return typeof e.size<"u"&&(ii(n,{size:e.size}),n=yp(n,{dir:"right"})),new TextDecoder().decode(n)}function Jy(t,e){const n=typeof e=="string"?Ui(e):e,r=y_(n);if(Cn(n)===0&&t.length>0)throw new Wy;if(Cn(e)&&Cn(e)<32)throw new MO({data:typeof e=="string"?e:Br(e),params:t,size:Cn(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const l=t[o];r.setPosition(s);const[d,f]=Pu(r,l,{staticPosition:0});s+=f,i.push(d)}return i}function Pu(t,e,{staticPosition:n}){const r=g_(e.type);if(r){const[s,i]=r;return fB(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return mB(t,e,{staticPosition:n});if(e.type==="address")return dB(t);if(e.type==="bool")return hB(t);if(e.type.startsWith("bytes"))return pB(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return gB(t,e);if(e.type==="string")return yB(t,{staticPosition:n});throw new Sk(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ox=32,qE=32;function dB(t){const e=t.readBytes(32);return[Zy(Br(XO(e,-20))),32]}function fB(t,e,{length:n,staticPosition:r}){if(!n){const o=_a(t.readBytes(qE)),l=r+o,d=l+ox;t.setPosition(l);const f=_a(t.readBytes(ox)),p=jh(e);let g=0;const m=[];for(let b=0;b<f;++b){t.setPosition(d+(p?b*32:g));const[w,E]=Pu(t,e,{staticPosition:d});g+=E,m.push(w)}return t.setPosition(r+32),[m,32]}if(jh(e)){const o=_a(t.readBytes(qE)),l=r+o,d=[];for(let f=0;f<n;++f){t.setPosition(l+f*32);const[p]=Pu(t,e,{staticPosition:l});d.push(p)}return t.setPosition(r+32),[d,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[l,d]=Pu(t,e,{staticPosition:r+s});s+=d,i.push(l)}return[i,s]}function hB(t){return[lB(t.readBytes(32),{size:32}),32]}function pB(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=_a(t.readBytes(32));t.setPosition(n+o);const l=_a(t.readBytes(32));if(l===0)return t.setPosition(n+32),["0x",32];const d=t.readBytes(l);return t.setPosition(n+32),[Br(d),32]}return[Br(t.readBytes(Number.parseInt(s),32)),32]}function gB(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?cB(s,{signed:n}):_a(s,{signed:n}),32]}function mB(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(jh(e)){const o=_a(t.readBytes(qE)),l=n+o;for(let d=0;d<e.components.length;++d){const f=e.components[d];t.setPosition(l+i);const[p,g]=Pu(t,f,{staticPosition:l});i+=g,s[r?d:f==null?void 0:f.name]=p}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const l=e.components[o],[d,f]=Pu(t,l,{staticPosition:n});s[r?o:l==null?void 0:l.name]=d,i+=f}return[s,i]}function yB(t,{staticPosition:e}){const n=_a(t.readBytes(32)),r=e+n;t.setPosition(r);const s=_a(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=uB(yp(i));return t.setPosition(e+32),[o,32]}function jh(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(jh);const n=g_(t.type);return!!(n&&jh({...t,type:n[1]}))}const wB=t=>wp(Hy(t));function bB(t){return wB(t)}const vB="1.0.8";let Ds=class HE extends Error{constructor(e,n={}){var o;const r=n.cause instanceof HE?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof HE&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${vB}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Ra(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const _3=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,C3=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,S3=/^\(.+?\).*?$/,cx=/^tuple(?<array>(\[(\d*)\])*)$/;function VE(t){let e=t.type;if(cx.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=VE(i),s<n-1&&(e+=", ")}const r=Ra(cx,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,VE({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function _f(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=VE(s),r!==n-1&&(e+=", ")}return e}function EB(t){var e;return t.type==="function"?`function ${t.name}(${_f(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${_f(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${_f(t.inputs)})`:t.type==="error"?`error ${t.name}(${_f(t.inputs)})`:t.type==="constructor"?`constructor(${_f(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const A3=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _B(t){return A3.test(t)}function CB(t){return Ra(A3,t)}const T3=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function SB(t){return T3.test(t)}function AB(t){return Ra(T3,t)}const x3=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function TB(t){return x3.test(t)}function xB(t){return Ra(x3,t)}const N3=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function I3(t){return N3.test(t)}function NB(t){return Ra(N3,t)}const R3=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function IB(t){return R3.test(t)}function RB(t){return Ra(R3,t)}const O3=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function OB(t){return O3.test(t)}function PB(t){return Ra(O3,t)}const DB=/^receive\(\) external payable$/;function UB(t){return DB.test(t)}const $B=new Set(["indexed"]),GE=new Set(["calldata","memory","storage"]);class kB extends Ds{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class MB extends Ds{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class BB extends Ds{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class LB extends Ds{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class jB extends Ds{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class FB extends Ds{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class zB extends Ds{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ud extends Ds{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qB extends Ds{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class HB extends Ds{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class VB extends Ds{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class GB extends Ds{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function WB(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const ov=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function KB(t,e={}){if(TB(t))return YB(t,e);if(SB(t))return ZB(t,e);if(_B(t))return QB(t,e);if(IB(t))return XB(t,e);if(OB(t))return JB(t);if(UB(t))return{type:"receive",stateMutability:"payable"};throw new qB({signature:t})}function YB(t,e={}){const n=xB(t);if(!n)throw new ud({signature:t,type:"function"});const r=Qs(n.parameters),s=[],i=r.length;for(let l=0;l<i;l++)s.push(Qc(r[l],{modifiers:GE,structs:e,type:"function"}));const o=[];if(n.returns){const l=Qs(n.returns),d=l.length;for(let f=0;f<d;f++)o.push(Qc(l[f],{modifiers:GE,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function ZB(t,e={}){const n=AB(t);if(!n)throw new ud({signature:t,type:"event"});const r=Qs(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Qc(r[o],{modifiers:$B,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function QB(t,e={}){const n=CB(t);if(!n)throw new ud({signature:t,type:"error"});const r=Qs(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Qc(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function XB(t,e={}){const n=RB(t);if(!n)throw new ud({signature:t,type:"constructor"});const r=Qs(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Qc(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function JB(t){const e=PB(t);if(!e)throw new ud({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const eL=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,tL=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,nL=/^u?int$/;function Qc(t,e){var g,m;const n=WB(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(ov.has(n))return ov.get(n);const r=S3.test(t),s=Ra(r?tL:eL,t);if(!s)throw new BB({param:t});if(s.name&&sL(s.name))throw new LB({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},l=(e==null?void 0:e.structs)??{};let d,f={};if(r){d="tuple";const b=Qs(s.type),w=[],E=b.length;for(let _=0;_<E;_++)w.push(Qc(b[_],{structs:l}));f={components:w}}else if(s.type in l)d="tuple",f={components:l[s.type]};else if(nL.test(s.type))d=`${s.type}256`;else if(d=s.type,(e==null?void 0:e.type)!=="struct"&&!P3(d))throw new MB({type:d});if(s.modifier){if(!((m=(g=e==null?void 0:e.modifiers)==null?void 0:g.has)!=null&&m.call(g,s.modifier)))throw new jB({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(GE.has(s.modifier)&&!iL(d,!!s.array))throw new FB({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const p={type:`${d}${s.array??""}`,...i,...o,...f};return ov.set(n,p),p}function Qs(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],l=t.slice(i+1);switch(o){case",":return r===0?Qs(l,[...e,n.trim()]):Qs(l,e,`${n}${o}`,r);case"(":return Qs(l,e,`${n}${o}`,r+1);case")":return Qs(l,e,`${n}${o}`,r-1);default:return Qs(l,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new GB({current:n,depth:r});return e.push(n.trim()),e}function P3(t){return t==="address"||t==="bool"||t==="function"||t==="string"||_3.test(t)||C3.test(t)}const rL=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function sL(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||_3.test(t)||C3.test(t)||rL.test(t)}function iL(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function aL(t){const e={},n=t.length;for(let o=0;o<n;o++){const l=t[o];if(!I3(l))continue;const d=NB(l);if(!d)throw new ud({signature:l,type:"struct"});const f=d.properties.split(";"),p=[],g=f.length;for(let m=0;m<g;m++){const w=f[m].trim();if(!w)continue;const E=Qc(w,{type:"struct"});p.push(E)}if(!p.length)throw new HB({signature:l});e[d.name]=p}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[l,d]=s[o];r[l]=D3(d,e)}return r}const oL=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function D3(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(S3.test(o.type))r.push(o);else{const d=Ra(oL,o.type);if(!(d!=null&&d.type))throw new zB({abiParameter:o});const{array:f,type:p}=d;if(p in e){if(n.has(p))throw new VB({type:p});r.push({...o,type:`tuple${f??""}`,components:D3(e[p]??[],e,new Set([...n,p]))})}else if(P3(p))r.push(o);else throw new kB({type:p})}}return r}function U3(t){const e=aL(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];I3(i)||n.push(KB(i,e))}return n}function cL(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const l=t[o];if(["(",")",","].includes(l)&&(e=!0),l==="("&&r++,l===")"&&r--,!!e){if(r===0){if(l===" "&&["event","function",""].includes(s))s="";else if(s+=l,l===")"){i=!0;break}continue}if(l===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=l,n+=l}}if(!i)throw new pe("Unable to normalize signature.");return s}const lL=t=>{const e=typeof t=="string"?t:EB(t);return cL(e)};function $3(t){return bB(lL(t))}const x_=$3,N_=t=>ry($3(t),0,4);function I_(t){const{abi:e,args:n=[],name:r}=t,s=zo(r,{strict:!1}),i=e.filter(l=>s?l.type==="function"?N_(l)===r:l.type==="event"?x_(l)===r:!1:"name"in l&&l.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const l of i){if(!("inputs"in l))continue;if(!n||n.length===0){if(!l.inputs||l.inputs.length===0)return l;continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==n.length)continue;if(n.every((f,p)=>{const g="inputs"in l&&l.inputs[p];return g?WE(f,g):!1})){if(o&&"inputs"in o&&o.inputs){const f=k3(l.inputs,o.inputs,n);if(f)throw new _k({abiItem:l,type:f[0]},{abiItem:o,type:f[1]})}o=l}}return o||i[0]}function WE(t,e){const n=typeof t,r=e.type;switch(r){case"address":return $i(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>WE(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>WE(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function k3(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return k3(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?$i(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?$i(n[r],{strict:!1}):!1)return o}}const cv="/docs/contract/decodeFunctionResult";function R_(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const l=I_({abi:e,args:n,name:r});if(!l)throw new ey(r,{docsPath:cv});i=l}if(i.type!=="function")throw new ey(void 0,{docsPath:cv});if(!i.outputs)throw new Ek(i.name,{docsPath:cv});const o=Jy(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const lx="/docs/contract/encodeFunctionData";function uL(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=I_({abi:e,args:n,name:r});if(!i)throw new ey(r,{docsPath:lx});s=i}if(s.type!=="function")throw new ey(void 0,{docsPath:lx});return{abi:[s],functionName:N_(qo(s))}}function e0(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var l;return t.abi.length===1&&((l=t.functionName)!=null&&l.startsWith("0x"))?t:uL(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?JO(s.inputs,e??[]):void 0;return Ky([i,o??"0x"])}function M3({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new DE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new DE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const dL={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},fL={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},hL={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function pL(t){const{abi:e,data:n}=t,r=ry(n,0,4);if(r==="0x")throw new Wy;const i=[...e||[],fL,hL].find(o=>o.type==="error"&&r===N_(qo(o)));if(!i)throw new BO(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Jy(i.inputs,ry(n,4)):void 0,errorName:i.name}}function B3({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?xs(e[i]):e[i]}`).join(", ")})`}class gL extends pe{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,to:g,value:m,stateOverride:b}){var _;const w=n?ji(n):void 0;let E=bp({from:w==null?void 0:w.address,to:g,value:typeof m<"u"&&`${w_(m)} ${((_=s==null?void 0:s.nativeCurrency)==null?void 0:_.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof l<"u"&&`${kr(l)} gwei`,maxFeePerGas:typeof d<"u"&&`${kr(d)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${kr(f)} gwei`,nonce:p});b&&(E+=`
${zM(b)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",E].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class L3 extends pe{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:l}){const d=I_({abi:n,args:r,name:o}),f=d?B3({abiItem:d,args:r,includeFunctionName:!1,includeName:!1}):void 0,p=d?qo(d,{includeName:!0}):void 0,g=bp({address:s&&TM(s),function:p,args:f&&f!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${f}`,sender:l});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],g&&"Contract Call:",g].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=l}}class mL extends pe{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,l,d;if(n&&n!=="0x")try{o=pL({abi:e,data:n});const{abiItem:p,errorName:g,args:m}=o;if(g==="Error")d=m[0];else if(g==="Panic"){const[b]=m;d=dL[b]}else{const b=p?qo(p,{includeName:!0}):void 0,w=p&&m?B3({abiItem:p,args:m,includeFunctionName:!1,includeName:!1}):void 0;l=[b?`Error: ${b}`:"",w&&w!=="()"?`       ${[...Array((g==null?void 0:g.length)??0).keys()].map(()=>" ").join("")}${w}`:""]}}catch(p){i=p}else s&&(d=s);let f;i instanceof BO&&(f=i.signature,l=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]),super(d&&d!=="execution reverted"||f?[`The contract function "${r}" reverted with the following ${f?"signature":"reason"}:`,d||f].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:l,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=d,this.signature=f}}class yL extends pe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class wL extends pe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class O_ extends pe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}const bL=3;function ay(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const l=t instanceof O_?t:t instanceof pe?t.walk(w=>"data"in w)||t.walk():{},{code:d,data:f,details:p,message:g,shortMessage:m}=l,b=t instanceof Wy?new yL({functionName:i}):[bL,Zc.code].includes(d)&&(f||p||g||m)?new mL({abi:e,data:typeof f=="object"?f.data:f,functionName:i,message:l instanceof v_?p:m??g}):t;return new L3(b,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const vL="0.1.1";function EL(){return vL}let j3=class KE extends Error{constructor(e,n={}){const r=(()=>{var d;if(n.cause instanceof KE){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof KE&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,l=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${EL()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return F3(this,e)}};function F3(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?F3(t.cause,e):e?null:t}function _L(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new AL({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function ma(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const f=typeof t=="bigint"?"n":"";throw new SL({max:i?`${i}${f}`:void 0,min:`${o}${f}`,signed:n,size:r,value:`${t}${f}`})}const d=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?CL(d,r):d}function CL(t,e){return _L(t,{dir:"left",size:e})}let SL=class extends j3{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},AL=class extends j3{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function TL(t){return{address:t.address,amount:ma(t.amount),index:ma(t.index),validatorIndex:ma(t.validatorIndex)}}function xL(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:ma(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:ma(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:ma(t.gasLimit)},...typeof t.number=="bigint"&&{number:ma(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:ma(t.prevRandao)},...typeof t.time=="bigint"&&{time:ma(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(TL)}}}const NL="0x82ad56cb",IL="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",RL="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function OL(t,{docsPath:e,...n}){const r=(()=>{const s=E_(t,n);return s instanceof Qy?t:s})();return new gL(r,{docsPath:e,...n})}function z3(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const lv=new Map;function q3({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const p=d();o();const g=p.map(({args:m})=>m);g.length!==0&&t(g).then(m=>{s&&Array.isArray(m)&&m.sort(s);for(let b=0;b<p.length;b++){const{resolve:w}=p[b];w==null||w([m[b],m])}}).catch(m=>{for(let b=0;b<p.length;b++){const{reject:w}=p[b];w==null||w(m)}})},o=()=>lv.delete(e),l=()=>d().map(({args:p})=>p),d=()=>lv.get(e)||[],f=p=>lv.set(e,[...d(),p]);return{flush:o,async schedule(p){const{promise:g,resolve:m,reject:b}=z3();return(n==null?void 0:n([...l(),p]))&&i(),d().length>0?(f({args:p,resolve:m,reject:b}),g):(f({args:p,resolve:m,reject:b}),setTimeout(i,r),g)}}}async function H3(t,e){var K,G,k,R;const{account:n=t.account,authorizationList:r,batch:s=!!((K=t.batch)!=null&&K.multicall),blockNumber:i,blockTag:o="latest",accessList:l,blobs:d,blockOverrides:f,code:p,data:g,factory:m,factoryData:b,gas:w,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:I,nonce:A,to:O,value:x,stateOverride:T,...P}=e,U=n?ji(n):void 0;if(p&&(m||b))throw new pe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(p&&O)throw new pe("Cannot provide both `code` & `to` as parameters.");const S=p&&g,B=m&&b&&O&&g,L=S||B,z=S?UL({code:p,data:g}):B?$L({data:g,factory:m,factoryData:b,to:O}):g;try{Xy(e);const V=(typeof i=="bigint"?st(i):void 0)||o,W=f?xL(f):void 0,D=h3(T),q=(R=(k=(G=t.chain)==null?void 0:G.formatters)==null?void 0:k.transactionRequest)==null?void 0:R.format,te=(q||C_)({...__(P,{format:q}),from:U==null?void 0:U.address,accessList:l,authorizationList:r,blobs:d,data:z,gas:w,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:I,nonce:A,to:L?void 0:O,value:x});if(s&&PL({request:te})&&!D&&!W)try{return await DL(t,{...te,blockNumber:i,blockTag:o})}catch(se){if(!(se instanceof i3)&&!(se instanceof DE))throw se}const ee=(()=>{const se=[te,V];return D&&W?[...se,D,W]:D?[...se,D]:W?[...se,{},W]:se})(),ie=await t.request({method:"eth_call",params:ee});return ie==="0x"?{data:void 0}:{data:ie}}catch(F){const V=kL(F),{offchainLookup:W,offchainLookupSignature:D}=await Wt(async()=>{const{offchainLookup:q,offchainLookupSignature:X}=await import("./ccip-BX9UOK7w.js");return{offchainLookup:q,offchainLookupSignature:X}},[]);if(t.ccipRead!==!1&&(V==null?void 0:V.slice(0,10))===D&&O)return{data:await W(t,{data:V,to:O})};throw L&&(V==null?void 0:V.slice(0,10))==="0x101bb98d"?new wL({factory:m}):OL(F,{...e,account:U,chain:t.chain})}}function PL({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(NL)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function DL(t,e){var E;const{batchSize:n=1024,wait:r=0}=typeof((E=t.batch)==null?void 0:E.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:l,to:d}=e;let f=l;if(!f){if(!t.chain)throw new i3;f=M3({blockNumber:s,chain:t.chain,contract:"multicall3"})}const g=(typeof s=="bigint"?st(s):void 0)||i,{schedule:m}=q3({id:`${t.uid}.${g}`,wait:r,shouldSplitBatch(_){return _.reduce((I,{data:A})=>I+(A.length-2),0)>n*2},fn:async _=>{const C=_.map(O=>({allowFailure:!0,callData:O.data,target:O.to})),I=e0({abi:zE,args:[C],functionName:"aggregate3"}),A=await t.request({method:"eth_call",params:[{data:I,to:f},g]});return R_({abi:zE,args:[C],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:b,success:w}]=await m({data:o,to:d});if(!w)throw new O_({data:b});return b==="0x"?{data:void 0}:{data:b}}function UL(t){const{code:e,data:n}=t;return e3({abi:U3(["constructor(bytes, bytes)"]),bytecode:IL,args:[e,n]})}function $L(t){const{data:e,factory:n,factoryData:r,to:s}=t;return e3({abi:U3(["constructor(address, bytes, address, bytes)"]),bytecode:RL,args:[s,e,n,r]})}function kL(t){var n;if(!(t instanceof pe))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function V3(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,l=e0({abi:n,args:s,functionName:i});try{const{data:d}=await Yt(t,H3,"call")({...o,data:l,to:r});return R_({abi:n,args:s,functionName:i,data:d||"0x"})}catch(d){throw ay(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}function ML(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:l,transport:d})=>{l==="success"&&e===i&&(n[o]=d.request)})),i=>n[i]||t.request}async function BL(t){const e=ML(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const LL=new Map,jL=new Map;function FL(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,LL),r=e(t,jL);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function zL(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=FL(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const qL=t=>`blockNumber.${t}`;async function HL(t,{cacheTime:e=t.cacheTime}={}){const n=await zL(()=>t.request({method:"eth_blockNumber"}),{cacheKey:qL(t.uid),cacheTime:e});return BigInt(n)}function VL(t,e){if(!$i(t,{strict:!1}))throw new Kc({address:t});if(!$i(e,{strict:!1}))throw new Kc({address:e});return t.toLowerCase()===e.toLowerCase()}const ux="/docs/contract/decodeEventLog";function GL(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...l]=s;if(!o)throw new vk({docsPath:ux});const d=e.find(E=>E.type==="event"&&o===x_(qo(E)));if(!(d&&"name"in d)||d.type!=="event")throw new LO(o,{docsPath:ux});const{name:f,inputs:p}=d,g=p==null?void 0:p.some(E=>!("name"in E&&E.name)),m=g?[]:{},b=p.map((E,_)=>[E,_]).filter(([E])=>"indexed"in E&&E.indexed);for(let E=0;E<b.length;E++){const[_,C]=b[E],I=l[E];if(!I)throw new jO({abiItem:d,param:_});m[g?C:_.name||C]=WL({param:_,value:I})}const w=p.filter(E=>!("indexed"in E&&E.indexed));if(w.length>0){if(n&&n!=="0x")try{const E=Jy(w,n);if(E)if(g)for(let _=0;_<p.length;_++)m[_]=m[_]??E.shift();else for(let _=0;_<w.length;_++)m[w[_].name]=E[_]}catch(E){if(i)throw E instanceof MO||E instanceof t3?new PE({abiItem:d,data:n,params:w,size:Cn(n)}):E}else if(i)throw new PE({abiItem:d,data:"0x",params:w,size:0})}return{eventName:f,args:Object.values(m).length>0?m:void 0}}function WL({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Jy([t],e)||[])[0]}function KL(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var l;try{const d=e.find(p=>p.type==="event"&&o.topics[0]===x_(p));if(!d)return null;const f=GL({...o,abi:[d],strict:s});return i&&!i.includes(f.eventName)||!YL({args:f.args,inputs:d.inputs,matchArgs:n})?null:{...f,...o}}catch(d){let f,p;if(d instanceof LO)return null;if(d instanceof PE||d instanceof jO){if(s)return null;f=d.abiItem.name,p=(l=d.abiItem.inputs)==null?void 0:l.some(g=>!("name"in g&&g.name))}return{...o,args:p?[]:{},eventName:f}}}).filter(Boolean)}function YL(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,l){try{return i.type==="address"?VL(o,l):i.type==="string"||i.type==="bytes"?wp(Hy(o))===l:o===l}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const l=n[o];return l?(Array.isArray(i)?i:[i]).some(f=>s(l,f,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const l=n.find(f=>f.name===i);return l?(Array.isArray(o)?o:[o]).some(f=>s(l,f,e[i])):!1}):!1}function G3(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function ZL(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>G3(i));return!("abi"in e)||!e.abi?s:KL({abi:e.abi,logs:s,strict:n})}async function W3(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var p,g,m;const o=r||"latest",l=n!==void 0?st(n):void 0;let d=null;if(s?d=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,st(i)]},{dedupe:!0}):d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||o,st(i)]},{dedupe:!!l}),!d)throw new a3({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((m=(g=(p=t.chain)==null?void 0:p.formatters)==null?void 0:g.transaction)==null?void 0:m.format)||d3)(d)}const QL={"0x0":"reverted","0x1":"success"};function XL(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>G3(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Wc(t.transactionIndex):null,status:t.status?QL[t.status]:null,type:t.type?u3[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function dx(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new o3({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||XL)(n)}async function JL(t,e){var C;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:l,stateOverride:d}=e,f=e.contracts,p=s??(typeof((C=t.batch)==null?void 0:C.multicall)=="object"&&t.batch.multicall.batchSize||1024);let g=l;if(!g){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");g=M3({blockNumber:i,chain:t.chain,contract:"multicall3"})}const m=[[]];let b=0,w=0;for(let I=0;I<f.length;I++){const{abi:A,address:O,args:x,functionName:T}=f[I];try{const P=e0({abi:A,args:x,functionName:T});w+=(P.length-2)/2,p>0&&w>p&&m[b].length>0&&(b++,w=(P.length-2)/2,m[b]=[]),m[b]=[...m[b],{allowFailure:!0,callData:P,target:O}]}catch(P){const U=ay(P,{abi:A,address:O,args:x,docsPath:"/docs/contract/multicall",functionName:T,sender:n});if(!r)throw U;m[b]=[...m[b],{allowFailure:!0,callData:"0x",target:O}]}}const E=await Promise.allSettled(m.map(I=>Yt(t,V3,"readContract")({abi:zE,account:n,address:g,args:[I],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:d}))),_=[];for(let I=0;I<E.length;I++){const A=E[I];if(A.status==="rejected"){if(!r)throw A.reason;for(let x=0;x<m[I].length;x++)_.push({status:"failure",error:A.reason,result:void 0});continue}const O=A.value;for(let x=0;x<O.length;x++){const{returnData:T,success:P}=O[x],{callData:U}=m[I][x],{abi:S,address:B,functionName:L,args:z}=f[_.length];try{if(U==="0x")throw new Wy;if(!P)throw new O_({data:T});const K=R_({abi:S,args:z,data:T,functionName:L});_.push(r?{result:K,status:"success"}:K)}catch(K){const G=ay(K,{abi:S,address:B,args:z,docsPath:"/docs/contract/multicall",functionName:L});if(!r)throw G;_.push({error:G,result:void 0,status:"failure"})}}}if(_.length!==f.length)throw new pe("multicall results mismatch");return _}const nm=new Yy(8192);function e9(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(nm.get(n))return nm.get(n);const r=t().finally(()=>nm.delete(n));return nm.set(n,r),r}async function oy(t){return new Promise(e=>setTimeout(e,t))}function cy(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:l=0}={})=>{const d=async({error:f})=>{const p=typeof e=="function"?e({count:l,error:f}):e;p&&await oy(p),o({count:l+1})};try{const f=await t();s(f)}catch(f){if(l<n&&await r({count:l,error:f}))return d({error:f});i(f)}};o()})}function t9(t,e={}){return async(n,r={})=>{var g;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:l=3,uid:d}={...e,...r},{method:f}=n;if((g=i==null?void 0:i.exclude)!=null&&g.includes(f))throw new Ic(new Error("method not supported"),{method:f});if(i!=null&&i.include&&!i.include.includes(f))throw new Ic(new Error("method not supported"),{method:f});const p=s?Vy(`${d}.${xs(n)}`):void 0;return e9(()=>cy(async()=>{try{return await t(n)}catch(m){const b=m;switch(b.code){case Eh.code:throw new Eh(b);case _h.code:throw new _h(b);case Ch.code:throw new Ch(b,{method:n.method});case Sh.code:throw new Sh(b);case Zc.code:throw new Zc(b);case Ah.code:throw new Ah(b);case Th.code:throw new Th(b);case ko.code:throw new ko(b);case Xu.code:throw new Xu(b);case Ic.code:throw new Ic(b,{method:n.method});case Ju.code:throw new Ju(b);case xh.code:throw new xh(b);case En.code:throw new En(b);case Nh.code:throw new Nh(b);case Ih.code:throw new Ih(b);case Rh.code:throw new Rh(b);case Oh.code:throw new Oh(b);case ki.code:throw new ki(b);case Ph.code:throw new Ph(b);case Dh.code:throw new Dh(b);case Uh.code:throw new Uh(b);case $h.code:throw new $h(b);case kh.code:throw new kh(b);case Mh.code:throw new Mh(b);case Bh.code:throw new Bh(b);case 5e3:throw new En(b);default:throw m instanceof pe?m:new NM(b)}}},{delay:({count:m,error:b})=>{var w;if(b&&b instanceof Jf){const E=(w=b==null?void 0:b.headers)==null?void 0:w.get("Retry-After");if(E!=null&&E.match(/\d/))return Number.parseInt(E)*1e3}return~~(1<<m)*o},retryCount:l,shouldRetry:({error:m})=>n9(m)}),{enabled:s,id:p})}}function n9(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Ju.code||t.code===Zc.code:t instanceof Jf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function K3(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function Y3(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const l=new AbortController;n>0&&(o=setTimeout(()=>{r?l.abort():i(e)},n)),s(await t({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&i(e),i(l)}finally{clearTimeout(o)}})()})}function r9(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const fx=r9();function s9(t,e={}){return{async request(n){var g;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,l={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:f,signal:p}=l;try{const m=await Y3(async({signal:w})=>{const E={...l,body:Array.isArray(r)?xs(r.map(A=>({jsonrpc:"2.0",id:A.id??fx.take(),...A}))):xs({jsonrpc:"2.0",id:r.id??fx.take(),...r}),headers:{"Content-Type":"application/json",...d},method:f||"POST",signal:p||(o>0?w:null)},_=new Request(t,E),C=await(s==null?void 0:s(_,E))??{...E,url:t};return await fetch(C.url??t,C)},{errorInstance:new ex({body:r,url:t}),timeout:o,signal:!0});i&&await i(m);let b;if((g=m.headers.get("Content-Type"))!=null&&g.startsWith("application/json"))b=await m.json();else{b=await m.text();try{b=JSON.parse(b||"{}")}catch(w){if(m.ok)throw w;b={error:b}}}if(!m.ok)throw new Jf({body:r,details:xs(b.error)||m.statusText,headers:m.headers,status:m.status,url:t});return b}catch(m){throw m instanceof Jf||m instanceof ex?m:new Jf({body:r,cause:m,url:t})}}}}class i9 extends pe{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function a9(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new i9({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,l]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],d=Math.round(+`${o}.${l}`);d>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${d}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const uv=new Map,hx=new Map;let o9=0;function ly(t,e,n){const r=++o9,s=()=>uv.get(t)||[],i=()=>{const p=s();uv.set(t,p.filter(g=>g.id!==r))},o=()=>{const p=s();if(!p.some(m=>m.id===r))return;const g=hx.get(t);if(p.length===1&&g){const m=g();m instanceof Promise&&m.catch(()=>{})}i()},l=s();if(uv.set(t,[...l,{id:r,fns:e}]),l&&l.length>0)return o;const d={};for(const p in e)d[p]=(...g)=>{var b,w;const m=s();if(m.length!==0)for(const E of m)(w=(b=E.fns)[p])==null||w.call(b,...g)};const f=n(d);return typeof f=="function"&&hx.set(t,f),o}function Z3(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let l;e&&(l=await t({unpoll:i}));const d=await(n==null?void 0:n(l))??r;await oy(d);const f=async()=>{s&&(await t({unpoll:i}),await oy(r),f())};f()})(),i}function c9(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const l=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let d;return l?(()=>{const g=xs(["watchBlockNumber",t.uid,e,n,o]);return ly(g,{onBlockNumber:r,onError:s},m=>Z3(async()=>{var b;try{const w=await Yt(t,HL,"getBlockNumber")({cacheTime:0});if(d){if(w===d)return;if(w-d>1&&n)for(let E=d+1n;E<w;E++)m.onBlockNumber(E,d),d=E}(!d||w>d)&&(m.onBlockNumber(w,d),d=w)}catch(w){(b=m.onError)==null||b.call(m,w)}},{emitOnBegin:e,interval:o}))})():(()=>{const g=xs(["watchBlockNumber",t.uid,e,n]);return ly(g,{onBlockNumber:r,onError:s},m=>{let b=!0,w=()=>b=!1;return(async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(I=>I.config.type==="webSocket");return C?C.value:t.transport}return t.transport})(),{unsubscribe:_}=await E.subscribe({params:["newHeads"],onData(C){var A;if(!b)return;const I=Yu((A=C.result)==null?void 0:A.number);m.onBlockNumber(I,d),d=I},onError(C){var I;(I=m.onError)==null||I.call(m,C)}});w=_,b||w()}catch(E){s==null||s(E)}})(),()=>w()})})()}async function l9(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function u9(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const f=xs(["watchPendingTransactions",t.uid,e,i]);return ly(f,{onTransactions:r,onError:n},p=>{let g;const m=Z3(async()=>{var b;try{if(!g)try{g=await Yt(t,BL,"createPendingTransactionFilter")({});return}catch(E){throw m(),E}const w=await Yt(t,ZL,"getFilterChanges")({filter:g});if(w.length===0)return;if(e)p.onTransactions(w);else for(const E of w)p.onTransactions([E])}catch(w){(b=p.onError)==null||b.call(p,w)}},{emitOnBegin:!0,interval:i});return async()=>{g&&await Yt(t,l9,"uninstallFilter")({filter:g}),m()}})})():(()=>{let f=!0,p=()=>f=!1;return(async()=>{try{const{unsubscribe:g}=await t.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!f)return;const b=m.result;r([b])},onError(m){n==null||n(m)}});p=g,f||p()}catch(g){n==null||n(g)}})(),()=>p()})()}async function d9(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:d})=>~~(1<<d)*200,timeout:l=18e4}){const d=xs(["waitForTransactionReceipt",t.uid,n]);let f,p,g,m=!1,b,w;const{promise:E,resolve:_,reject:C}=z3(),I=l?setTimeout(()=>{w(),b(),C(new AM({hash:n}))},l):void 0;return b=ly(d,{onReplaced:r,resolve:_,reject:C},A=>{w=Yt(t,c9,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(O){const x=P=>{clearTimeout(I),w(),P(),b()};let T=O;if(!m)try{if(g){if(e>1&&(!g.blockNumber||T-g.blockNumber+1n<e))return;x(()=>A.resolve(g));return}if(f||(m=!0,await cy(async()=>{f=await Yt(t,W3,"getTransaction")({hash:n}),f.blockNumber&&(T=f.blockNumber)},{delay:o,retryCount:i}),m=!1),g=await Yt(t,dx,"getTransactionReceipt")({hash:n}),e>1&&(!g.blockNumber||T-g.blockNumber+1n<e))return;x(()=>A.resolve(g))}catch(P){if(P instanceof a3||P instanceof o3){if(!f){m=!1;return}try{p=f,m=!0;const U=await cy(()=>Yt(t,Lh,"getBlock")({blockNumber:T,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:L})=>L instanceof l3});m=!1;const S=U.transactions.find(({from:L,nonce:z})=>L===p.from&&z===p.nonce);if(!S||(g=await Yt(t,dx,"getTransactionReceipt")({hash:S.hash}),e>1&&(!g.blockNumber||T-g.blockNumber+1n<e)))return;let B="replaced";S.to===p.to&&S.value===p.value&&S.input===p.input?B="repriced":S.from===S.to&&S.value===0n&&(B="cancelled"),x(()=>{var L;(L=A.onReplaced)==null||L.call(A,{reason:B,replacedTransaction:p,transaction:S,transactionReceipt:g}),A.resolve(g)})}catch(U){x(()=>A.reject(U))}}else x(()=>A.reject(P))}}})}),E}async function f9(t,{account:e=t.account,message:n}){if(!e)throw new m_({docsPath:"/docs/actions/wallet/signMessage"});const r=ji(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Vy(n):n.raw instanceof Uint8Array?Zu(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function h9(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:l,...d}=e;if(typeof r>"u")throw new m_({docsPath:"/docs/contract/writeContract"});const f=r?ji(r):null,p=e0({abi:n,args:i,functionName:l});try{return await Yt(t,E3,"sendTransaction")({data:`${p}${o?o.replace("0x",""):""}`,to:s,account:f,...d})}catch(g){throw ay(g,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:l,sender:f==null?void 0:f.address})}}function Ns(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const Um="2.17.3",p9=()=>`@wagmi/core@${Um}`;var Q3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},uy,X3;let Ko=class YE extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return p9()}constructor(e,n={}){var i;super(),uy.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof YE?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof YE&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return Q3(this,uy,"m",X3).call(this,this,e)}};uy=new WeakSet,X3=function t(e,n){return n!=null&&n(e)?e:e.cause?Q3(this,uy,"m",t).call(this,e.cause,n):e};class Fh extends Ko{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class g9 extends Ko{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class m9 extends Ko{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class y9 extends Ko{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class w9 extends Ko{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class b9 extends Ko{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function dv(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new g9;try{t.setState(d=>({...d,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),l=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(d=>({...d,connections:new Map(d.connections).set(n.uid,{accounts:l,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:l,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const ZE=256;let rm=ZE,sm;function J3(t=11){if(!sm||rm+t>ZE*2){sm="",rm=0;for(let e=0;e<ZE;e++)sm+=(256+Math.random()*256|0).toString(16).substring(1)}return sm.substring(rm,rm+++t)}function eP(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,l=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(l/2),500),4e3),f=t.pollingInterval??d,p=t.cacheTime??f,g=t.account?ji(t.account):void 0,{config:m,request:b,value:w}=t.transport({chain:n,pollingInterval:f}),E={...m,...w},_={account:g,batch:e,cacheTime:p,ccipRead:r,chain:n,key:s,name:i,pollingInterval:f,request:b,transport:E,type:o,uid:J3()};function C(I){return A=>{const O=A(I);for(const T in _)delete O[T];const x={...I,...O};return Object.assign(x,{extend:C(x)})}}return Object.assign(_,{extend:C(_)})}function P_({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:l},d){const f=J3();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:l},request:t9(r,{methods:e,retryCount:s,retryDelay:i,uid:f}),value:d}}function v9(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>P_({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function px(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=E9,retryCount:o,retryDelay:l}=e;return({chain:d,pollingInterval:f=4e3,timeout:p,...g})=>{let m=t,b=()=>{};const w=P_({key:n,name:r,async request({method:E,params:_}){let C;const I=async(A=0)=>{const O=m[A]({...g,chain:d,retryCount:0,timeout:p});try{const x=await O.request({method:E,params:_});return b({method:E,params:_,response:x,transport:O,status:"success"}),x}catch(x){if(b({error:x,method:E,params:_,transport:O,status:"error"}),i(x)||A===m.length-1||(C??(C=m.slice(A+1).some(T=>{const{include:P,exclude:U}=T({chain:d}).config.methods||{};return P?P.includes(E):U?!U.includes(E):!0})),!C))throw x;return I(A+1)}};return I()},retryCount:o,retryDelay:l,type:"fallback"},{onResponse:E=>b=E,transports:m.map(E=>E({chain:d,retryCount:0}))});if(s){const E=typeof s=="object"?s:{};_9({chain:d,interval:E.interval??f,onTransports:_=>m=_,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:m,weights:E.weights})}return w}}function E9(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Xu.code||t.code===En.code||Nc.nodeMessage.test(t.message)||t.code===5e3))}function _9({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:l={}}){const{stability:d=.7,latency:f=.3}=l,p=[],g=async()=>{const m=await Promise.all(o.map(async E=>{const _=E({chain:t,retryCount:0,timeout:i}),C=Date.now();let I,A;try{await(r?r({transport:_}):_.request({method:"net_listening"})),A=1}catch{A=0}finally{I=Date.now()}return{latency:I-C,success:A}}));p.push(m),p.length>s&&p.shift();const b=Math.max(...p.map(E=>Math.max(...E.map(({latency:_})=>_)))),w=o.map((E,_)=>{const C=p.map(T=>T[_].latency),A=1-C.reduce((T,P)=>T+P,0)/C.length/b,O=p.map(T=>T[_].success),x=O.reduce((T,P)=>T+P,0)/O.length;return x===0?[0,_]:[f*A+d*x,_]}).sort((E,_)=>_[0]-E[0]);n(w.map(([,E])=>o[E])),await oy(e),g()};g()}class C9 extends pe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function im(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:d,retryDelay:f,raw:p}=e;return({chain:g,retryCount:m,timeout:b})=>{const{batchSize:w=1e3,wait:E=0}=typeof n=="object"?n:{},_=e.retryCount??m,C=b??e.timeout??1e4,I=t||(g==null?void 0:g.rpcUrls.default.http[0]);if(!I)throw new C9;const A=s9(I,{fetchOptions:r,onRequest:l,onResponse:d,timeout:C});return P_({key:s,methods:i,name:o,async request({method:O,params:x}){const T={method:O,params:x},{schedule:P}=q3({id:I,wait:E,shouldSplitBatch(L){return L.length>w},fn:L=>A.request({body:L}),sort:(L,z)=>L.id-z.id}),U=async L=>n?P(L):[await A.request({body:L})],[{error:S,result:B}]=await U(T);if(p)return{error:S,result:B};if(S)throw new v_({body:T,error:S,url:I});return B},retryCount:_,retryDelay:f,timeout:C,type:"http"},{fetchOptions:r,url:I})}}async function t0(t,e={}){let n;if(e.connector){const{connector:f}=e;if(t.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new b9({connector:f});const[p,g]=await Promise.all([f.getAccounts().catch(m=>{if(e.account===null)return[];throw m}),f.getChainId()]);n={accounts:p,chainId:g,connector:f}}else n=t.state.connections.get(t.state.current);if(!n)throw new m9;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new w9({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=ji(e.account??n.accounts[0]);if(o&&(o.address=xc(o.address)),e.account&&!n.accounts.some(f=>f.toLowerCase()===o.address.toLowerCase()))throw new y9({address:o.address,connector:i});const l=t.chains.find(f=>f.id===r),d=await n.connector.getProvider({chainId:r});return eP({account:o,chain:l,name:"Connector Client",transport:f=>v9(d)({...f,retryCount:0})})}async function S9(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:l}=t.state,d=o.get(l);n=d==null?void 0:d.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const l=r.values().next().value;return{...o,connections:new Map(r),current:l.connector.uid}});{const o=t.state.current;if(!o)return;const l=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!l)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",l.id))}}async function A9(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await t0(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return Ns(o,g3,"estimateGas")({...s,account:i})}function tP(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(EM[t])}function eh(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(l=>l.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function T9(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return Ns(o,JL,"multicall")({allowFailure:n,contracts:s,...i})}function x9(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Ns(s,V3,"readContract")(r)}async function N9(t,e){var l;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const d={};for(const[m,b]of o.entries()){const w=b.chainId??t.state.chainId;d[w]||(d[w]=[]),(l=d[w])==null||l.push({contract:b,index:m})}const f=()=>Object.entries(d).map(([m,b])=>T9(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(m),contracts:b.map(({contract:w})=>w)})),p=(await Promise.all(f())).flat(),g=Object.values(d).flatMap(m=>m.map(({index:b})=>b));return p.reduce((m,b,w)=>(m&&(m[g[w]]=b),m),[])}catch(d){if(d instanceof L3)throw d;const f=()=>o.map(p=>x9(t,{...p,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(f())).map(p=>p.status==="fulfilled"?{result:p.value,status:"success"}:{error:p.reason,result:void 0,status:"failure"}):await Promise.all(f())}}async function I9(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:l="ether"}=e;if(o)try{return await gx(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(m){if(m.name==="ContractFunctionExecutionError"){const b=await gx(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),w=$O(yp(b.symbol,{dir:"right"}));return{...b,symbol:w}}throw m}const d=t.getClient({chainId:i}),p=await Ns(d,p3,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),g=t.chains.find(m=>m.id===i)??d.chain;return{decimals:g.nativeCurrency.decimals,formatted:ld(p,tP(l)),symbol:g.nativeCurrency.symbol,value:p}}async function gx(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,l={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[d,f,p]=await N9(t,{allowFailure:!1,contracts:[{...l,functionName:"balanceOf",args:[n],chainId:r},{...l,functionName:"decimals",chainId:r},{...l,functionName:"symbol",chainId:r}]}),g=ld(d??"0",tP(o??f));return{decimals:f,formatted:g,symbol:p,value:d}}function dy(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!dy(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!dy(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let am=[];function gc(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||dy(am,e)?am:(am=e,e)}async function R9(t,e){const{account:n,chainId:r,...s}=e,i=n??eh(t).address,o=t.getClient({chainId:r});return Ns(o,T_,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let fv=!1;async function QE(t,e={}){var f,p;if(fv)return[];fv=!0,t.setState(g=>({...g,status:g.current?"reconnecting":"connecting"}));const n=[];if((f=e.connectors)!=null&&f.length)for(const g of e.connectors){let m;typeof g=="function"?m=t._internal.connectors.setup(g):m=g,n.push(m)}else n.push(...t.connectors);let r;try{r=await((p=t.storage)==null?void 0:p.getItem("recentConnectorId"))}catch{}const s={};for(const[,g]of t.state.connections)s[g.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((g,m)=>(s[g.id]??10)-(s[m.id]??10)):n;let o=!1;const l=[],d=[];for(const g of i){const m=await g.getProvider().catch(()=>{});if(!m||d.some(E=>E===m)||!await g.isAuthorized())continue;const w=await g.connect({isReconnecting:!0}).catch(()=>null);w&&(g.emitter.off("connect",t._internal.events.connect),g.emitter.on("change",t._internal.events.change),g.emitter.on("disconnect",t._internal.events.disconnect),t.setState(E=>{const _=new Map(o?E.connections:new Map).set(g.uid,{accounts:w.accounts,chainId:w.chainId,connector:g});return{...E,current:o?E.current:g.uid,connections:_}}),l.push({accounts:w.accounts,chainId:w.chainId,connector:g}),d.push(m),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(g=>({...g,status:"connected"})):t.setState(g=>({...g,connections:new Map,current:null,status:"disconnected"}))),fv=!1,l}async function O9(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await t0(t,{account:n??void 0,chainId:r,connector:s}),await Ns(o,E3,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function P9(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await t0(t,{account:n,connector:r}),Ns(i,f9,"signMessage")({...s,...n?{account:n}:{}})}class yo extends Ko{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class D9 extends Ko{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function mx(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const l=s.connector;if(!l.switchChain)throw new D9({connector:l});return await l.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(l=>l.id===r);if(!i)throw new Fh;return t.setState(l=>({...l,chainId:r})),i}function U9(t,e){const{onChange:n}=e;return t.subscribe(()=>eh(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:l,...d}=s;return dy(o,d)&&(i==null?void 0:i.id)===(l==null?void 0:l.id)&&(i==null?void 0:i.uid)===(l==null?void 0:l.uid)}})}function $9(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function k9(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=d=>{s&&s();const f=t.getClient({chainId:d});return s=Ns(f,u9,"watchPendingTransactions")(r),s},o=i(e.chainId);let l;return n&&!e.chainId&&(l=t.subscribe(({chainId:d})=>d,async d=>i(d))),()=>{o==null||o(),l==null||l()}}async function M9(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),l=await Ns(i,d9,"waitForTransactionReceipt")({...s,timeout:r});if(l.status==="reverted"){const f=await Ns(i,W3,"getTransaction")({hash:l.transactionHash}),g=await Ns(i,H3,"call")({...f,data:f.input,gasPrice:f.type!=="eip1559"?f.gasPrice:void 0,maxFeePerGas:f.type==="eip1559"?f.maxFeePerGas:void 0,maxPriorityFeePerGas:f.type==="eip1559"?f.maxPriorityFeePerGas:void 0}),m=g!=null&&g.data?$O(`0x${g.data.substring(138)}`):"unknown reason";throw new Error(m)}return{...l,chainId:i.chain.id}}async function B9(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await t0(t,{account:n??void 0,chainId:r,connector:s}),await Ns(o,h9,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function ece(t){return t}n0.type="injected";function n0(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const d=t.target;if(typeof d=="function"){const f=d();if(f)return f}return typeof d=="object"?d:typeof d=="string"?{...L9[d]??{id:d,name:`${d[0].toUpperCase()}${d.slice(1)}`,provider:`is${d[0].toUpperCase()}${d.slice(1)}`}}:{id:"injected",name:"Injected",provider(f){return f==null?void 0:f.ethereum}}}let s,i,o,l;return d=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:n0.type,async setup(){const f=await this.getProvider();f!=null&&f.on&&t.target&&(o||(o=this.onConnect.bind(this),f.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)))},async connect({chainId:f,isReconnecting:p}={}){var b,w,E,_,C,I;const g=await this.getProvider();if(!g)throw new yo;let m=[];if(p)m=await this.getAccounts().catch(()=>[]);else if(e)try{m=(_=(E=(w=(b=(await g.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:b.caveats)==null?void 0:w[0])==null?void 0:E.value)==null?void 0:_.map(O=>xc(O)),m.length>0&&(m=await this.getAccounts())}catch(A){const O=A;if(O.code===En.code)throw new En(O);if(O.code===ko.code)throw O}try{!(m!=null&&m.length)&&!p&&(m=(await g.request({method:"eth_requestAccounts"})).map(x=>xc(x))),o&&(g.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),g.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),g.on("disconnect",l));let A=await this.getChainId();if(f&&A!==f){const O=await this.switchChain({chainId:f}).catch(x=>{if(x.code===En.code)throw x;return{id:A}});A=(O==null?void 0:O.id)??A}return e&&await((C=d.storage)==null?void 0:C.removeItem(`${this.id}.disconnected`)),t.target||await((I=d.storage)==null?void 0:I.setItem("injected.connected",!0)),{accounts:m,chainId:A}}catch(A){const O=A;throw O.code===En.code?new En(O):O.code===ko.code?new ko(O):O}},async disconnect(){var p,g;const f=await this.getProvider();if(!f)throw new yo;i&&(f.removeListener("chainChanged",i),i=void 0),l&&(f.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o));try{await Y3(()=>f.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((p=d.storage)==null?void 0:p.setItem(`${this.id}.disconnected`,!0)),t.target||await((g=d.storage)==null?void 0:g.removeItem("injected.connected"))},async getAccounts(){const f=await this.getProvider();if(!f)throw new yo;return(await f.request({method:"eth_accounts"})).map(g=>xc(g))},async getChainId(){const f=await this.getProvider();if(!f)throw new yo;const p=await f.request({method:"eth_chainId"});return Number(p)},async getProvider(){if(typeof window>"u")return;let f;const p=r();return typeof p.provider=="function"?f=p.provider(window):typeof p.provider=="string"?f=$m(window,p.provider):f=p.provider,f&&!f.removeListener&&("off"in f&&typeof f.off=="function"?f.removeListener=f.off:f.removeListener=()=>{}),f},async isAuthorized(){var f,p;try{if(e&&await((f=d.storage)==null?void 0:f.getItem(`${this.id}.disconnected`))||!t.target&&!await((p=d.storage)==null?void 0:p.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const w=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",w),!!await this.getProvider()),E=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(C=>window.addEventListener("ethereum#initialized",()=>C(w()),{once:!0}))]:[],new Promise(C=>setTimeout(()=>C(w()),E))]))return!0}throw new yo}return!!(await cy(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:p}){var w,E,_,C;const g=await this.getProvider();if(!g)throw new yo;const m=d.chains.find(I=>I.id===p);if(!m)throw new ki(new Fh);const b=new Promise(I=>{const A=O=>{"chainId"in O&&O.chainId===p&&(d.emitter.off("change",A),I())};d.emitter.on("change",A)});try{return await Promise.all([g.request({method:"wallet_switchEthereumChain",params:[{chainId:st(p)}]}).then(async()=>{await this.getChainId()===p&&d.emitter.emit("change",{chainId:p})}),b]),m}catch(I){const A=I;if(A.code===4902||((E=(w=A==null?void 0:A.data)==null?void 0:w.originalError)==null?void 0:E.code)===4902)try{const{default:O,...x}=m.blockExplorers??{};let T;f!=null&&f.blockExplorerUrls?T=f.blockExplorerUrls:O&&(T=[O.url,...Object.values(x).map(S=>S.url)]);let P;(_=f==null?void 0:f.rpcUrls)!=null&&_.length?P=f.rpcUrls:P=[((C=m.rpcUrls.default)==null?void 0:C.http[0])??""];const U={blockExplorerUrls:T,chainId:st(p),chainName:(f==null?void 0:f.chainName)??m.name,iconUrls:f==null?void 0:f.iconUrls,nativeCurrency:(f==null?void 0:f.nativeCurrency)??m.nativeCurrency,rpcUrls:P};return await Promise.all([g.request({method:"wallet_addEthereumChain",params:[U]}).then(async()=>{if(await this.getChainId()===p)d.emitter.emit("change",{chainId:p});else throw new En(new Error("User rejected switch after adding network."))}),b]),m}catch(O){throw new En(O)}throw A.code===En.code?new En(A):new ki(A)}},async onAccountsChanged(f){var p;if(f.length===0)this.onDisconnect();else if(d.emitter.listenerCount("connect")){const g=(await this.getChainId()).toString();this.onConnect({chainId:g}),e&&await((p=d.storage)==null?void 0:p.removeItem(`${this.id}.disconnected`))}else d.emitter.emit("change",{accounts:f.map(g=>xc(g))})},onChainChanged(f){const p=Number(f);d.emitter.emit("change",{chainId:p})},async onConnect(f){const p=await this.getAccounts();if(p.length===0)return;const g=Number(f.chainId);d.emitter.emit("connect",{accounts:p,chainId:g});const m=await this.getProvider();m&&(o&&(m.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),m.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),m.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),m.on("disconnect",l)))},async onDisconnect(f){const p=await this.getProvider();f&&f.code===1013&&p&&(await this.getAccounts()).length||(d.emitter.emit("disconnect"),p&&(i&&(p.removeListener("chainChanged",i),i=void 0),l&&(p.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),p.on("connect",o))))}})}const L9={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:$m(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return $m(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:$m(t,"isPhantom")}}};function $m(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function j9(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function F9(){const t=new Set;let e=[];const n=()=>j9(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const z9=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,l,d)=>{let f=o;if(l){const p=(d==null?void 0:d.equalityFn)||Object.is;let g=o(r.getState());f=m=>{const b=o(m);if(!p(g,b)){const w=g;l(g=b,w)}},d!=null&&d.fireImmediately&&l(g,g)}return s(f)},t(e,n,r)},q9=z9;function H9(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=d=>d===null?null:JSON.parse(d,void 0),l=(i=n.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const XE=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return XE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return XE(r)(n)}}}},V9=(t,e)=>(n,r,s)=>{let i={storage:H9(()=>localStorage),partialize:E=>E,version:0,merge:(E,_)=>({..._,...E}),...e},o=!1;const l=new Set,d=new Set;let f=i.storage;if(!f)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...E)},r,s);const p=()=>{const E=i.partialize({...r()});return f.setItem(i.name,{state:E,version:i.version})},g=s.setState;s.setState=(E,_)=>{g(E,_),p()};const m=t((...E)=>{n(...E),p()},r,s);s.getInitialState=()=>m;let b;const w=()=>{var E,_;if(!f)return;o=!1,l.forEach(I=>{var A;return I((A=r())!=null?A:m)});const C=((_=i.onRehydrateStorage)==null?void 0:_.call(i,(E=r())!=null?E:m))||void 0;return XE(f.getItem.bind(f))(i.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==i.version){if(i.migrate)return[!0,i.migrate(I.state,I.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var A;const[O,x]=I;if(b=i.merge(x,(A=r())!=null?A:m),n(b,!0),O)return p()}).then(()=>{C==null||C(b,void 0),b=r(),o=!0,d.forEach(I=>I(b))}).catch(I=>{C==null||C(void 0,I)})};return s.persist={setOptions:E=>{i={...i,...E},E.storage&&(f=E.storage)},clearStorage:()=>{f==null||f.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:E=>(l.add(E),()=>{l.delete(E)}),onFinishHydration:E=>(d.add(E),()=>{d.delete(E)})},i.skipHydration||w(),b||m},G9=V9,yx=t=>{let e;const n=new Set,r=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const m=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(b=>b(e,m))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=e=t(r,s,l);return l},hv=t=>t?yx(t):yx;var pv={exports:{}},wx;function W9(){return wx||(wx=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function i(d,f,p,g,m){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new s(p,g||d,m),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],b]:d._events[w].push(b):(d._events[w]=b,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},l.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,b=g.length,w=new Array(b);m<b;m++)w[m]=g[m].fn;return w},l.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},l.prototype.emit=function(f,p,g,m,b,w){var E=n?n+f:f;if(!this._events[E])return!1;var _=this._events[E],C=arguments.length,I,A;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),C){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,m),!0;case 5:return _.fn.call(_.context,p,g,m,b),!0;case 6:return _.fn.call(_.context,p,g,m,b,w),!0}for(A=1,I=new Array(C-1);A<C;A++)I[A-1]=arguments[A];_.fn.apply(_.context,I)}else{var O=_.length,x;for(A=0;A<O;A++)switch(_[A].once&&this.removeListener(f,_[A].fn,void 0,!0),C){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,p);break;case 3:_[A].fn.call(_[A].context,p,g);break;case 4:_[A].fn.call(_[A].context,p,g,m);break;default:if(!I)for(x=1,I=new Array(C-1);x<C;x++)I[x-1]=arguments[x];_[A].fn.apply(_[A].context,I)}}return!0},l.prototype.on=function(f,p,g){return i(this,f,p,g,!1)},l.prototype.once=function(f,p,g){return i(this,f,p,g,!0)},l.prototype.removeListener=function(f,p,g,m){var b=n?n+f:f;if(!this._events[b])return this;if(!p)return o(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!m||w.once)&&(!g||w.context===g)&&o(this,b);else{for(var E=0,_=[],C=w.length;E<C;E++)(w[E].fn!==p||m&&!w[E].once||g&&w[E].context!==g)&&_.push(w[E]);_.length?this._events[b]=_.length===1?_[0]:_:o(this,b)}return this},l.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(pv)),pv.exports}var K9=W9();const Y9=gp(K9);class Z9{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Y9})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Q9(t){return new Z9(t)}function X9(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function bx(t,e){return t.slice(0,e).join(".")||"."}function vx(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function J9(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(l,d){if(typeof d=="object")if(s.length){const f=vx(s,this);f===0?s[s.length]=this:(s.splice(f),i.splice(f)),i[i.length]=l;const p=vx(s,d);if(p!==0)return r?e.call(this,l,d,bx(i,p)):`[ref=${bx(i,p)}]`}else s[0]=d,i[0]=l;return n?t.call(this,l,d):d}}function ej(t,e,n,r){return JSON.stringify(t,J9((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function tj(t){const{deserialize:e=X9,key:n="wagmi",serialize:r=ej,storage:s=nP}=t;function i(o){return o instanceof Promise?o.then(l=>l).catch(()=>null):o}return{...s,key:n,async getItem(o,l){const d=s.getItem(`${n}.${o}`),f=await i(d);return f?e(f)??null:l??null},async setItem(o,l){const d=`${n}.${o}`;l===null?await i(s.removeItem(d)):await i(s.setItem(d,r(l)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const nP={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function nj(){const t=typeof window<"u"&&window.localStorage?window.localStorage:nP;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const JE=256;let om=JE,cm;function rj(t=11){if(!cm||om+t>JE*2){cm="",om=0;for(let e=0;e<JE;e++)cm+=(256+Math.random()*256|0).toString(16).substring(1)}return cm.substring(om,om+++t)}function sj(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=tj({storage:nj()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?F9():void 0,l=hv(()=>i.chains),d=hv(()=>{const x=[],T=new Set;for(const P of i.connectors??[]){const U=f(P);if(x.push(U),!s&&U.rdns){const S=typeof U.rdns=="string"?[U.rdns]:U.rdns;for(const B of S)T.add(B)}}if(!s&&o){const P=o.getProviders();for(const U of P)T.has(U.info.rdns)||x.push(f(p(U)))}return x});function f(x){var U;const T=Q9(rj()),P={...x({emitter:T,chains:l.getState(),storage:n,transports:i.transports}),emitter:T,uid:T.uid};return T.on("connect",A),(U=P.setup)==null||U.call(P),P}function p(x){const{info:T}=x,P=x.provider;return n0({target:{...T,id:T.rdns,provider:P}})}const g=new Map;function m(x={}){const T=x.chainId??_.getState().chainId,P=l.getState().find(S=>S.id===T);if(x.chainId&&!P)throw new Fh;{const S=g.get(_.getState().chainId);if(S&&!P)return S;if(!P)throw new Fh}{const S=g.get(T);if(S)return S}let U;if(i.client)U=i.client({chain:P});else{const S=P.id,B=l.getState().map(K=>K.id),L={},z=Object.entries(i);for(const[K,G]of z)if(!(K==="chains"||K==="client"||K==="connectors"||K==="transports"))if(typeof G=="object")if(S in G)L[K]=G[S];else{if(B.some(R=>R in G))continue;L[K]=G}else L[K]=G;U=eP({...L,chain:P,batch:L.batch??{multicall:!0},transport:K=>i.transports[S]({...K,connectors:d})})}return g.set(T,U),U}function b(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let w;const E="0.0.0-canary-";Um.startsWith(E)?w=Number.parseInt(Um.replace(E,"")):w=Number.parseInt(Um.split(".")[0]??"0");const _=hv(q9(n?G9(b,{migrate(x,T){if(T===w)return x;const P=b(),U=C(x,P.chainId);return{...P,chainId:U}},name:"store",partialize(x){return{connections:{__type:"Map",value:Array.from(x.connections.entries()).map(([T,P])=>{const{id:U,name:S,type:B,uid:L}=P.connector;return[T,{...P,connector:{id:U,name:S,type:B,uid:L}}]})},chainId:x.chainId,current:x.current}},merge(x,T){typeof x=="object"&&x&&"status"in x&&delete x.status;const P=C(x,T.chainId);return{...T,...x,chainId:P}},skipHydration:s,storage:n,version:w}):b));_.setState(b());function C(x,T){return x&&typeof x=="object"&&"chainId"in x&&typeof x.chainId=="number"&&l.getState().some(P=>P.id===x.chainId)?x.chainId:T}r&&_.subscribe(({connections:x,current:T})=>{var P;return T?(P=x.get(T))==null?void 0:P.chainId:void 0},x=>{if(l.getState().some(P=>P.id===x))return _.setState(P=>({...P,chainId:x??P.chainId}))}),o==null||o.subscribe(x=>{const T=new Set,P=new Set;for(const S of d.getState())if(T.add(S.id),S.rdns){const B=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const L of B)P.add(L)}const U=[];for(const S of x){if(P.has(S.info.rdns))continue;const B=f(p(S));T.has(B.id)||U.push(B)}n&&!_.persist.hasHydrated()||d.setState(S=>[...S,...U],!0)});function I(x){_.setState(T=>{const P=T.connections.get(x.uid);return P?{...T,connections:new Map(T.connections).set(x.uid,{accounts:x.accounts??P.accounts,chainId:x.chainId??P.chainId,connector:P.connector})}:T})}function A(x){_.getState().status==="connecting"||_.getState().status==="reconnecting"||_.setState(T=>{const P=d.getState().find(U=>U.uid===x.uid);return P?(P.emitter.listenerCount("connect")&&P.emitter.off("connect",I),P.emitter.listenerCount("change")||P.emitter.on("change",I),P.emitter.listenerCount("disconnect")||P.emitter.on("disconnect",O),{...T,connections:new Map(T.connections).set(x.uid,{accounts:x.accounts,chainId:x.chainId,connector:P}),current:x.uid,status:"connected"}):T})}function O(x){_.setState(T=>{const P=T.connections.get(x.uid);if(P){const S=P.connector;S.emitter.listenerCount("change")&&P.connector.emitter.off("change",I),S.emitter.listenerCount("disconnect")&&P.connector.emitter.off("disconnect",O),S.emitter.listenerCount("connect")||P.connector.emitter.on("connect",A)}if(T.connections.delete(x.uid),T.connections.size===0)return{...T,connections:new Map,current:null,status:"disconnected"};const U=T.connections.values().next().value;return{...T,connections:new Map(T.connections),current:U.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return d.getState()},storage:n,getClient:m,get state(){return _.getState()},setState(x){let T;typeof x=="function"?T=x(_.getState()):T=x;const P=b();typeof T!="object"&&(T=P),Object.keys(P).some(S=>!(S in T))&&(T=P),_.setState(T,!0)},subscribe(x,T,P){return _.subscribe(x,T,P?{...P,fireImmediately:P.emitImmediately}:void 0)},_internal:{mipd:o,store:_,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(x){const T=typeof x=="function"?x(l.getState()):x;if(T.length!==0)return l.setState(T,!0)},subscribe(x){return l.subscribe(x)}},connectors:{providerDetailToConnector:p,setup:f,setState(x){return d.setState(typeof x=="function"?x(d.getState()):x,!0)},subscribe(x){return d.subscribe(x)}},events:{change:I,connect:A,disconnect:O}}}}function ij(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var d;const i=new Set;for(const f of s??[])if(f.rdns){const p=Array.isArray(f.rdns)?f.rdns:[f.rdns];for(const g of p)i.add(g)}const o=[],l=((d=t._internal.mipd)==null?void 0:d.getProviders())??[];for(const f of l){if(i.has(f.info.rdns))continue;const p=t._internal.connectors.providerDetailToConnector(f),g=t._internal.connectors.setup(p);o.push(g)}return[...s,...o]})),r?QE(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function aj(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=ij(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=Ue.useRef(!0);return Ue.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const oj=Ue.createContext(void 0);function cj(t){const{children:e,config:n}=t,r={value:n};return Ue.createElement(aj,t,Ue.createElement(oj.Provider,r,e))}const lj=function(){return null};function uj(){return he.jsx("header",{className:"p-2 flex gap-2 bg-white text-black justify-between",children:he.jsxs("nav",{className:"flex flex-row",children:[he.jsx("div",{className:"px-2 font-bold",children:he.jsx(Tu,{to:"/",children:"Home"})}),he.jsx("div",{className:"px-2 font-bold",children:he.jsx(Tu,{to:"/demo/tanstack-query",children:"TanStack Query"})}),he.jsx("div",{className:"px-2 font-bold",children:he.jsx(Tu,{to:"/demo/start/server-funcs",children:"Start - Server Functions"})}),he.jsx("div",{className:"px-2 font-bold",children:he.jsx(Tu,{to:"/demo/start/api-request",children:"Start - API Request"})})]})})}var dj=function(){return null};function fj(){return he.jsx(dj,{buttonPosition:"bottom-right"})}const hj="/assets/styles-BbSBdqp9.css",vp=i4()({head:()=>({meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{title:"TanStack Start Starter"}],links:[{rel:"stylesheet",href:hj}]}),component:()=>he.jsxs(pj,{children:[he.jsx(uj,{}),he.jsx(c_,{}),he.jsx(lj,{}),he.jsx(fj,{})]})});function pj({children:t}){return he.jsxs("html",{lang:"en",children:[he.jsx("head",{children:he.jsx(A4,{})}),he.jsxs("body",{children:[t,he.jsx(x4,{})]})]})}const gj=()=>Wt(()=>import("./index-CWzi_bRP.js"),[]),rP=Ku("/")({component:Fy(gj,"component",()=>rP.ssr)}),mj=()=>Wt(()=>import("./demo.tanstack-query-CXWkRMI1.js"),[]),sP=Ku("/demo/tanstack-query")({component:Fy(mj,"component",()=>sP.ssr)});async function yj(t,e,n){const r=e[0];if(va(r)&&r.method){const s=r,i=s.data instanceof FormData?"formData":"payload",o=new Headers({...i==="payload"?{"content-type":"application/json",accept:"application/json","x-tsr-redirect":"manual"}:{},...s.headers instanceof Headers?Object.fromEntries(s.headers.entries()):s.headers});if(s.method==="GET"){const l=fO({payload:dr.stringify({data:s.data,context:s.context})});l&&(t.includes("?")?t+=`&${l}`:t+=`?${l}`)}return t.includes("?")?t+="&createServerFn":t+="?createServerFn",s.response==="raw"&&(t+="&raw"),await Ex(()=>n(t,{method:s.method,headers:o,signal:s.signal,...wj(s)}))}return await Ex(()=>n(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),redirect:"manual"}))}function wj(t){return t.method==="POST"?t.data instanceof FormData?(t.data.set("__TSR_CONTEXT",dr.stringify(t.context)),{body:t.data}):{body:dr.stringify({data:t.data??null,context:t.context})}:{}}async function Ex(t){var e;const n=await(async()=>{try{return await t()}catch(r){if(r instanceof Response)return r;throw r}})();if(!n.ok){const r=n.headers.get("content-type");throw r&&r.includes("application/json")?dr.decode(await n.json()):new Error(await n.text())}if((e=n.headers.get("content-type"))!=null&&e.includes("application/json")){let r=dr.decode(await n.json());const s=g$(r);if(s&&(r=s),Rr(r)||Dr(r)||r instanceof Error)throw r;return r}return n}function _x(t){return t.replace(/^\/|\/$/g,"")}const bj=(t,e)=>{const n=_x("/"),r=_x(e),s=`${n?`/${n}`:""}/${r}/${t}`;return Object.assign((...o)=>yj(s,o,fetch),{url:s,functionId:t})},vj=()=>Wt(()=>import("./demo.start.server-funcs-BxeV7uH0.js"),[]),Ej=bj("src_routes_demo_start_server-funcs_tsx--getCount_createServerFn_handler","/_serverFn"),_j=Pm({method:"GET"}).handler(Ej),iP=Ku("/demo/start/server-funcs")({component:Fy(vj,"component",()=>iP.ssr),loader:async()=>await _j()}),Cj=()=>Wt(()=>import("./demo.start.api-request-BOrrwRVc.js"),[]),aP=Ku("/demo/start/api-request")({component:Fy(Cj,"component",()=>aP.ssr)}),Sj=rP.update({id:"/",path:"/",getParentRoute:()=>vp}),Aj=sP.update({id:"/demo/tanstack-query",path:"/demo/tanstack-query",getParentRoute:()=>vp}),Tj=iP.update({id:"/demo/start/server-funcs",path:"/demo/start/server-funcs",getParentRoute:()=>vp}),xj=aP.update({id:"/demo/start/api-request",path:"/demo/start/api-request",getParentRoute:()=>vp}),Nj={IndexRoute:Sj,DemoTanstackQueryRoute:Aj,DemoStartApiRequestRoute:xj,DemoStartServerFuncsRoute:Tj},Ij=vp._addFileChildren(Nj)._addFileTypes(),Rj=Symbol(),Cx=Object.getPrototypeOf,e1=new WeakMap,Oj=t=>t&&(e1.has(t)?e1.get(t):Cx(t)===Object.prototype||Cx(t)===Array.prototype),Pj=t=>Oj(t)&&t[Rj]||null,Sx=(t,e=!0)=>{e1.set(t,e)},fy={},gv=t=>typeof t=="object"&&t!==null,wo=new WeakMap,Hf=new WeakSet,Dj=(t=Object.is,e=(f,p)=>new Proxy(f,p),n=f=>gv(f)&&!Hf.has(f)&&(Array.isArray(f)||!(Symbol.iterator in f))&&!(f instanceof WeakMap)&&!(f instanceof WeakSet)&&!(f instanceof Error)&&!(f instanceof Number)&&!(f instanceof Date)&&!(f instanceof String)&&!(f instanceof RegExp)&&!(f instanceof ArrayBuffer),r=f=>{switch(f.status){case"fulfilled":return f.value;case"rejected":throw f.reason;default:throw f}},s=new WeakMap,i=(f,p,g=r)=>{const m=s.get(f);if((m==null?void 0:m[0])===p)return m[1];const b=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f));return Sx(b,!0),s.set(f,[p,b]),Reflect.ownKeys(f).forEach(w=>{if(Object.getOwnPropertyDescriptor(b,w))return;const E=Reflect.get(f,w),{enumerable:_}=Reflect.getOwnPropertyDescriptor(f,w),C={value:E,enumerable:_,configurable:!0};if(Hf.has(E))Sx(E,!1);else if(E instanceof Promise)delete C.value,C.get=()=>g(E);else if(wo.has(E)){const[I,A]=wo.get(E);C.value=i(I,A(),g)}Object.defineProperty(b,w,C)}),Object.preventExtensions(b)},o=new WeakMap,l=[1,1],d=f=>{if(!gv(f))throw new Error("object required");const p=o.get(f);if(p)return p;let g=l[0];const m=new Set,b=(S,B=++l[0])=>{g!==B&&(g=B,m.forEach(L=>L(S,B)))};let w=l[1];const E=(S=++l[1])=>(w!==S&&!m.size&&(w=S,C.forEach(([B])=>{const L=B[1](S);L>g&&(g=L)})),g),_=S=>(B,L)=>{const z=[...B];z[1]=[S,...z[1]],b(z,L)},C=new Map,I=(S,B)=>{if((fy?"production":void 0)!=="production"&&C.has(S))throw new Error("prop listener already exists");if(m.size){const L=B[3](_(S));C.set(S,[B,L])}else C.set(S,[B])},A=S=>{var B;const L=C.get(S);L&&(C.delete(S),(B=L[1])==null||B.call(L))},O=S=>(m.add(S),m.size===1&&C.forEach(([L,z],K)=>{if((fy?"production":void 0)!=="production"&&z)throw new Error("remove already exists");const G=L[3](_(K));C.set(K,[L,G])}),()=>{m.delete(S),m.size===0&&C.forEach(([L,z],K)=>{z&&(z(),C.set(K,[L]))})}),x=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f)),P=e(x,{deleteProperty(S,B){const L=Reflect.get(S,B);A(B);const z=Reflect.deleteProperty(S,B);return z&&b(["delete",[B],L]),z},set(S,B,L,z){const K=Reflect.has(S,B),G=Reflect.get(S,B,z);if(K&&(t(G,L)||o.has(L)&&t(G,o.get(L))))return!0;A(B),gv(L)&&(L=Pj(L)||L);let k=L;if(L instanceof Promise)L.then(R=>{L.status="fulfilled",L.value=R,b(["resolve",[B],R])}).catch(R=>{L.status="rejected",L.reason=R,b(["reject",[B],R])});else{!wo.has(L)&&n(L)&&(k=d(L));const R=!Hf.has(k)&&wo.get(k);R&&I(B,R)}return Reflect.set(S,B,k,z),b(["set",[B],L,G]),!0}});o.set(f,P);const U=[x,E,i,O];return wo.set(P,U),Reflect.ownKeys(f).forEach(S=>{const B=Object.getOwnPropertyDescriptor(f,S);"value"in B&&(P[S]=f[S],delete B.value,delete B.writable),Object.defineProperty(x,S,B)}),P})=>[d,wo,Hf,t,e,n,r,s,i,o,l],[Uj]=Dj();function zt(t={}){return Uj(t)}function Hn(t,e,n){const r=wo.get(t);(fy?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let l=!1;const f=o(p=>{i.push(p),s||(s=Promise.resolve().then(()=>{s=void 0,l&&e(i.splice(0))}))});return l=!0,()=>{l=!1,f()}}function zh(t,e){const n=wo.get(t);(fy?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function Xc(t){return Hf.add(t),t}function Vn(t,e,n,r){let s=t[e];return Hn(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function $j(t){const e=zt({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var Ax={};const ue={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof Ax<"u"?Ax.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},qh={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=ue.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var kj=20,Mj=1,Jc=1e6,Tx=1e6,Bj=-7,Lj=21,jj=!1,Ep="[big.js] ",cl=Ep+"Invalid ",r0=cl+"decimal places",Fj=cl+"rounding mode",oP=Ep+"Division by zero",Rt={},Oi=void 0,zj=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function cP(){function t(e){var n=this;if(!(n instanceof t))return e===Oi?cP():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(cl+"value");e=e===0&&1/e<0?"-0":String(e)}qj(n,e)}n.constructor=t}return t.prototype=Rt,t.DP=kj,t.RM=Mj,t.NE=Bj,t.PE=Lj,t.strict=jj,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function qj(t,e){var n,r,s;if(!zj.test(e))throw Error(cl+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function ll(t,e,n,r){var s=t.c;if(n===Oi&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(Fj);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Oi))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==Oi||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function ul(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}Rt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Rt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,l=n.e,d=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,l!=d)return l>d^e?1:-1;for(o=(l=r.length)<(d=s.length)?l:d,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return l==d?0:l>d^e?1:-1};Rt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Jc)throw Error(r0);if(!s[0])throw Error(oP);if(!r[0])return t.s=i,t.c=[t.e=0],t;var l,d,f,p,g,m=s.slice(),b=l=s.length,w=r.length,E=r.slice(0,l),_=E.length,C=t,I=C.c=[],A=0,O=o+(C.e=e.e-t.e)+1;for(C.s=i,i=O<0?0:O,m.unshift(0);_++<l;)E.push(0);do{for(f=0;f<10;f++){if(l!=(_=E.length))p=l>_?1:-1;else for(g=-1,p=0;++g<l;)if(s[g]!=E[g]){p=s[g]>E[g]?1:-1;break}if(p<0){for(d=_==l?s:m;_;){if(E[--_]<d[_]){for(g=_;g&&!E[--g];)E[g]=9;--E[g],E[_]+=10}E[_]-=d[_]}for(;!E[0];)E.shift()}else break}I[A++]=p?f:++f,E[0]&&p?E[_]=r[b]||0:E=[r[b]]}while((b++<w||E[0]!==Oi)&&i--);return!I[0]&&A!=1&&(I.shift(),C.e--,O--),A>O&&ll(C,O,n.RM,E[0]!==Oi),C};Rt.eq=function(t){return this.cmp(t)===0};Rt.gt=function(t){return this.cmp(t)>0};Rt.gte=function(t){return this.cmp(t)>-1};Rt.lt=function(t){return this.cmp(t)<0};Rt.lte=function(t){return this.cmp(t)<1};Rt.minus=Rt.sub=function(t){var e,n,r,s,i=this,o=i.constructor,l=i.s,d=(t=new o(t)).s;if(l!=d)return t.s=-d,i.plus(t);var f=i.c.slice(),p=i.e,g=t.c,m=t.e;if(!f[0]||!g[0])return g[0]?t.s=-d:f[0]?t=new o(i):t.s=1,t;if(l=p-m){for((s=l<0)?(l=-l,r=f):(m=p,r=g),r.reverse(),d=l;d--;)r.push(0);r.reverse()}else for(n=((s=f.length<g.length)?f:g).length,l=d=0;d<n;d++)if(f[d]!=g[d]){s=f[d]<g[d];break}if(s&&(r=f,f=g,g=r,t.s=-t.s),(d=(n=g.length)-(e=f.length))>0)for(;d--;)f[e++]=0;for(d=e;n>l;){if(f[--n]<g[n]){for(e=n;e&&!f[--e];)f[e]=9;--f[e],f[n]+=10}f[n]-=g[n]}for(;f[--d]===0;)f.pop();for(;f[0]===0;)f.shift(),--m;return f[0]||(t.s=1,f=[m=0]),t.c=f,t.e=m,t};Rt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(oP);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};Rt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Rt.plus=Rt.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,l=s.c,d=t.e,f=t.c;if(!l[0]||!f[0])return f[0]||(l[0]?t=new i(s):t.s=s.s),t;if(l=l.slice(),e=o-d){for(e>0?(d=o,r=f):(e=-e,r=l),r.reverse();e--;)r.push(0);r.reverse()}for(l.length-f.length<0&&(r=f,f=l,l=r),e=f.length,n=0;e;l[e]%=10)n=(l[--e]=l[e]+f[e]+n)/10|0;for(n&&(l.unshift(n),++d),e=l.length;l[--e]===0;)l.pop();return t.c=l,t.e=d,t};Rt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-Tx||t>Tx)throw Error(cl+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};Rt.prec=function(t,e){if(t!==~~t||t<1||t>Jc)throw Error(cl+"precision");return ll(new this.constructor(this),t,e)};Rt.round=function(t,e){if(t===Oi)t=0;else if(t!==~~t||t<-Jc||t>Jc)throw Error(r0);return ll(new this.constructor(this),t+this.e+1,e)};Rt.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,l=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Ep+"No square root");i=Math.sqrt(+ul(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=l.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return ll(t,(s.DP-=4)+t.e+1,s.RM)};Rt.times=Rt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,l=i.length,d=n.e,f=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=d+f,o<l&&(e=s,s=i,i=e,f=o,o=l,l=f),e=new Array(f=o+l);f--;)e[f]=0;for(d=l;d--;){for(l=0,f=o+d;f>d;)l=e[f]+i[d]*s[f-d-1]+l,e[f--]=l%10,l=l/10|0;e[f]=l}for(l?++t.e:e.shift(),d=e.length;!e[--d];)e.pop();return t.c=e,t};Rt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Oi){if(t!==~~t||t<0||t>Jc)throw Error(r0);for(n=ll(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return ul(n,!0,!!r)};Rt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Oi){if(t!==~~t||t<0||t>Jc)throw Error(r0);for(n=ll(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return ul(n,!1,!!r)};Rt[Symbol.for("nodejs.util.inspect.custom")]=Rt.toJSON=Rt.toString=function(){var t=this,e=t.constructor;return ul(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Rt.toNumber=function(){var t=+ul(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Ep+"Imprecise conversion");return t};Rt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==Oi){if(t!==~~t||t<1||t>Jc)throw Error(cl+"precision");for(n=ll(new r(n),t,e);n.c.length<t;)n.c.push(0)}return ul(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Rt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Ep+"valueOf disallowed");return ul(t,t.e<=e.NE||t.e>=e.PE,!0)};var Cf=cP();const Hj={bigNumber(t){return t?new Cf(t):new Cf(0)},multiply(t,e){if(t===void 0||e===void 0)return new Cf(0);const n=new Cf(t),r=new Cf(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},Vj=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Gj=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Wj=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Kj={getERC20Abi:t=>ue.USDT_CONTRACT_ADDRESSES.includes(t)?Wj:Vj,getSwapAbi:()=>Gj},Xr={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},We={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function mv(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const He={setItem(t,e){Vf()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Vf())return localStorage.getItem(t)||void 0},removeItem(t){Vf()&&localStorage.removeItem(t)},clear(){Vf()&&localStorage.clear()}};function Vf(){return typeof window<"u"&&typeof localStorage<"u"}function Ea(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var xx={};const yv=(typeof process<"u"&&typeof xx<"u"?xx.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",lP=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],Yj="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Nt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:yv,SECURE_SITE_DASHBOARD:`${yv}/dashboard`,SECURE_SITE_FAVICON:`${yv}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},ve={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ve.getActiveNamespace(),e=ve.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{He.setItem(We.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=He.getItem(We.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{He.removeItem(We.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{He.setItem(We.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{He.setItem(We.ACTIVE_CAIP_NETWORK_ID,t),ve.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return He.getItem(We.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{He.removeItem(We.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=mv(t);He.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ve.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),He.setItem(We.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=He.getItem(We.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=mv(t);He.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return He.getItem(We.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=mv(t);return He.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{He.setItem(We.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return He.getItem(We.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{He.removeItem(We.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return He.getItem(We.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=He.getItem(We.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{He.setItem(We.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return He.getItem(We.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=He.getItem(We.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));He.setItem(We.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ve.getConnectedNamespaces();e.includes(t)||(e.push(t),ve.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ve.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ve.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return He.getItem(We.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{He.setItem(We.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{He.removeItem(We.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=He.getItem(We.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ve.getBalanceCache();He.setItem(We.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ve.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ve.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ve.getBalanceCache();e[t.caipAddress]=t,He.setItem(We.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=He.getItem(We.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ve.getBalanceCache();He.setItem(We.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ve.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ve.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ve.getNativeBalanceCache();e[t.caipAddress]=t,He.setItem(We.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=He.getItem(We.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ve.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ve.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ve.getEnsCache();e[t.address]=t,He.setItem(We.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ve.getEnsCache();He.setItem(We.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=He.getItem(We.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ve.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ve.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ve.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},He.setItem(We.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ve.getIdentityCache();He.setItem(We.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{He.removeItem(We.PORTFOLIO_CACHE),He.removeItem(We.NATIVE_BALANCE_CACHE),He.removeItem(We.ENS_CACHE),He.removeItem(We.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{He.setItem(We.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=He.getItem(We.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=ve.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const l=s.get(o.connectorId),d=o.connectorId===ue.CONNECTOR_ID.AUTH;if(l&&!d){const f=new Set(l.accounts.map(g=>g.address.toLowerCase())),p=o.accounts.filter(g=>!f.has(g.address.toLowerCase()));l.accounts.push(...p)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};He.setItem(We.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=He.getItem(We.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=ve.getConnections(),s=r[n]??[],i=new Map(s.map(l=>[l.connectorId,l])),o=i.get(t);o&&(o.accounts.filter(d=>d.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(d=>d.address.toLowerCase()!==e.toLowerCase())})),He.setItem(We.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=He.getItem(We.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=ve.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),He.setItem(We.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=ve.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),He.setItem(We.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(ve.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},De={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return De.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Nt.TEN_SEC_MS:!0},isAllowedRetry(t,e=Nt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(De.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Nt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(De.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!De.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ve.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,De.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return ue.W3M_API_URL},getBlockchainApiUrl(){return ue.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ue.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?Nt.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in ue.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,l=t.substring(0,r+i),d=t.substring(r+i,o),f=t.substring(s),p=d+n;return l+p+f}};async function Sf(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class _p{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await Sf(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Sf(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Sf(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Sf(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Sf(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const Zj={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?Nt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(De.isTelegram()){if(De.isIos())return t.filter(e=>e!=="google");if(De.isMac())return t.filter(e=>e!=="x");if(De.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Be=zt({features:Nt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Nt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),fe={state:Be,subscribeKey(t,e){return Vn(Be,t,e)},setOptions(t){Object.assign(Be,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...Be.remoteFeatures,...t};Be.remoteFeatures=e,(n=Be.remoteFeatures)!=null&&n.socials&&(Be.remoteFeatures.socials=Zj.filterSocialsByPlatform(Be.remoteFeatures.socials))},setFeatures(t){if(!t)return;Be.features||(Be.features=Nt.DEFAULT_FEATURES);const e={...Be.features,...t};Be.features=e},setProjectId(t){Be.projectId=t},setCustomRpcUrls(t){Be.customRpcUrls=t},setAllWallets(t){Be.allWallets=t},setIncludeWalletIds(t){Be.includeWalletIds=t},setExcludeWalletIds(t){Be.excludeWalletIds=t},setFeaturedWalletIds(t){Be.featuredWalletIds=t},setTokens(t){Be.tokens=t},setTermsConditionsUrl(t){Be.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Be.privacyPolicyUrl=t},setCustomWallets(t){Be.customWallets=t},setIsSiweEnabled(t){Be.isSiweEnabled=t},setIsUniversalProvider(t){Be.isUniversalProvider=t},setSdkVersion(t){Be.sdkVersion=t},setMetadata(t){Be.metadata=t},setDisableAppend(t){Be.disableAppend=t},setEIP6963Enabled(t){Be.enableEIP6963=t},setDebug(t){Be.debug=t},setEnableWalletConnect(t){Be.enableWalletConnect=t},setEnableWalletGuide(t){Be.enableWalletGuide=t},setEnableAuthLogger(t){Be.enableAuthLogger=t},setEnableWallets(t){Be.enableWallets=t},setPreferUniversalLinks(t){Be.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){Be.hasMultipleAddresses=t},setSIWX(t){Be.siwx=t},setConnectMethodsOrder(t){Be.features={...Be.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Be.features={...Be.features,walletFeaturesOrder:t}},setSocialsOrder(t){Be.remoteFeatures={...Be.remoteFeatures,socials:t}},setCollapseWallets(t){Be.features={...Be.features,collapseWallets:t}},setEnableEmbedded(t){Be.enableEmbedded=t},setAllowUnsupportedChain(t){Be.allowUnsupportedChain=t},setManualWCControl(t){Be.manualWCControl=t},setEnableNetworkSwitch(t){Be.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Be.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Be.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Be.universalProviderConfigOverride},getSnapshot(){return zh(Be)}},Qj=Object.freeze({enabled:!0,events:[]}),Xj=new _p({baseUrl:De.getAnalyticsUrl(),clientId:null}),Jj=5,e7=60*1e3,io=zt({...Qj}),t7={state:io,subscribeKey(t,e){return Vn(io,t,e)},async sendError(t,e){if(!io.enabled)return;const n=Date.now();if(io.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<e7}).length>=Jj)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};io.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:l}=fe.state;await Xj.post({path:"/e",params:{projectId:i,st:o,sv:l||"html-wagmi-4.2.2"},body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){io.enabled=!0},disable(){io.enabled=!1},clearEvents(){io.events=[]}};class ed extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,ed.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const l=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${l}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,ed):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function Nx(t,e){const n=t instanceof ed?t:new ed(t instanceof Error?t.message:String(t),e,t);throw t7.sendError(n,n.category),n}function is(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(l){return Nx(l,e)}}:i=(...o)=>{try{return s(...o)}catch(l){return Nx(l,e)}},n[r]=i}else n[r]=s}),n}const xi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},n7={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===xi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${xi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===xi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${xi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===ue.CHAIN.SOLANA&&t===xi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${xi.COINBASE.url}/dapp?cb_url=${r}`)}},Kr=zt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),r7={state:Kr,subscribeNetworkImages(t){return Hn(Kr.networkImages,()=>t(Kr.networkImages))},subscribeKey(t,e){return Vn(Kr,t,e)},subscribe(t){return Hn(Kr,()=>t(Kr))},setWalletImage(t,e){Kr.walletImages[t]=e},setNetworkImage(t,e){Kr.networkImages[t]=e},setChainImage(t,e){Kr.chainImages[t]=e},setConnectorImage(t,e){Kr.connectorImages={...Kr.connectorImages,[t]:e}},setTokenImage(t,e){Kr.tokenImages[t]=e},setCurrencyImage(t,e){Kr.currencyImages[t]=e}},Zs=is(r7),s7={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},wv=zt({networkImagePromises:{}}),uP={async fetchWalletImage(t){if(t)return await ke._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(wv.networkImagePromises[t]||(wv.networkImagePromises[t]=ke._fetchNetworkImage(t)),await wv.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Zs.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Zs.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Zs.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Zs.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return Zs.state.connectorImages[t.imageId]},getChainImage(t){return Zs.state.networkImages[s7[t]]}},ao=zt({message:"",variant:"info",open:!1}),i7={state:ao,subscribeKey(t,e){return Vn(ao,t,e)},open(t,e){const{debug:n}=fe.state,{shortMessage:r,longMessage:s}=t;n&&(ao.message=r,ao.variant=e,ao.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){ao.open=!1,ao.message="",ao.variant="info"}},hn=is(i7),a7=De.getAnalyticsUrl(),o7=new _p({baseUrl:a7,clientId:null}),c7=["MODAL_CREATED"],ia=zt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),It={state:ia,subscribe(t){return Hn(ia,()=>t(ia))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=fe.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=be.state.address;if(c7.includes(t.data.event)||typeof window>"u")return;await o7.post({path:"/e",params:It.getSdkProperties(),body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),ia.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ue.HTTP_STATUS_CODES.FORBIDDEN&&!ia.reportedErrors.FORBIDDEN&&(hn.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Vf()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ia.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;ia.timestamp=Date.now(),ia.data=t,(e=fe.state.features)!=null&&e.analytics&&It._sendAnalyticsEvent(ia)}},l7=De.getApiUrl(),Er=new _p({baseUrl:l7,clientId:null}),u7=40,Ix=4,d7=20,Ze=zt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),ke={state:Ze,subscribeKey(t,e){return Vn(Ze,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=fe.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return fe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Er.baseUrl}/getWalletImage/${t}`,n=await Er.getBlob({path:e,params:ke._getSdkProperties()});Zs.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Er.baseUrl}/public/getAssetImage/${t}`,n=await Er.getBlob({path:e,params:ke._getSdkProperties()});Zs.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Er.baseUrl}/public/getAssetImage/${t}`,n=await Er.getBlob({path:e,params:ke._getSdkProperties()});Zs.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Er.baseUrl}/public/getCurrencyImage/${t}`,n=await Er.getBlob({path:e,params:ke._getSdkProperties()});Zs.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Er.baseUrl}/public/getTokenImage/${t}`,n=await Er.getBlob({path:e,params:ke._getSdkProperties()});Zs.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return De.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===xi.COINBASE.id?!0:j.state.activeChain==="solana"&&(n.id===xi.SOLFLARE.id||n.id===xi.PHANTOM.id)):t},async fetchProjectConfig(){return(await Er.get({path:"/appkit/v1/config",params:ke._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Er.get({path:"/projects/v1/origins",params:ke._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===ue.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=ue.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=j.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!uP.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>ke._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Ee.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>ke._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>ke._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>ke._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];ke._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(xi).map(o=>o.id));const r=await Er.get({path:"/getWallets",params:{...ke._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:ke._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=fe.state;if(t!=null&&t.length){const e={...ke._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??Ix,include:t},{data:n}=await ke.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>ke._fetchWalletImage(i))),Ze.featured=r,Ze.allFeatured=r}},async fetchRecommendedWallets(){try{Ze.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=fe.state,r=[...e??[],...n??[]].filter(Boolean),s=j.getRequestedCaipNetworkIds().join(","),i={page:1,entries:Ix,include:t,exclude:r,chains:s},{data:o,count:l}=await ke.fetchWallets(i),d=ve.getRecentWallets(),f=o.map(g=>g.image_id).filter(Boolean),p=d.map(g=>g.image_id).filter(Boolean);await Promise.allSettled([...f,...p].map(g=>ke._fetchWalletImage(g))),Ze.recommended=o,Ze.allRecommended=o,Ze.count=l??0}catch{}finally{Ze.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=fe.state,s=j.getRequestedCaipNetworkIds().join(","),i=[...Ze.recommended.map(({id:p})=>p),...n??[],...r??[]].filter(Boolean),o={page:t,entries:u7,include:e,exclude:i,chains:s},{data:l,count:d}=await ke.fetchWallets(o),f=l.slice(0,d7).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(f.map(p=>ke._fetchWalletImage(p))),Ze.wallets=De.uniqueBy([...Ze.wallets,...ke._filterOutExtensions(l)],"id").filter(p=>{var g;return(g=p.chains)==null?void 0:g.some(m=>s.includes(m))}),Ze.count=d>Ze.count?d:Ze.count,Ze.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await ke.fetchWallets(e);n&&n.forEach(r=>{Ze.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=fe.state,s=j.getRequestedCaipNetworkIds().join(",");Ze.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await ke.fetchWallets(i);It.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const l=o.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l.map(d=>ke._fetchWalletImage(d)),De.wait(300)]),Ze.search=ke._filterOutExtensions(o)},initPromise(t,e){const n=Ze.promises[t];return n||(Ze.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&ke.initPromise("connectorImages",ke.fetchConnectorImages),e&&ke.initPromise("featuredWallets",ke.fetchFeaturedWallets),n&&ke.initPromise("recommendedWallets",ke.fetchRecommendedWallets),r&&ke.initPromise("networkImages",ke.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=fe.state.features)!=null&&t.analytics&&ke.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Er.get({path:"/getAnalyticsConfig",params:ke._getSdkProperties()});fe.setFeatures({analytics:t})}catch{fe.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Ze.featured=Ze.allFeatured,Ze.recommended=Ze.allRecommended;return}const e=j.getRequestedCaipNetworkIds().join(",");Ze.featured=Ze.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ze.recommended=Ze.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ze.filteredWallets=Ze.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Ze.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ze.featured=Ze.allFeatured,Ze.recommended=Ze.allRecommended;return}const e=j.getRequestedCaipNetworkIds().join(",");Ze.featured=Ze.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ze.recommended=Ze.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ze.filteredWallets=Ze.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},Ut=zt({view:"Connect",history:["Connect"],transactionStack:[]}),f7={state:Ut,subscribeKey(t,e){return Vn(Ut,t,e)},pushTransactionStack(t){Ut.transactionStack.push(t)},popTransactionStack(t){const e=Ut.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),ze.goBack();break;case"cancel":s==null||s(),ze.goBack();break}},push(t,e){t!==Ut.view&&(Ut.view=t,Ut.history.push(t),Ut.data=e)},reset(t,e){Ut.view=t,Ut.history=[t],Ut.data=e},replace(t,e){Ut.history.at(-1)===t||(Ut.view=t,Ut.history[Ut.history.length-1]=t,Ut.data=e)},goBack(){var r;const t=j.state.activeCaipAddress,e=ze.state.view==="ConnectingFarcaster",n=!t&&e;if(Ut.history.length>1){Ut.history.pop();const[s]=Ut.history.slice(-1);s&&(t&&s==="Connect"?Ut.view="Account":Ut.view=s)}else St.close();(r=Ut.data)!=null&&r.wallet&&(Ut.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){be.setFarcasterUrl(void 0,j.state.activeChain);const l=Ee.getAuthConnector();(s=l==null?void 0:l.provider)==null||s.reload();const d=zh(fe.state);(o=(i=l==null?void 0:l.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:d.metadata,sdkVersion:d.sdkVersion,projectId:d.projectId,sdkType:d.sdkType})}},100)},goBackToIndex(t){if(Ut.history.length>1){Ut.history=Ut.history.slice(0,t+1);const[e]=Ut.history.slice(-1);e&&(Ut.view=e)}},goBackOrCloseModal(){ze.state.history.length>1?ze.goBack():St.close()}},ze=is(f7),aa=zt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),t1={state:aa,subscribe(t){return Hn(aa,()=>t(aa))},setThemeMode(t){aa.themeMode=t;try{const e=Ee.getAuthConnector();if(e){const n=t1.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Ea(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){aa.themeVariables={...aa.themeVariables,...t};try{const e=Ee.getAuthConnector();if(e){const n=t1.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Ea(aa.themeVariables,aa.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return zh(aa)}},Or=is(t1),dP={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},gt=zt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...dP},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),h7={state:gt,subscribe(t){return Hn(gt,()=>{t(gt)})},subscribeKey(t,e){return Vn(gt,t,e)},initialize(t){t.forEach(e=>{const n=ve.getConnectedConnectorId(e);n&&Ee.setConnectorId(n,e)})},setActiveConnector(t){t&&(gt.activeConnector=Xc(t))},setConnectors(t){t.filter(s=>!gt.allConnectors.some(i=>i.id===s.id&&Ee.getConnectorName(i.name)===Ee.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&gt.allConnectors.push(Xc(s))});const n=Ee.getEnabledNamespaces(),r=Ee.getEnabledConnectors(n);gt.connectors=Ee.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(gt.filterByNamespaceMap).forEach(e=>{gt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{gt.filterByNamespaceMap[e]=!0}),Ee.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){gt.filterByNamespaceMap[t]=e,Ee.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ee.getEnabledNamespaces(),e=Ee.getEnabledConnectors(t),n=Ee.areAllNamespacesEnabled();gt.connectors=Ee.mergeMultiChainConnectors(e),n?ke.clearFilterByNamespaces():ke.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(gt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return gt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(gt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ee.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===ue.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=Ee.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(l=>l.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===ue.CONNECTOR_ID.AUTH){const s=t,i=zh(fe.state),o=Or.getSnapshot().themeMode,l=Or.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:l,w3mThemeVariables:Ea(l,o)}),Ee.setConnectors([t])}else Ee.setConnectors([t])},getAuthConnector(t){var r;const e=t||j.state.activeChain,n=gt.connectors.find(s=>s.id===ue.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return gt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return gt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return gt.allConnectors.filter(r=>r.chain===j.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=zh(fe.state),r=Or.getSnapshot().themeMode,s=Or.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Ea(s,r)})},getConnectorsByNamespace(t){const e=gt.allConnectors.filter(n=>n.chain===t);return Ee.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Ee.getConnector(t.id,t.rdns),n=j.state.activeChain;n7.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?ze.push("ConnectingExternal",{connector:e}):ze.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Ee.getConnectorsByNamespace(t):Ee.mergeMultiChainConnectors(gt.allConnectors)},setFilterByNamespace(t){gt.filterByNamespace=t,gt.connectors=Ee.getConnectors(t),ke.setFilterByNamespace(t)},setConnectorId(t,e){t&&(gt.activeConnectorIds={...gt.activeConnectorIds,[e]:t},ve.setConnectedConnectorId(e,t))},removeConnectorId(t){gt.activeConnectorIds={...gt.activeConnectorIds,[t]:void 0},ve.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return gt.activeConnectorIds[t]},isConnected(t){return t?!!gt.activeConnectorIds[t]:Object.values(gt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){gt.activeConnectorIds={...dP}}},Ee=is(h7),Hh={getConnectionStatus(t,e){const n=Ee.state.activeConnectorIds[e],r=Ie.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===ue.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(d=>d.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=Ie.state.connections.get(t)??[],n=e.filter(l=>!l.recent),r=Ee.state.activeConnectorIds[t],i=e.filter(l=>l.recent).filter(l=>Ee.getConnectorById(l.connectorId)),o=Hh.excludeExistingConnections([...n.map(l=>l.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var td={};const p7="https://secure.walletconnect.org/sdk",g7=(typeof process<"u"&&typeof td<"u"?td.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||p7,m7=(typeof process<"u"&&typeof td<"u"?td.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",y7=(typeof process<"u"&&typeof td<"u"?td.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Oe={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},$n={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},w7=1e3,ba={checkNamespaceConnectorId(t,e){return Ee.getConnectorId(t)===e},isSocialProvider(t){return Nt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,l)=>{if(t&&Ee.setActiveConnector(e),s==null||s(De.isMobile()&&t),r){const f=St.subscribeKey("open",p=>{p||(ze.state.view!==r&&ze.replace(r),f(),l(new Error("Modal closed")))})}const d=j.subscribeKey("activeCaipAddress",f=>{f&&(i==null||i(),n&&St.close(),d(),o(Xr.parseCaipAddress(f)))})})},connectExternal(t){return new Promise((e,n)=>{const r=j.subscribeKey("activeCaipAddress",s=>{s&&(St.close(),r(),e(Xr.parseCaipAddress(s)))});Ie.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=be.state.socialWindow,i=be.state.socialProvider,o=!1,l=null;const d=j.subscribeKey("activeCaipAddress",f=>{f&&(e&&St.close(),d())});return new Promise((f,p)=>{async function g(b){var w;if((w=b.data)!=null&&w.resultUri)if(b.origin===ue.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",g,!1);try{const E=Ee.getAuthConnector();if(E&&!o){s&&(s.close(),be.setSocialWindow(void 0,j.state.activeChain),s=be.state.socialWindow),o=!0;const _=b.data.resultUri;if(i&&It.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await E.provider.connectSocial(_),i){ve.setConnectedSocialProvider(i),await Ie.connectExternal({id:E.id,type:E.type,socialUri:_},E.chain);const C=j.state.activeCaipAddress;if(!C){p(new Error("Failed to connect"));return}f(Xr.parseCaipAddress(C)),It.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&It.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),p(new Error("Failed to connect"))}}else i&&It.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function m(){if(t&&(be.setSocialProvider(t,j.state.activeChain),i=be.state.socialProvider,It.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const b=St.subscribeKey("open",E=>{!E&&t==="farcaster"&&(p(new Error("Popup closed")),r==null||r(),b())}),w=Ee.getAuthConnector();if(w&&!be.state.farcasterUrl)try{const{url:E}=await w.provider.getFarcasterUri();be.setFarcasterUrl(E,j.state.activeChain)}catch{p(new Error("Failed to connect to farcaster"))}}else{const b=Ee.getAuthConnector();l=De.returnOpenHref(`${ue.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(b&&i){const{uri:w}=await b.provider.getSocialRedirectUri({provider:i});if(l&&w){be.setSocialWindow(l,j.state.activeChain),s=be.state.socialWindow,l.location.href=w;const E=setInterval(()=>{s!=null&&s.closed&&!o&&(p(new Error("Popup closed")),clearInterval(E))},1e3);window.addEventListener("message",g,!1)}else l==null||l.close(),p(new Error("Failed to initiate social connection"))}}catch{p(new Error("Failed to initiate social connection")),l==null||l.close()}}}m()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const l=St.subscribeKey("open",d=>{d||(ze.state.view!==e&&ze.replace(e),l(),i(new Error("Modal closed")))})}const o=j.subscribeKey("activeCaipAddress",l=>{l&&(r==null||r(),t&&St.close(),o(),s(Xr.parseCaipAddress(l)))})})},async updateEmail(){const t=ve.getConnectedConnectorId(j.state.activeChain),e=Ee.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==ue.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return ze.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const l=e.provider.getEmail()??"";l!==n&&(St.close(),clearInterval(i),o(),r({email:l}))},w7),o=St.subscribeKey("open",l=>{l||(ze.state.view!=="Connect"&&ze.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return j.checkIfSmartAccountEnabled()&&((n=be.state.preferredAccountTypes)==null?void 0:n[t])===$n.ACCOUNT_TYPES.EOA}},_c=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),wn=zt({..._c}),b7={state:wn,subscribeKey(t,e){return Vn(wn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=De.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){wn.message=_c.message,wn.variant=_c.variant,wn.svg=_c.svg,wn.open=_c.open,wn.autoClose=_c.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=_c.autoClose}){wn.open?(wn.open=!1,setTimeout(()=>{wn.message=t,wn.variant=n,wn.svg=e,wn.open=!0,wn.autoClose=r},150)):(wn.message=t,wn.variant=n,wn.svg=e,wn.open=!0,wn.autoClose=r)}},Xs=b7,jt=zt({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),v7={state:jt,subscribe(t){return Hn(jt,()=>t(jt))},setLastNetworkInView(t){jt.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");jt.loading=!0;try{const s=await Le.fetchTransactions({account:t,cursor:jt.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=j.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=Gf.filterSpamTransactions(s.data),o=Gf.filterByConnectedChain(i),l=[...jt.transactions,...o];jt.loading=!1,e==="coinbase"?jt.coinbaseTransactions=Gf.groupTransactionsByYearAndMonth(jt.coinbaseTransactions,s.data):(jt.transactions=l,jt.transactionsByYear=Gf.groupTransactionsByYearAndMonth(jt.transactionsByYear,o)),jt.empty=l.length===0,jt.next=s.next?s.next:void 0}catch{const i=j.state.activeChain;It.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:fe.state.projectId,cursor:jt.next,isSmartAccount:((r=be.state.preferredAccountTypes)==null?void 0:r[i])===$n.ACCOUNT_TYPES.SMART_ACCOUNT}}),Xs.showError("Failed to fetch transactions"),jt.loading=!1,jt.empty=!0,jt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},d=(o[i]??[]).filter(f=>f.id!==r.id);n[s]={...o,[i]:[...d,r].sort((f,p)=>new Date(p.metadata.minedAt).getTime()-new Date(f.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=j.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){jt.next=void 0},resetTransactions(){jt.transactions=[],jt.transactionsByYear={},jt.lastNetworkInView=void 0,jt.loading=!1,jt.empty=!1,jt.next=void 0}},Gf=is(v7,"API_ERROR"),dt=zt({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let mc;const E7={state:dt,subscribe(t){return Hn(dt,()=>t(dt))},subscribeKey(t,e){return Vn(dt,t,e)},_getClient(){return dt._client},setClient(t){dt._client=Xc(t)},initialize(t){const e=ve.getConnections();for(const n of t){const r=n.namespace;if(r){const s=dt.connections.get(r)??[],i=e[r]??[],o=[...s,...i];dt.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(De.isTelegram()||De.isSafari()&&De.isIos()){if(mc){await mc,mc=void 0;return}if(!De.isPairingExpired(dt==null?void 0:dt.wcPairingExpiry)){const s=dt.wcUri;dt.wcUri=s;return}mc=(e=(t=Ie._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),Ie.state.status="connecting",await mc,mc=void 0,dt.wcPairingExpiry=void 0,Ie.state.status="connected"}else await((r=(n=Ie._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=Ie._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&j.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=Ie._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||j.state.activeChain;e&&Ee.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;St.setLoading(!0,j.state.activeChain);const n=Ee.getAuthConnector();n&&(be.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ve.setPreferredAccountTypes(be.state.preferredAccountTypes??{[e]:t}),await Ie.reconnectExternal(n),St.setLoading(!1,j.state.activeChain),It.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=j.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=Ie._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=Ie._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=Ie._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=Ie._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=Ie._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=Ie._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=Ie._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=Ie._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=Ie._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=Ie._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=Ie._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=Ie._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){dt.wcUri=void 0,dt.wcPairingExpiry=void 0,dt.wcLinking=void 0,dt.recentWallet=void 0,dt.status="disconnected",Gf.resetTransactions(),ve.deleteWalletConnectDeepLink()},resetUri(){dt.wcUri=void 0,dt.wcPairingExpiry=void 0,mc=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Ie.state;t&&ve.setWalletConnectDeepLink(t),e&&ve.setAppKitRecent(e),It.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=ze.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){dt.wcBasic=t},setUri(t){dt.wcUri=t,dt.wcPairingExpiry=De.getPairingExpiry()},setWcLinking(t){dt.wcLinking=t},setWcError(t){dt.wcError=t,dt.buffering=!1},setRecentWallet(t){dt.recentWallet=t},setBuffering(t){dt.buffering=t},setStatus(t){dt.status=t},setIsSwitchingConnection(t){dt.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=Ie._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new ed("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){dt.connections=new Map(dt.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(l=>l.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&ba.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await Ie.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=Ee.getConnectorById(t.connectorId),s=t.connectorId===ue.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await Ie.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await Ie.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var f,p;const s=Ee.getConnectorById(t.connectorId),i=(p=(f=t.auth)==null?void 0:f.name)==null?void 0:p.toLowerCase(),o=t.connectorId===ue.CONNECTOR_ID.AUTH,l=t.connectorId===ue.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let d;if(o)if(i&&ba.isSocialProvider(i)){const{address:g}=await ba.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){St.open({view:"ConnectingFarcaster"})},onConnect(){ze.replace("ProfileWallets")}});d=g}else{const{address:g}=await ba.connectEmail({closeModalOnConnect:r,onOpen(){St.open({view:"EmailLogin"})},onConnect(){ze.replace("ProfileWallets")}});d=g}else if(l){const{address:g}=await ba.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(m){St.open({view:m?"AllWallets":"ConnectingWalletConnect"})},onConnect(){ze.replace("ProfileWallets")}});d=g}else{const g=await Ie.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);g&&(d=g.address)}return o&&n&&await Ie.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),d},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){Hh.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=be.getCaipAddress(n);if(o){const{address:d}=Xr.parseCaipAddress(o);i=d}const l=Hh.getConnectionStatus(t,n);switch(l){case"connected":case"active":{const d=await Ie.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&d){const f=d.toLowerCase()!==i.toLowerCase();s==null||s({address:d,namespace:n,hasSwitchedAccount:f,hasSwitchedWallet:l==="active"})}break}case"disconnected":{const d=await Ie.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});d&&(s==null||s({address:d,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${l}`)}}},Ie=is(E7),ru=zt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Pi={state:ru,subscribe(t){return Hn(ru,()=>t(ru))},subscribeOpen(t){return Vn(ru,"open",t)},set(t){Object.assign(ru,{...ru,...t})}};function _7(t){const e=Array.from(j.state.chains.keys());let n=[];return t?(n.push([t,j.state.chains.get(t)]),ba.checkNamespaceConnectorId(t,ue.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&ba.checkNamespaceConnectorId(r,ue.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,j.state.chains.get(r)])}):ba.checkNamespaceConnectorId(t,ue.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&ba.checkNamespaceConnectorId(r,ue.CONNECTOR_ID.AUTH)&&n.push([r,j.state.chains.get(r)])})):n=Array.from(j.state.chains.entries()),n}function fP(){var r,s;const t=((r=j.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=j.state.activeCaipNetwork)==null?void 0:s.id)||1,n=Nt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const C7={async getTokenList(){var r;const t=j.state.activeCaipNetwork,e=await Le.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=j.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(Ie==null?void 0:Ie.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Le.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Le.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=Ie.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await D_.getMyTokensWithBalance(t);return be.setTokenBalance(e,j.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:fP(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},xt=zt({tokenBalances:[],loading:!1}),S7={state:xt,subscribe(t){return Hn(xt,()=>t(xt))},subscribeKey(t,e){return Vn(xt,t,e)},setToken(t){t&&(xt.token=Xc(t))},setTokenAmount(t){xt.sendTokenAmount=t},setReceiverAddress(t){xt.receiverAddress=t},setReceiverProfileImageUrl(t){xt.receiverProfileImageUrl=t},setReceiverProfileName(t){xt.receiverProfileName=t},setNetworkBalanceInUsd(t){xt.networkBalanceInUSD=t},setLoading(t){xt.loading=t},async sendToken(){var t;try{switch(_t.setLoading(!0),(t=j.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await _t.sendEvmToken();return;case"solana":await _t.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{_t.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=j.state.activeChain,e=(n=be.state.preferredAccountTypes)==null?void 0:n[t];if(!_t.state.sendTokenAmount||!_t.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!_t.state.token)throw new Error("A token is required");(r=_t.state.token)!=null&&r.address?(It.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===$n.ACCOUNT_TYPES.SMART_ACCOUNT,token:_t.state.token.address,amount:_t.state.sendTokenAmount,network:((s=j.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await _t.sendERC20Token({receiverAddress:_t.state.receiverAddress,tokenAddress:_t.state.token.address,sendTokenAmount:_t.state.sendTokenAmount,decimals:_t.state.token.quantity.decimals})):(It.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===$n.ACCOUNT_TYPES.SMART_ACCOUNT,token:_t.state.token.symbol||"",amount:_t.state.sendTokenAmount,network:((i=j.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await _t.sendNativeToken({receiverAddress:_t.state.receiverAddress,sendTokenAmount:_t.state.sendTokenAmount,decimals:_t.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;xt.loading=!0;const e=(i=j.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=j.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=j.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if(xt.lastRetry&&!De.isAllowedRetry(xt.lastRetry,30*Nt.ONE_SEC_MS))return xt.loading=!1,[];try{if(s&&e&&n){const l=await D_.getMyTokensWithBalance();return xt.tokenBalances=l,xt.lastRetry=void 0,l}}catch(l){xt.lastRetry=Date.now(),t==null||t(l),Xs.showError("Token Balance Unavailable")}finally{xt.loading=!1}return[]},fetchNetworkBalance(){if(xt.tokenBalances.length===0)return;const t=C7.mapBalancesToSwapTokens(xt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===fP());e&&(xt.networkBalanceInUSD=e?Hj.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,l,d;ze.pushTransactionStack({});const e=t.receiverAddress,n=be.state.address,r=Ie.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Ie.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),It.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=be.state.preferredAccountTypes)==null?void 0:i.eip155)===$n.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=_t.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((l=j.state.activeCaipNetwork)==null?void 0:l.caipNetworkId)||""}}),(d=Ie._getClient())==null||d.updateBalance("eip155"),_t.resetSend()},async sendERC20Token(t){ze.pushTransactionStack({onSuccess(){ze.replace("Account")}});const e=Ie.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(be.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=De.getPlainAddress(t.tokenAddress);await Ie.writeContract({fromAddress:be.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Kj.getERC20Abi(n),chainNamespace:"eip155"}),_t.resetSend()}},async sendSolanaToken(){var t;if(!_t.state.sendTokenAmount||!_t.state.receiverAddress)throw new Error("An amount and receiver address are required");ze.pushTransactionStack({onSuccess(){ze.replace("Account")}}),await Ie.sendTransaction({chainNamespace:"solana",to:_t.state.receiverAddress,value:_t.state.sendTokenAmount}),(t=Ie._getClient())==null||t.updateBalance("solana"),_t.resetSend()},resetSend(){xt.token=void 0,xt.sendTokenAmount=void 0,xt.receiverAddress=void 0,xt.receiverProfileImageUrl=void 0,xt.receiverProfileName=void 0,xt.loading=!1,xt.tokenBalances=[]}},_t=is(S7),bv={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},lm={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ce=zt({chains:$j(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),A7={state:Ce,subscribe(t){return Hn(Ce,()=>{t(Ce)})},subscribeKey(t,e){return Vn(Ce,t,e)},subscribeChainProp(t,e,n){let r;return Hn(Ce.chains,()=>{var i;const s=n||Ce.activeChain;if(s){const o=(i=Ce.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=ve.getActiveNetworkProps(),i=e==null?void 0:e.find(p=>p.id.toString()===(r==null?void 0:r.toString())),l=t.find(p=>(p==null?void 0:p.namespace)===s)||(t==null?void 0:t[0]),d=t.map(p=>p.namespace).filter(p=>p!==void 0),f=fe.state.enableEmbedded?new Set([...d]):new Set([...(e==null?void 0:e.map(p=>p.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!l)&&(Ce.noAdapters=!0),Ce.noAdapters||(Ce.activeChain=l==null?void 0:l.namespace,Ce.activeCaipNetwork=i,j.setChainNetworkData(l==null?void 0:l.namespace,{caipNetwork:i}),Ce.activeChain&&Pi.set({activeChain:l==null?void 0:l.namespace})),f.forEach(p=>{const g=e==null?void 0:e.filter(m=>m.chainNamespace===p);j.state.chains.set(p,{namespace:p,networkState:zt({...lm,caipNetwork:g==null?void 0:g[0]}),accountState:zt(bv),caipNetworks:g??[],...n}),j.setRequestedCaipNetworks(g??[],p)})},removeAdapter(t){var e,n;if(Ce.activeChain===t){const r=Array.from(Ce.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&j.setActiveCaipNetwork(s)}}Ce.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){Ce.chains.set(t.namespace,{namespace:t.namespace,networkState:{...lm,caipNetwork:r[0]},accountState:bv,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),j.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=Ce.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),Ce.chains.set(t.chainNamespace,{...e,caipNetworks:r}),j.setRequestedCaipNetworks(r,t.chainNamespace),Ee.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=Ce.chains.get(t);if(n){const o=((r=Ce.activeCaipNetwork)==null?void 0:r.id)===e,l=[...((s=n.caipNetworks)==null?void 0:s.filter(d=>d.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&j.setActiveCaipNetwork(n.caipNetworks[0]),Ce.chains.set(t,{...n,caipNetworks:l}),j.setRequestedCaipNetworks(l||[],t),l.length===0&&Ee.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=Ce.chains.get(t);n&&(n.networkState={...n.networkState||lm,...e},Ce.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Ce.chains.get(t);if(r){const s={...r.accountState||bv,...e};Ce.chains.set(t,{...r,accountState:s}),(Ce.chains.size===1||Ce.activeChain===t)&&(e.caipAddress&&(Ce.activeCaipAddress=e.caipAddress),be.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=Ce.chains.get(t);if(n){const r={...n.networkState||lm,...e};Ce.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){j.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Ee.removeConnectorId(n)},setActiveNamespace(t){var r,s;Ce.activeChain=t;const e=t?Ce.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(Ce.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,Ce.activeCaipNetwork=n,j.setChainNetworkData(t,{caipNetwork:n}),ve.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Pi.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;Ce.activeChain!==t.chainNamespace&&j.setIsSwitchingNamespace(!0);const e=Ce.chains.get(t.chainNamespace);Ce.activeChain=t.chainNamespace,Ce.activeCaipNetwork=t,j.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?Ce.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:Ce.activeCaipAddress=void 0,j.setAccountProp("caipAddress",Ce.activeCaipAddress,t.chainNamespace),e&&be.replaceState(e.accountState),_t.resetSend(),Pi.set({activeChain:Ce.activeChain,selectedNetworkId:(i=Ce.activeCaipNetwork)==null?void 0:i.caipNetworkId}),ve.setActiveCaipNetworkId(t.caipNetworkId),!j.checkIfSupportedNetwork(t.chainNamespace)&&fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&!Ie.state.wcBasic&&j.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=Ce.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==j.state.activeChain,n=(s=j.getNetworkData(t))==null?void 0:s.caipNetwork,r=j.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await j.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=j.state.chains.get(j.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=Ce.activeCaipNetwork)==null?void 0:o.id)})),r=j.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&St.close()}catch{ze.goBack()}It.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Ce.activeChain,n=Ce.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Ce.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Ce.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=Ce.activeChain;if(e&&(n=e),!n)return;const r=(s=Ce.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=Ce.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Ce.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return De.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return Ce.chains.forEach(e=>{const n=j.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){j.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=j.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));Ee.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return Ce.chains.forEach(e=>{const n=j.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return Ce.activeCaipNetwork},getActiveCaipAddress(){return Ce.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=Ce.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=j.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());j.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Ce.activeCaipNetwork,r=j.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!Ce.activeChain)return!0;const e=j.getRequestedCaipNetworks(Ce.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){j.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=qh.caipNetworkIdToNumber((r=Ce.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=Ce.activeChain;if(!e||!t)return!1;const n=j.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){St.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ce.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Nt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){j.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Ce.activeCaipAddress=void 0,j.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Ee.removeConnectorId(e)},setIsSwitchingNamespace(t){Ce.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(Ce.chains.forEach(s=>{ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=Ce.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=j.state.chains.get(t))==null?void 0:e.accountState:be.state},getNetworkData(t){var n;const e=t||Ce.activeChain;if(e)return(n=j.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=j.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(l=>l.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Ee.state.filterByNamespace;return(t?[Ce.chains.get(t)]:Array.from(Ce.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?j.getRequestedCaipNetworks(t):j.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Ce.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Ce.lastConnectedSIWECaipNetwork}},j=is(A7),T7={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},hP=De.getBlockchainApiUrl(),_r=zt({clientId:null,api:new _p({baseUrl:hP,clientId:null}),supportedChains:{http:[],ws:[]}}),Le={state:_r,async get(t){const{st:e,sv:n}=Le.getSdkProperties(),r=fe.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return _r.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=fe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{_r.supportedChains.http.length||await Le.getSupportedNetworks()}catch{return!1}return _r.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Le.get({path:"v1/supported-chains"});return _r.supportedChains=t,t}catch{return _r.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Le.isNetworkSupported(e))return{avatar:"",name:""};const r=ve.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Le.get({path:`/v1/identity/${t}`,params:{sender:j.state.activeCaipAddress?De.getPlainAddress(j.state.activeCaipAddress):void 0}});return ve.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var l;return await Le.isNetworkSupported((l=j.state.activeCaipNetwork)==null?void 0:l.caipNetworkId)?Le.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await Le.isNetworkSupported((o=j.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Le.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Le.isNetworkSupported((n=j.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Le.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Le.isNetworkSupported((n=j.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?_r.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:fe.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Le.isNetworkSupported((r=j.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Le.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Le.getSdkProperties();if(!await Le.isNetworkSupported((s=j.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Le.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await Le.isNetworkSupported((o=j.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return _r.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Nt.CONVERT_SLIPPAGE_TOLERANCE},projectId:fe.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=Le.getSdkProperties();if(!await Le.isNetworkSupported((o=j.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Le.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var f;const{st:r,sv:s}=Le.getSdkProperties();if(!await Le.isNetworkSupported((f=j.state.activeCaipNetwork)==null?void 0:f.caipNetworkId))return Xs.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,l=ve.getBalanceCacheForCaipAddress(o);if(l)return l;const d=await Le.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return ve.updateBalanceCache({caipAddress:o,balance:d,timestamp:Date.now()}),d},async lookupEnsName(t){var n;return await Le.isNetworkSupported((n=j.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Le.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Le.isNetworkSupported((n=j.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Le.get({path:`/v1/profile/reverse/${t}`,params:{sender:be.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Le.isNetworkSupported((n=j.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Le.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await Le.isNetworkSupported((i=j.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?_r.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var l;return await Le.isNetworkSupported((l=j.state.activeCaipNetwork)==null?void 0:l.caipNetworkId)?(await _r.api.post({path:"/v1/generators/onrampurl",params:{projectId:fe.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Le.isNetworkSupported((e=j.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Le.get({path:"/v1/onramp/options"})}catch{return T7}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Le.isNetworkSupported((s=j.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await _r.api.post({path:"/v1/onramp/quote",params:{projectId:fe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Le.isNetworkSupported((n=j.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Le.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Le.isNetworkSupported((s=j.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?_r.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:fe.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){_r.clientId=t,_r.api=new _p({baseUrl:hP,clientId:t})}},vv={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return ld(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},D_={async getMyTokensWithBalance(t){const e=be.state.address,n=j.state.activeCaipNetwork,r=Ee.getConnectorId("eip155")===ue.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=ve.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const l=await this.getEIP155Balances(e,n);if(l)return this.filterLowQualityTokens(l)}const o=await Le.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=vv.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await Ie.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await Ie.walletGetAssets({account:t,chainFilter:[s]});if(!vv.isWalletGetAssetsResponse(o))return null;const d=(o[s]||[]).map(f=>vv.createBalance(f,e.caipNetworkId));return ve.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:d},timestamp:Date.now()}),d}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},ms=zt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),x7={state:ms,replaceState(t){t&&Object.assign(ms,Xc(t))},subscribe(t){return j.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return j.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){j.setAccountProp("status",t,e)},getCaipAddress(t){return j.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?De.getPlainAddress(t):void 0;e===j.state.activeChain&&(j.state.activeCaipAddress=t),j.setAccountProp("caipAddress",t,e),j.setAccountProp("address",n,e)},setBalance(t,e,n){j.setAccountProp("balance",t,n),j.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){j.setAccountProp("profileName",t,e)},setProfileImage(t,e){j.setAccountProp("profileImage",t,e)},setUser(t,e){j.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){j.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){j.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){j.setAccountProp("currentTab",t,j.state.activeChain)},setTokenBalance(t,e){t&&j.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){j.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){j.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=j.getAccountProp("addressLabels",n)||new Map;r.set(t,e),j.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=j.getAccountProp("addressLabels",e)||new Map;n.delete(t),j.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){j.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){j.setAccountProp("preferredAccountTypes",{...ms.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){ms.preferredAccountTypes=t},setSocialProvider(t,e){t&&j.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){j.setAccountProp("socialWindow",t?Xc(t):void 0,e)},setFarcasterUrl(t,e){j.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;ms.balanceLoading=!0;const e=(i=j.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=j.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=j.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if(ms.lastRetry&&!De.isAllowedRetry(ms.lastRetry,30*Nt.ONE_SEC_MS))return ms.balanceLoading=!1,[];try{if(s&&e&&n){const l=await D_.getMyTokensWithBalance();return be.setTokenBalance(l,n),ms.lastRetry=void 0,ms.balanceLoading=!1,l}}catch(l){ms.lastRetry=Date.now(),t==null||t(l),Xs.showError("Token Balance Unavailable")}finally{ms.balanceLoading=!1}return[]},resetAccount(t){j.resetAccount(t)}},be=is(x7),N7={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=j.state.activeCaipNetwork,r=ze.state.data;if(t.id===(n==null?void 0:n.id))return;const i=be.getCaipAddress(j.state.activeChain),o=t.chainNamespace!==j.state.activeChain,l=be.getCaipAddress(t.chainNamespace),f=Ee.getConnectorId(j.state.activeChain)===ue.CONNECTOR_ID.AUTH,p=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(g=>g===t.chainNamespace);e||f&&p?ze.push("SwitchNetwork",{...r,network:t}):i&&o&&!l?ze.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):ze.push("SwitchNetwork",{...r,network:t})}},Cr=zt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),I7={state:Cr,subscribe(t){return Hn(Cr,()=>t(Cr))},subscribeKey(t,e){return Vn(Cr,t,e)},async open(t){var o,l;const e=be.state.status==="connected",n=t==null?void 0:t.namespace,r=j.state.activeChain,s=n&&n!==r,i=(o=j.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(Ie.state.wcBasic?ke.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await ke.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),Ee.setFilterByNamespace(t==null?void 0:t.namespace),St.setLoading(!0,n),n&&s){const d=((l=j.getNetworkData(n))==null?void 0:l.caipNetwork)||j.getRequestedCaipNetworks(n)[0];d&&N7.onSwitchNetwork({network:d,ignoreSwitchConfirmation:!0})}else{const d=j.state.noAdapters;fe.state.manualWCControl||d&&!i?De.isMobile()?ze.reset("AllWallets"):ze.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?ze.reset(t.view,t.data):i?ze.reset("Account"):ze.reset("Connect")}Cr.open=!0,Pi.set({open:!0}),It.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=fe.state.enableEmbedded,e=!!j.state.activeCaipAddress;Cr.open&&It.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Cr.open=!1,ze.reset("Connect"),St.clearLoading(),t?e?ze.replace("Account"):ze.push("Connect"):Pi.set({open:!1}),Ie.resetUri()},setLoading(t,e){e&&Cr.loadingNamespaceMap.set(e,t),Cr.loading=t,Pi.set({loading:t})},clearLoading(){Cr.loadingNamespaceMap.clear(),Cr.loading=!1},shake(){Cr.shake||(Cr.shake=!0,setTimeout(()=>{Cr.shake=!1},500))}},St=is(I7),th={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},n1={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},R7={providers:lP,selectedProvider:null,error:null,purchaseCurrency:th,paymentCurrency:n1,purchaseCurrencies:[th],paymentCurrencies:[],quotesLoading:!1},ft=zt(R7),O7={state:ft,subscribe(t){return Hn(ft,()=>t(ft))},subscribeKey(t,e){return Vn(ft,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=j.state.activeChain===ue.CHAIN.SOLANA?"SOL":"USDC",n=be.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",Yj),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",fe.state.projectId),ft.selectedProvider={...t,url:r.toString()}}else ft.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=lP.filter(r=>e.includes(r.name));ft.providers=n}else ft.providers=[]},setPurchaseCurrency(t){ft.purchaseCurrency=t},setPaymentCurrency(t){ft.paymentCurrency=t},setPurchaseAmount(t){r1.state.purchaseAmount=t},setPaymentAmount(t){r1.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Le.getOnrampOptions();ft.purchaseCurrencies=t.purchaseCurrencies,ft.paymentCurrencies=t.paymentCurrencies,ft.paymentCurrency=t.paymentCurrencies[0]||n1,ft.purchaseCurrency=t.purchaseCurrencies[0]||th,await ke.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await ke.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;ft.quotesLoading=!0;try{const n=await Le.getOnrampQuote({purchaseCurrency:ft.purchaseCurrency,paymentCurrency:ft.paymentCurrency,amount:((t=ft.paymentAmount)==null?void 0:t.toString())||"0",network:(e=ft.purchaseCurrency)==null?void 0:e.symbol});return ft.quotesLoading=!1,ft.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return ft.error=n.message,ft.quotesLoading=!1,null}finally{ft.quotesLoading=!1}},resetState(){ft.selectedProvider=null,ft.error=null,ft.purchaseCurrency=th,ft.paymentCurrency=n1,ft.purchaseCurrencies=[th],ft.paymentCurrencies=[],ft.paymentAmount=void 0,ft.purchaseAmount=void 0,ft.quotesLoading=!1}},r1=is(O7),Rx=2147483648,P7={convertEVMChainIdToCoinType(t){if(t>=Rx)throw new Error("Invalid chainId");return(Rx|t)>>>0}},ys=zt({suggestions:[],loading:!1}),D7={state:ys,subscribe(t){return Hn(ys,()=>t(ys))},subscribeKey(t,e){return Vn(ys,t,e)},async resolveName(t){var e,n;try{return await Le.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Le.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ys.loading=!0,ys.suggestions=[];const e=await Le.getEnsNameSuggestions(t);return ys.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],ys.suggestions}catch(e){const n=nh.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{ys.loading=!1}},async getNamesForAddress(t){try{if(!j.state.activeCaipNetwork)return[];const n=ve.getEnsFromCacheForAddress(t);if(n)return n;const r=await Le.reverseLookupEnsName({address:t});return ve.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=nh.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=j.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=be.state.address,r=Ee.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");ys.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ze.pushTransactionStack({onCancel(){ze.replace("RegisterAccountName")}});const i=await Ie.signMessage(s);ys.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const l=P7.convertEVMChainIdToCoinType(Number(o));await Le.registerEnsName({coinType:l,address:n,signature:i,message:s}),be.setProfileName(t,e.chainNamespace),ze.replace("RegisterAccountNameSuccess")}catch(s){const i=nh.parseEnsApiError(s,`Error registering name ${t}`);throw ze.replace("RegisterAccountName"),new Error(i)}finally{ys.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},nh=is(D7);var um={exports:{}},Ox;function U7(){if(Ox)return um.exports;Ox=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(x,T,P){return Function.prototype.apply.call(x,T,P)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:n=function(x){return Object.getOwnPropertyNames(x)};function r(O){console&&console.warn&&console.warn(O)}var s=Number.isNaN||function(x){return x!==x};function i(){i.init.call(this)}um.exports=i,um.exports.once=C,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function l(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(O){if(typeof O!="number"||O<0||s(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");o=O}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||s(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function d(O){return O._maxListeners===void 0?i.defaultMaxListeners:O._maxListeners}i.prototype.getMaxListeners=function(){return d(this)},i.prototype.emit=function(x){for(var T=[],P=1;P<arguments.length;P++)T.push(arguments[P]);var U=x==="error",S=this._events;if(S!==void 0)U=U&&S.error===void 0;else if(!U)return!1;if(U){var B;if(T.length>0&&(B=T[0]),B instanceof Error)throw B;var L=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw L.context=B,L}var z=S[x];if(z===void 0)return!1;if(typeof z=="function")e(z,this,T);else for(var K=z.length,G=w(z,K),P=0;P<K;++P)e(G[P],this,T);return!0};function f(O,x,T,P){var U,S,B;if(l(T),S=O._events,S===void 0?(S=O._events=Object.create(null),O._eventsCount=0):(S.newListener!==void 0&&(O.emit("newListener",x,T.listener?T.listener:T),S=O._events),B=S[x]),B===void 0)B=S[x]=T,++O._eventsCount;else if(typeof B=="function"?B=S[x]=P?[T,B]:[B,T]:P?B.unshift(T):B.push(T),U=d(O),U>0&&B.length>U&&!B.warned){B.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=O,L.type=x,L.count=B.length,r(L)}return O}i.prototype.addListener=function(x,T){return f(this,x,T,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(x,T){return f(this,x,T,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(O,x,T){var P={fired:!1,wrapFn:void 0,target:O,type:x,listener:T},U=p.bind(P);return U.listener=T,P.wrapFn=U,U}i.prototype.once=function(x,T){return l(T),this.on(x,g(this,x,T)),this},i.prototype.prependOnceListener=function(x,T){return l(T),this.prependListener(x,g(this,x,T)),this},i.prototype.removeListener=function(x,T){var P,U,S,B,L;if(l(T),U=this._events,U===void 0)return this;if(P=U[x],P===void 0)return this;if(P===T||P.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete U[x],U.removeListener&&this.emit("removeListener",x,P.listener||T));else if(typeof P!="function"){for(S=-1,B=P.length-1;B>=0;B--)if(P[B]===T||P[B].listener===T){L=P[B].listener,S=B;break}if(S<0)return this;S===0?P.shift():E(P,S),P.length===1&&(U[x]=P[0]),U.removeListener!==void 0&&this.emit("removeListener",x,L||T)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(x){var T,P,U;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[x]),this;if(arguments.length===0){var S=Object.keys(P),B;for(U=0;U<S.length;++U)B=S[U],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=P[x],typeof T=="function")this.removeListener(x,T);else if(T!==void 0)for(U=T.length-1;U>=0;U--)this.removeListener(x,T[U]);return this};function m(O,x,T){var P=O._events;if(P===void 0)return[];var U=P[x];return U===void 0?[]:typeof U=="function"?T?[U.listener||U]:[U]:T?_(U):w(U,U.length)}i.prototype.listeners=function(x){return m(this,x,!0)},i.prototype.rawListeners=function(x){return m(this,x,!1)},i.listenerCount=function(O,x){return typeof O.listenerCount=="function"?O.listenerCount(x):b.call(O,x)},i.prototype.listenerCount=b;function b(O){var x=this._events;if(x!==void 0){var T=x[O];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function w(O,x){for(var T=new Array(x),P=0;P<x;++P)T[P]=O[P];return T}function E(O,x){for(;x+1<O.length;x++)O[x]=O[x+1];O.pop()}function _(O){for(var x=new Array(O.length),T=0;T<x.length;++T)x[T]=O[T].listener||O[T];return x}function C(O,x){return new Promise(function(T,P){function U(B){O.removeListener(x,S),P(B)}function S(){typeof O.removeListener=="function"&&O.removeListener("error",U),T([].slice.call(arguments))}A(O,x,S,{once:!0}),x!=="error"&&I(O,U,{once:!0})})}function I(O,x,T){typeof O.on=="function"&&A(O,"error",x,T)}function A(O,x,T,P){if(typeof O.on=="function")P.once?O.once(x,T):O.on(x,T);else if(typeof O.addEventListener=="function")O.addEventListener(x,function U(S){P.once&&O.removeEventListener(x,U),T(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}return um.exports}var Us=U7();const U_=gp(Us);var Ev={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s1=function(t,e){return s1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},s1(t,e)};function $7(t,e){s1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var i1=function(){return i1=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i1.apply(this,arguments)};function k7(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function M7(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function B7(t,e){return function(n,r){e(n,r,t)}}function L7(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function j7(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(p){try{f(r.next(p))}catch(g){o(g)}}function d(p){try{f(r.throw(p))}catch(g){o(g)}}function f(p){p.done?i(p.value):s(p.value).then(l,d)}f((r=r.apply(t,e||[])).next())})}function F7(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return d([f,p])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function z7(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function q7(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function a1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pP(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function H7(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pP(arguments[e]));return t}function V7(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,s++)r[s]=i[o];return r}function Vh(t){return this instanceof Vh?(this.v=t,this):new Vh(t)}function G7(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(m){r[m]&&(s[m]=function(b){return new Promise(function(w,E){i.push([m,b,w,E])>1||l(m,b)})})}function l(m,b){try{d(r[m](b))}catch(w){g(i[0][3],w)}}function d(m){m.value instanceof Vh?Promise.resolve(m.value.v).then(f,p):g(i[0][2],m)}function f(m){l("next",m)}function p(m){l("throw",m)}function g(m,b){m(b),i.shift(),i.length&&l(i[0][0],i[0][1])}}function W7(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Vh(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function K7(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof a1=="function"?a1(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(l,d){o=t[i](o),s(l,d,o.done,o.value)})}}function s(i,o,l,d){Promise.resolve(d).then(function(f){i({value:f,done:l})},o)}}function Y7(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Z7(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Q7(t){return t&&t.__esModule?t:{default:t}}function X7(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function J7(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const eF=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return i1},__asyncDelegator:W7,__asyncGenerator:G7,__asyncValues:K7,__await:Vh,__awaiter:j7,__classPrivateFieldGet:X7,__classPrivateFieldSet:J7,__createBinding:z7,__decorate:M7,__exportStar:q7,__extends:$7,__generator:F7,__importDefault:Q7,__importStar:Z7,__makeTemplateObject:Y7,__metadata:L7,__param:B7,__read:pP,__rest:k7,__spread:H7,__spreadArrays:V7,__values:a1},Symbol.toStringTag,{value:"Module"})),Cp=OU(eF);var _v={},Af={},Px;function tF(){if(Px)return Af;Px=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Af.delay=t,Af}var yc={},Cv={},wc={},Dx;function nF(){return Dx||(Dx=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.ONE_THOUSAND=wc.ONE_HUNDRED=void 0,wc.ONE_HUNDRED=100,wc.ONE_THOUSAND=1e3),wc}var Sv={},Ux;function rF(){return Ux||(Ux=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Sv)),Sv}var $x;function gP(){return $x||($x=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cp;e.__exportStar(nF(),t),e.__exportStar(rF(),t)}(Cv)),Cv}var kx;function sF(){if(kx)return yc;kx=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.fromMiliseconds=yc.toMiliseconds=void 0;const t=gP();function e(r){return r*t.ONE_THOUSAND}yc.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return yc.fromMiliseconds=n,yc}var Mx;function iF(){return Mx||(Mx=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cp;e.__exportStar(tF(),t),e.__exportStar(sF(),t)}(_v)),_v}var su={},Bx;function aF(){if(Bx)return su;Bx=1,Object.defineProperty(su,"__esModule",{value:!0}),su.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return su.Watch=t,su.default=t,su}var Av={},Tf={},Lx;function oF(){if(Lx)return Tf;Lx=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.IWatch=void 0;class t{}return Tf.IWatch=t,Tf}var jx;function cF(){return jx||(jx=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Cp.__exportStar(oF(),t)}(Av)),Av}var Fx;function lF(){return Fx||(Fx=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cp;e.__exportStar(iF(),t),e.__exportStar(aF(),t),e.__exportStar(cF(),t),e.__exportStar(gP(),t)}(Ev)),Ev}var ye=lF();class dl{}let uF=class extends dl{constructor(e){super()}};const zx=ye.FIVE_SECONDS,fl={pulse:"heartbeat_pulse"};let dF=class mP extends uF{constructor(e){super(e),this.events=new Us.EventEmitter,this.interval=zx,this.interval=(e==null?void 0:e.interval)||zx}static async init(e){const n=new mP(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ye.toMiliseconds(this.interval))}pulse(){this.events.emit(fl.pulse)}};const fF=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,hF=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,pF=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function gF(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){mF(t);return}return e}function mF(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function dm(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!pF.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(fF.test(t)||hF.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,gF)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function yF(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function On(t,...e){try{return yF(t(...e))}catch(n){return Promise.reject(n)}}function wF(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function bF(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function km(t){if(wF(t))return String(t);if(bF(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return km(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const o1="base64:";function vF(t){return typeof t=="string"?t:o1+CF(t)}function EF(t){return typeof t!="string"||!t.startsWith(o1)?t:_F(t.slice(o1.length))}function _F(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function CF(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Nr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function SF(...t){return Nr(t.join(":"))}function fm(t){return t=Nr(t),t?t+":":""}function AF(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function TF(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const xF="memory",NF=()=>{const t=new Map;return{name:xF,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function IF(t={}){const e={mounts:{"":t.driver||NF()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=f=>{for(const p of e.mountpoints)if(f.startsWith(p))return{base:p,relativeKey:f.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:f,driver:e.mounts[""]}},r=(f,p)=>e.mountpoints.filter(g=>g.startsWith(f)||p&&f.startsWith(g)).map(g=>({relativeBase:f.length>g.length?f.slice(g.length):void 0,mountpoint:g,driver:e.mounts[g]})),s=(f,p)=>{if(e.watching){p=Nr(p);for(const g of e.watchListeners)g(f,p)}},i=async()=>{if(!e.watching){e.watching=!0;for(const f in e.mounts)e.unwatch[f]=await qx(e.mounts[f],s,f)}},o=async()=>{if(e.watching){for(const f in e.unwatch)await e.unwatch[f]();e.unwatch={},e.watching=!1}},l=(f,p,g)=>{const m=new Map,b=w=>{let E=m.get(w.base);return E||(E={driver:w.driver,base:w.base,items:[]},m.set(w.base,E)),E};for(const w of f){const E=typeof w=="string",_=Nr(E?w:w.key),C=E?void 0:w.value,I=E||!w.options?p:{...p,...w.options},A=n(_);b(A).items.push({key:_,value:C,relativeKey:A.relativeKey,options:I})}return Promise.all([...m.values()].map(w=>g(w))).then(w=>w.flat())},d={hasItem(f,p={}){f=Nr(f);const{relativeKey:g,driver:m}=n(f);return On(m.hasItem,g,p)},getItem(f,p={}){f=Nr(f);const{relativeKey:g,driver:m}=n(f);return On(m.getItem,g,p).then(b=>dm(b))},getItems(f,p={}){return l(f,p,g=>g.driver.getItems?On(g.driver.getItems,g.items.map(m=>({key:m.relativeKey,options:m.options})),p).then(m=>m.map(b=>({key:SF(g.base,b.key),value:dm(b.value)}))):Promise.all(g.items.map(m=>On(g.driver.getItem,m.relativeKey,m.options).then(b=>({key:m.key,value:dm(b)})))))},getItemRaw(f,p={}){f=Nr(f);const{relativeKey:g,driver:m}=n(f);return m.getItemRaw?On(m.getItemRaw,g,p):On(m.getItem,g,p).then(b=>EF(b))},async setItem(f,p,g={}){if(p===void 0)return d.removeItem(f);f=Nr(f);const{relativeKey:m,driver:b}=n(f);b.setItem&&(await On(b.setItem,m,km(p),g),b.watch||s("update",f))},async setItems(f,p){await l(f,p,async g=>{if(g.driver.setItems)return On(g.driver.setItems,g.items.map(m=>({key:m.relativeKey,value:km(m.value),options:m.options})),p);g.driver.setItem&&await Promise.all(g.items.map(m=>On(g.driver.setItem,m.relativeKey,km(m.value),m.options)))})},async setItemRaw(f,p,g={}){if(p===void 0)return d.removeItem(f,g);f=Nr(f);const{relativeKey:m,driver:b}=n(f);if(b.setItemRaw)await On(b.setItemRaw,m,p,g);else if(b.setItem)await On(b.setItem,m,vF(p),g);else return;b.watch||s("update",f)},async removeItem(f,p={}){typeof p=="boolean"&&(p={removeMeta:p}),f=Nr(f);const{relativeKey:g,driver:m}=n(f);m.removeItem&&(await On(m.removeItem,g,p),(p.removeMeta||p.removeMata)&&await On(m.removeItem,g+"$",p),m.watch||s("remove",f))},async getMeta(f,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),f=Nr(f);const{relativeKey:g,driver:m}=n(f),b=Object.create(null);if(m.getMeta&&Object.assign(b,await On(m.getMeta,g,p)),!p.nativeOnly){const w=await On(m.getItem,g+"$",p).then(E=>dm(E));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(b,w))}return b},setMeta(f,p,g={}){return this.setItem(f+"$",p,g)},removeMeta(f,p={}){return this.removeItem(f+"$",p)},async getKeys(f,p={}){var _;f=fm(f);const g=r(f,!0);let m=[];const b=[];let w=!0;for(const C of g){(_=C.driver.flags)!=null&&_.maxDepth||(w=!1);const I=await On(C.driver.getKeys,C.relativeBase,p);for(const A of I){const O=C.mountpoint+Nr(A);m.some(x=>O.startsWith(x))||b.push(O)}m=[C.mountpoint,...m.filter(A=>!A.startsWith(C.mountpoint))]}const E=p.maxDepth!==void 0&&!w;return b.filter(C=>(!E||AF(C,p.maxDepth))&&TF(C,f))},async clear(f,p={}){f=fm(f),await Promise.all(r(f,!1).map(async g=>{if(g.driver.clear)return On(g.driver.clear,g.relativeBase,p);if(g.driver.removeItem){const m=await g.driver.getKeys(g.relativeBase||"",p);return Promise.all(m.map(b=>g.driver.removeItem(b,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(f=>Hx(f)))},async watch(f){return await i(),e.watchListeners.push(f),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==f),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(f,p){if(f=fm(f),f&&e.mounts[f])throw new Error(`already mounted at ${f}`);return f&&(e.mountpoints.push(f),e.mountpoints.sort((g,m)=>m.length-g.length)),e.mounts[f]=p,e.watching&&Promise.resolve(qx(p,s,f)).then(g=>{e.unwatch[f]=g}).catch(console.error),d},async unmount(f,p=!0){var g,m;f=fm(f),!(!f||!e.mounts[f])&&(e.watching&&f in e.unwatch&&((m=(g=e.unwatch)[f])==null||m.call(g),delete e.unwatch[f]),p&&await Hx(e.mounts[f]),e.mountpoints=e.mountpoints.filter(b=>b!==f),delete e.mounts[f])},getMount(f=""){f=Nr(f)+":";const p=n(f);return{driver:p.driver,base:p.base}},getMounts(f="",p={}){return f=Nr(f),r(f,p.parents).map(m=>({driver:m.driver,base:m.mountpoint}))},keys:(f,p={})=>d.getKeys(f,p),get:(f,p={})=>d.getItem(f,p),set:(f,p,g={})=>d.setItem(f,p,g),has:(f,p={})=>d.hasItem(f,p),del:(f,p={})=>d.removeItem(f,p),remove:(f,p={})=>d.removeItem(f,p)};return d}function qx(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function Hx(t){typeof t.dispose=="function"&&await On(t.dispose)}function hl(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function yP(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=hl(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let Tv;function Sp(){return Tv||(Tv=yP("keyval-store","keyval")),Tv}function Vx(t,e=Sp()){return e("readonly",n=>hl(n.get(t)))}function RF(t,e,n=Sp()){return n("readwrite",r=>(r.put(e,t),hl(r.transaction)))}function OF(t,e=Sp()){return e("readwrite",n=>(n.delete(t),hl(n.transaction)))}function PF(t=Sp()){return t("readwrite",e=>(e.clear(),hl(e.transaction)))}function DF(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},hl(t.transaction)}function UF(t=Sp()){return t("readonly",e=>{if(e.getAllKeys)return hl(e.getAllKeys());const n=[];return DF(e,r=>n.push(r.key)).then(()=>n)})}const $F=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),kF=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function el(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return kF(t)}catch{return t}}function Ta(t){return typeof t=="string"?t:$F(t)||""}const MF="idb-keyval";var BF=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=yP(t.dbName,t.storeName)),{name:MF,options:t,async hasItem(s){return!(typeof await Vx(n(s),r)>"u")},async getItem(s){return await Vx(n(s),r)??null},setItem(s,i){return RF(n(s),i,r)},removeItem(s){return OF(n(s),r)},getKeys(){return UF(r)},clear(){return PF(r)}}};const LF="WALLET_CONNECT_V2_INDEXED_DB",jF="keyvaluestorage";let FF=class{constructor(){this.indexedDb=IF({driver:BF({dbName:LF,storeName:jF})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Ta(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mm={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof xv<"u"&&xv.localStorage?Mm.exports=xv.localStorage:typeof window<"u"&&window.localStorage?Mm.exports=window.localStorage:Mm.exports=new e})();function zF(t){var e;return[t[0],el((e=t[1])!=null?e:"")]}let qF=class{constructor(){this.localStorage=Mm.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(zF)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return el(n)}async setItem(e,n){this.localStorage.setItem(e,Ta(n))}async removeItem(e){this.localStorage.removeItem(e)}};const HF="wc_storage_version",Gx=1,VF=async(t,e,n)=>{const r=HF,s=await e.getItem(r);if(s&&s>=Gx){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const l=i.shift();if(!l)continue;const d=l.toLowerCase();if(d.includes("wc@")||d.includes("walletconnect")||d.includes("wc_")||d.includes("wallet_connect")){const f=await t.getItem(l);await e.setItem(l,f),o.push(l)}}await e.setItem(r,Gx),n(e),GF(t,o)},GF=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let WF=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new qF;this.storage=e;try{const n=new FF;VF(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var Nv,Wx;function KF(){if(Wx)return Nv;Wx=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}Nv=e;function e(n,r,s){var i=s&&s.stringify||t,o=1;if(typeof n=="object"&&n!==null){var l=r.length+o;if(l===1)return n;var d=new Array(l);d[0]=i(n);for(var f=1;f<l;f++)d[f]=i(r[f]);return d.join(" ")}if(typeof n!="string")return n;var p=r.length;if(p===0)return n;for(var g="",m=1-o,b=-1,w=n&&n.length||0,E=0;E<w;){if(n.charCodeAt(E)===37&&E+1<w){switch(b=b>-1?b:0,n.charCodeAt(E+1)){case 100:case 102:if(m>=p||r[m]==null)break;b<E&&(g+=n.slice(b,E)),g+=Number(r[m]),b=E+2,E++;break;case 105:if(m>=p||r[m]==null)break;b<E&&(g+=n.slice(b,E)),g+=Math.floor(Number(r[m])),b=E+2,E++;break;case 79:case 111:case 106:if(m>=p||r[m]===void 0)break;b<E&&(g+=n.slice(b,E));var _=typeof r[m];if(_==="string"){g+="'"+r[m]+"'",b=E+2,E++;break}if(_==="function"){g+=r[m].name||"<anonymous>",b=E+2,E++;break}g+=i(r[m]),b=E+2,E++;break;case 115:if(m>=p)break;b<E&&(g+=n.slice(b,E)),g+=String(r[m]),b=E+2,E++;break;case 37:b<E&&(g+=n.slice(b,E)),g+="%",b=E+2,E++,m--;break}++m}++E}return b===-1?n:(b<w&&(g+=n.slice(b)),g)}return Nv}var Iv,Kx;function YF(){if(Kx)return Iv;Kx=1;const t=KF();Iv=s;const e=x().console||{},n={mapHttpRequest:w,mapHttpResponse:w,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:w,res:w,err:m};function r(T,P){return Array.isArray(T)?T.filter(function(S){return S!=="!stdSerializers.err"}):T===!0?Object.keys(P):!1}function s(T){T=T||{},T.browser=T.browser||{};const P=T.browser.transmit;if(P&&typeof P.send!="function")throw Error("pino: transmit option must have a send function");const U=T.browser.write||e;T.browser.write&&(T.browser.asObject=!0);const S=T.serializers||{},B=r(T.browser.serialize,S);let L=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(L=!1);const z=["error","fatal","warn","info","debug","trace"];typeof U=="function"&&(U.error=U.fatal=U.warn=U.info=U.debug=U.trace=U),T.enabled===!1&&(T.level="silent");const K=T.level||"info",G=Object.create(U);G.log||(G.log=_),Object.defineProperty(G,"levelVal",{get:R}),Object.defineProperty(G,"level",{get:F,set:V});const k={transmit:P,serialize:B,asObject:T.browser.asObject,levels:z,timestamp:b(T)};G.levels=s.levels,G.level=K,G.setMaxListeners=G.getMaxListeners=G.emit=G.addListener=G.on=G.prependListener=G.once=G.prependOnceListener=G.removeListener=G.removeAllListeners=G.listeners=G.listenerCount=G.eventNames=G.write=G.flush=_,G.serializers=S,G._serialize=B,G._stdErrSerialize=L,G.child=W,P&&(G._logEvent=g());function R(){return this.level==="silent"?1/0:this.levels.values[this.level]}function F(){return this._level}function V(D){if(D!=="silent"&&!this.levels.values[D])throw Error("unknown level "+D);this._level=D,i(k,G,"error","log"),i(k,G,"fatal","error"),i(k,G,"warn","error"),i(k,G,"info","log"),i(k,G,"debug","log"),i(k,G,"trace","log")}function W(D,q){if(!D)throw new Error("missing bindings for child Pino");q=q||{},B&&D.serializers&&(q.serializers=D.serializers);const X=q.serializers;if(B&&X){var te=Object.assign({},S,X),ee=T.browser.serialize===!0?Object.keys(te):B;delete D.serializers,d([D],ee,te,this._stdErrSerialize)}function ie(se){this._childLevel=(se._childLevel|0)+1,this.error=f(se,D,"error"),this.fatal=f(se,D,"fatal"),this.warn=f(se,D,"warn"),this.info=f(se,D,"info"),this.debug=f(se,D,"debug"),this.trace=f(se,D,"trace"),te&&(this.serializers=te,this._serialize=ee),P&&(this._logEvent=g([].concat(se._logEvent.bindings,D)))}return ie.prototype=this,new ie(this)}return G}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:C,epochTime:I,unixTime:A,isoTime:O});function i(T,P,U,S){const B=Object.getPrototypeOf(P);P[U]=P.levelVal>P.levels.values[U]?_:B[U]?B[U]:e[U]||e[S]||_,o(T,P,U)}function o(T,P,U){!T.transmit&&P[U]===_||(P[U]=function(S){return function(){const L=T.timestamp(),z=new Array(arguments.length),K=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var G=0;G<z.length;G++)z[G]=arguments[G];if(T.serialize&&!T.asObject&&d(z,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?S.call(K,l(this,U,z,L)):S.apply(K,z),T.transmit){const k=T.transmit.level||P.level,R=s.levels.values[k],F=s.levels.values[U];if(F<R)return;p(this,{ts:L,methodLevel:U,methodValue:F,transmitValue:s.levels.values[T.transmit.level||P.level],send:T.transmit.send,val:P.levelVal},z)}}}(P[U]))}function l(T,P,U,S){T._serialize&&d(U,T._serialize,T.serializers,T._stdErrSerialize);const B=U.slice();let L=B[0];const z={};S&&(z.time=S),z.level=s.levels.values[P];let K=(T._childLevel|0)+1;if(K<1&&(K=1),L!==null&&typeof L=="object"){for(;K--&&typeof B[0]=="object";)Object.assign(z,B.shift());L=B.length?t(B.shift(),B):void 0}else typeof L=="string"&&(L=t(B.shift(),B));return L!==void 0&&(z.msg=L),z}function d(T,P,U,S){for(const B in T)if(S&&T[B]instanceof Error)T[B]=s.stdSerializers.err(T[B]);else if(typeof T[B]=="object"&&!Array.isArray(T[B]))for(const L in T[B])P&&P.indexOf(L)>-1&&L in U&&(T[B][L]=U[L](T[B][L]))}function f(T,P,U){return function(){const S=new Array(1+arguments.length);S[0]=P;for(var B=1;B<S.length;B++)S[B]=arguments[B-1];return T[U].apply(this,S)}}function p(T,P,U){const S=P.send,B=P.ts,L=P.methodLevel,z=P.methodValue,K=P.val,G=T._logEvent.bindings;d(U,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=B,T._logEvent.messages=U.filter(function(k){return G.indexOf(k)===-1}),T._logEvent.level.label=L,T._logEvent.level.value=z,S(L,T._logEvent,K),T._logEvent=g(G)}function g(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function m(T){const P={type:T.constructor.name,msg:T.message,stack:T.stack};for(const U in T)P[U]===void 0&&(P[U]=T[U]);return P}function b(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?C:I}function w(){return{}}function E(T){return T}function _(){}function C(){return!1}function I(){return Date.now()}function A(){return Math.round(Date.now()/1e3)}function O(){return new Date(Date.now()).toISOString()}function x(){function T(P){return typeof P<"u"&&P}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return Iv}var _u=YF();const Ap=gp(_u),ZF={level:"info"},Tp="custom_context",$_=1e3*1024;let QF=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Yx=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new QF(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},wP=class{constructor(e,n=$_){this.level=e??"error",this.levelValue=_u.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Yx(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===_u.levels.values.error?console.error(e):n===_u.levels.values.warn?console.warn(e):n===_u.levels.values.debug?console.debug(e):n===_u.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ta({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new Yx(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Ta({extraMetadata:e})),new Blob(n,{type:"application/json"})}},XF=class{constructor(e,n=$_){this.baseChunkLogger=new wP(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},JF=class{constructor(e,n=$_){this.baseChunkLogger=new wP(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var ez=Object.defineProperty,tz=Object.defineProperties,nz=Object.getOwnPropertyDescriptors,Zx=Object.getOwnPropertySymbols,rz=Object.prototype.hasOwnProperty,sz=Object.prototype.propertyIsEnumerable,Qx=(t,e,n)=>e in t?ez(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hy=(t,e)=>{for(var n in e||(e={}))rz.call(e,n)&&Qx(t,n,e[n]);if(Zx)for(var n of Zx(e))sz.call(e,n)&&Qx(t,n,e[n]);return t},py=(t,e)=>tz(t,nz(e));function dd(t){return py(hy({},t),{level:(t==null?void 0:t.level)||ZF.level})}function iz(t,e=Tp){return t[e]||""}function az(t,e,n=Tp){return t[n]=e,t}function jr(t,e=Tp){let n="";return typeof t.bindings>"u"?n=iz(t,e):n=t.bindings().context||"",n}function oz(t,e,n=Tp){const r=jr(t,n);return r.trim()?`${r}/${e}`:e}function ir(t,e,n=Tp){const r=oz(t,e,n),s=t.child({context:r});return az(s,r,n)}function cz(t){var e,n;const r=new XF((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Ap(py(hy({},t.opts),{level:"trace",browser:py(hy({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function lz(t){var e;const n=new JF((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Ap(py(hy({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function k_(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?cz(t):lz(t)}var uz=Object.defineProperty,dz=(t,e,n)=>e in t?uz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xx=(t,e,n)=>dz(t,typeof e!="symbol"?e+"":e,n);let fz=class extends dl{constructor(e){super(),this.opts=e,Xx(this,"protocol","wc"),Xx(this,"version",2)}};var hz=Object.defineProperty,pz=(t,e,n)=>e in t?hz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gz=(t,e,n)=>pz(t,e+"",n);let mz=class extends dl{constructor(e,n){super(),this.core=e,this.logger=n,gz(this,"records",new Map)}},yz=class{constructor(e,n){this.logger=e,this.core=n}},wz=class extends dl{constructor(e,n){super(),this.relayer=e,this.logger=n}},bz=class extends dl{constructor(e){super()}},vz=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},Ez=class extends dl{constructor(e,n){super(),this.relayer=e,this.logger=n}},_z=class extends dl{constructor(e,n){super(),this.core=e,this.logger=n}},Cz=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},Sz=class{constructor(e,n){this.projectId=e,this.logger=n}},Az=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var Tz=Object.defineProperty,xz=(t,e,n)=>e in t?Tz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jx=(t,e,n)=>xz(t,typeof e!="symbol"?e+"":e,n);let Nz=class{constructor(e){this.opts=e,Jx(this,"protocol","wc"),Jx(this,"version",2)}},Iz=class{constructor(e){this.client=e}};function Rz(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function bP(t,...e){if(!Rz(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function eN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Oz(t,e){bP(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const iu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Pz(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function vP(t){return typeof t=="string"&&(t=Pz(t)),bP(t),t}let Dz=class{clone(){return this._cloneInto()}};function Uz(t){const e=r=>t().update(vP(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function EP(t=32){if(iu&&typeof iu.getRandomValues=="function")return iu.getRandomValues(new Uint8Array(t));if(iu&&typeof iu.randomBytes=="function")return iu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function $z(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),l=Number(n&i),d=r?4:0,f=r?0:4;t.setUint32(e+d,o,r),t.setUint32(e+f,l,r)}let kz=class extends Dz{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rv(this.buffer)}update(e){eN(this);const{view:n,buffer:r,blockLen:s}=this;e=vP(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const d=Rv(e);for(;s<=i-o;o+=s)this.process(d,o);continue}r.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){eN(this),Oz(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let g=o;g<s;g++)n[g]=0;$z(r,s-8,BigInt(this.length*8),i),this.process(r,0);const l=Rv(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)l.setUint32(4*g,p[g],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:l}=this;return e.length=s,e.pos=l,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const hm=BigInt(2**32-1),c1=BigInt(32);function _P(t,e=!1){return e?{h:Number(t&hm),l:Number(t>>c1&hm)}:{h:Number(t>>c1&hm)|0,l:Number(t&hm)|0}}function Mz(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=_P(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const Bz=(t,e)=>BigInt(t>>>0)<<c1|BigInt(e>>>0),Lz=(t,e,n)=>t>>>n,jz=(t,e,n)=>t<<32-n|e>>>n,Fz=(t,e,n)=>t>>>n|e<<32-n,zz=(t,e,n)=>t<<32-n|e>>>n,qz=(t,e,n)=>t<<64-n|e>>>n-32,Hz=(t,e,n)=>t>>>n-32|e<<64-n,Vz=(t,e)=>e,Gz=(t,e)=>t,Wz=(t,e,n)=>t<<n|e>>>32-n,Kz=(t,e,n)=>e<<n|t>>>32-n,Yz=(t,e,n)=>e<<n-32|t>>>64-n,Zz=(t,e,n)=>t<<n-32|e>>>64-n;function Qz(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Xz=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Jz=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,eq=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),tq=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,nq=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),rq=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,et={fromBig:_P,split:Mz,toBig:Bz,shrSH:Lz,shrSL:jz,rotrSH:Fz,rotrSL:zz,rotrBH:qz,rotrBL:Hz,rotr32H:Vz,rotr32L:Gz,rotlSH:Wz,rotlSL:Kz,rotlBH:Yz,rotlBL:Zz,add:Qz,add3L:Xz,add3H:Jz,add4L:eq,add4H:tq,add5H:rq,add5L:nq},[sq,iq]=et.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),oo=new Uint32Array(80),co=new Uint32Array(80);let aq=class extends kz{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:l,Dl:d,Eh:f,El:p,Fh:g,Fl:m,Gh:b,Gl:w,Hh:E,Hl:_}=this;return[e,n,r,s,i,o,l,d,f,p,g,m,b,w,E,_]}set(e,n,r,s,i,o,l,d,f,p,g,m,b,w,E,_){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=l|0,this.Dl=d|0,this.Eh=f|0,this.El=p|0,this.Fh=g|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=E|0,this.Hl=_|0}process(e,n){for(let A=0;A<16;A++,n+=4)oo[A]=e.getUint32(n),co[A]=e.getUint32(n+=4);for(let A=16;A<80;A++){const O=oo[A-15]|0,x=co[A-15]|0,T=et.rotrSH(O,x,1)^et.rotrSH(O,x,8)^et.shrSH(O,x,7),P=et.rotrSL(O,x,1)^et.rotrSL(O,x,8)^et.shrSL(O,x,7),U=oo[A-2]|0,S=co[A-2]|0,B=et.rotrSH(U,S,19)^et.rotrBH(U,S,61)^et.shrSH(U,S,6),L=et.rotrSL(U,S,19)^et.rotrBL(U,S,61)^et.shrSL(U,S,6),z=et.add4L(P,L,co[A-7],co[A-16]),K=et.add4H(z,T,B,oo[A-7],oo[A-16]);oo[A]=K|0,co[A]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:l,Cl:d,Dh:f,Dl:p,Eh:g,El:m,Fh:b,Fl:w,Gh:E,Gl:_,Hh:C,Hl:I}=this;for(let A=0;A<80;A++){const O=et.rotrSH(g,m,14)^et.rotrSH(g,m,18)^et.rotrBH(g,m,41),x=et.rotrSL(g,m,14)^et.rotrSL(g,m,18)^et.rotrBL(g,m,41),T=g&b^~g&E,P=m&w^~m&_,U=et.add5L(I,x,P,iq[A],co[A]),S=et.add5H(U,C,O,T,sq[A],oo[A]),B=U|0,L=et.rotrSH(r,s,28)^et.rotrBH(r,s,34)^et.rotrBH(r,s,39),z=et.rotrSL(r,s,28)^et.rotrBL(r,s,34)^et.rotrBL(r,s,39),K=r&i^r&l^i&l,G=s&o^s&d^o&d;C=E|0,I=_|0,E=b|0,_=w|0,b=g|0,w=m|0,{h:g,l:m}=et.add(f|0,p|0,S|0,B|0),f=l|0,p=d|0,l=i|0,d=o|0,i=r|0,o=s|0;const k=et.add3L(B,z,G);r=et.add3H(k,S,L,K),s=k|0}({h:r,l:s}=et.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=et.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:l,l:d}=et.add(this.Ch|0,this.Cl|0,l|0,d|0),{h:f,l:p}=et.add(this.Dh|0,this.Dl|0,f|0,p|0),{h:g,l:m}=et.add(this.Eh|0,this.El|0,g|0,m|0),{h:b,l:w}=et.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:E,l:_}=et.add(this.Gh|0,this.Gl|0,E|0,_|0),{h:C,l:I}=et.add(this.Hh|0,this.Hl|0,C|0,I|0),this.set(r,s,i,o,l,d,f,p,g,m,b,w,E,_,C,I)}roundClean(){oo.fill(0),co.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const oq=Uz(()=>new aq);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const M_=BigInt(0),CP=BigInt(1),cq=BigInt(2);function B_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function L_(t){if(!B_(t))throw new Error("Uint8Array expected")}function Ov(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const lq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function j_(t){L_(t);let e="";for(let n=0;n<t.length;n++)e+=lq[t[n]];return e}function SP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?M_:BigInt("0x"+t)}const oa={_0:48,_9:57,A:65,F:70,a:97,f:102};function tN(t){if(t>=oa._0&&t<=oa._9)return t-oa._0;if(t>=oa.A&&t<=oa.F)return t-(oa.A-10);if(t>=oa.a&&t<=oa.f)return t-(oa.a-10)}function AP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=tN(t.charCodeAt(i)),l=tN(t.charCodeAt(i+1));if(o===void 0||l===void 0){const d=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+i)}r[s]=o*16+l}return r}function uq(t){return SP(j_(t))}function Bm(t){return L_(t),SP(j_(Uint8Array.from(t).reverse()))}function TP(t,e){return AP(t.toString(16).padStart(e*2,"0"))}function l1(t,e){return TP(t,e).reverse()}function ca(t,e,n){let r;if(typeof e=="string")try{r=AP(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(B_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function nN(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];L_(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Pv=t=>typeof t=="bigint"&&M_<=t;function dq(t,e,n){return Pv(t)&&Pv(e)&&Pv(n)&&e<=t&&t<n}function xf(t,e,n,r){if(!dq(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function fq(t){let e;for(e=0;t>M_;t>>=CP,e+=1);return e}const hq=t=>(cq<<BigInt(t-1))-CP,pq={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||B_(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function F_(t,e,n={}){const r=(s,i,o)=>{const l=pq[i];if(typeof l!="function")throw new Error("invalid validator function");const d=t[s];if(!(o&&d===void 0)&&!l(d,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+d)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function rN(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Un=BigInt(0),on=BigInt(1),Sc=BigInt(2),gq=BigInt(3),u1=BigInt(4),sN=BigInt(5),iN=BigInt(8);function _n(t,e){const n=t%e;return n>=Un?n:e+n}function mq(t,e,n){if(e<Un)throw new Error("invalid exponent, negatives unsupported");if(n<=Un)throw new Error("invalid modulus");if(n===on)return Un;let r=on;for(;e>Un;)e&on&&(r=r*t%n),t=t*t%n,e>>=on;return r}function gi(t,e,n){let r=t;for(;e-- >Un;)r*=r,r%=n;return r}function aN(t,e){if(t===Un)throw new Error("invert: expected non-zero number");if(e<=Un)throw new Error("invert: expected positive modulus, got "+e);let n=_n(t,e),r=e,s=Un,i=on;for(;n!==Un;){const o=r/n,l=r%n,d=s-i*o;r=n,n=l,s=i,i=d}if(r!==on)throw new Error("invert: does not exist");return _n(s,e)}function yq(t){const e=(t-on)/Sc;let n,r,s;for(n=t-on,r=0;n%Sc===Un;n/=Sc,r++);for(s=Sc;s<t&&mq(s,e,t)!==t-on;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+on)/u1;return function(l,d){const f=l.pow(d,o);if(!l.eql(l.sqr(f),d))throw new Error("Cannot find square root");return f}}const i=(n+on)/Sc;return function(o,l){if(o.pow(l,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let d=r,f=o.pow(o.mul(o.ONE,s),n),p=o.pow(l,i),g=o.pow(l,n);for(;!o.eql(g,o.ONE);){if(o.eql(g,o.ZERO))return o.ZERO;let m=1;for(let w=o.sqr(g);m<d&&!o.eql(w,o.ONE);m++)w=o.sqr(w);const b=o.pow(f,on<<BigInt(d-m-1));f=o.sqr(b),p=o.mul(p,b),g=o.mul(g,f),d=m}return p}}function wq(t){if(t%u1===gq){const e=(t+on)/u1;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%iN===sN){const e=(t-sN)/iN;return function(n,r){const s=n.mul(r,Sc),i=n.pow(s,e),o=n.mul(r,i),l=n.mul(n.mul(o,Sc),i),d=n.mul(o,n.sub(l,n.ONE));if(!n.eql(n.sqr(d),r))throw new Error("Cannot find square root");return d}}return yq(t)}const bq=(t,e)=>(_n(t,e)&on)===on,vq=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Eq(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=vq.reduce((r,s)=>(r[s]="function",r),e);return F_(t,n)}function _q(t,e,n){if(n<Un)throw new Error("invalid exponent, negatives unsupported");if(n===Un)return t.ONE;if(n===on)return e;let r=t.ONE,s=e;for(;n>Un;)n&on&&(r=t.mul(r,s)),s=t.sqr(s),n>>=on;return r}function Cq(t,e){const n=new Array(e.length),r=e.reduce((i,o,l)=>t.is0(o)?i:(n[l]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,l)=>t.is0(o)?i:(n[l]=t.mul(i,n[l]),t.mul(i,o)),s),n}function xP(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function NP(t,e,n=!1,r={}){if(t<=Un)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=xP(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const l=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:hq(s),ZERO:Un,ONE:on,create:d=>_n(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Un<=d&&d<t},is0:d=>d===Un,isOdd:d=>(d&on)===on,neg:d=>_n(-d,t),eql:(d,f)=>d===f,sqr:d=>_n(d*d,t),add:(d,f)=>_n(d+f,t),sub:(d,f)=>_n(d-f,t),mul:(d,f)=>_n(d*f,t),pow:(d,f)=>_q(l,d,f),div:(d,f)=>_n(d*aN(f,t),t),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>aN(d,t),sqrt:r.sqrt||(d=>(o||(o=wq(t)),o(l,d))),invertBatch:d=>Cq(l,d),cmov:(d,f,p)=>p?f:d,toBytes:d=>n?l1(d,i):TP(d,i),fromBytes:d=>{if(d.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+d.length);return n?Bm(d):uq(d)}});return Object.freeze(l)}const oN=BigInt(0),pm=BigInt(1);function Dv(t,e){const n=e.negate();return t?n:e}function IP(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Uv(t,e){IP(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Sq(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Aq(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const $v=new WeakMap,RP=new WeakMap;function kv(t){return RP.get(t)||1}function Tq(t,e){return{constTimeNegate:Dv,hasPrecomputes(n){return kv(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>oN;)r&pm&&(s=s.add(i)),i=i.double(),r>>=pm;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Uv(r,e),o=[];let l=n,d=l;for(let f=0;f<s;f++){d=l,o.push(d);for(let p=1;p<i;p++)d=d.add(l),o.push(d);l=d.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=Uv(n,e);let l=t.ZERO,d=t.BASE;const f=BigInt(2**n-1),p=2**n,g=BigInt(n);for(let m=0;m<i;m++){const b=m*o;let w=Number(s&f);s>>=g,w>o&&(w-=p,s+=pm);const E=b,_=b+Math.abs(w)-1,C=m%2!==0,I=w<0;w===0?d=d.add(Dv(C,r[E])):l=l.add(Dv(I,r[_]))}return{p:l,f:d}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:l}=Uv(n,e),d=BigInt(2**n-1),f=2**n,p=BigInt(n);for(let g=0;g<o;g++){const m=g*l;if(s===oN)break;let b=Number(s&d);if(s>>=p,b>l&&(b-=f,s+=pm),b===0)continue;let w=r[m+Math.abs(b)-1];b<0&&(w=w.negate()),i=i.add(w)}return i},getPrecomputes(n,r,s){let i=$v.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&$v.set(r,s(i))),i},wNAFCached(n,r,s){const i=kv(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=kv(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){IP(r,e),RP.set(n,r),$v.delete(n)}}}function xq(t,e,n,r){if(Sq(n,t),Aq(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=fq(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,l=(1<<o)-1,d=new Array(l+1).fill(s),f=Math.floor((e.BITS-1)/o)*o;let p=s;for(let g=f;g>=0;g-=o){d.fill(s);for(let b=0;b<r.length;b++){const w=r[b],E=Number(w>>BigInt(g)&BigInt(l));d[E]=d[E].add(n[b])}let m=s;for(let b=d.length-1,w=s;b>0;b--)w=w.add(d[b]),m=m.add(w);if(p=p.add(m),g!==0)for(let b=0;b<o;b++)p=p.double()}return p}function Nq(t){return Eq(t.Fp),F_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xP(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const js=BigInt(0),Sr=BigInt(1),gm=BigInt(2),Iq=BigInt(8),Rq={zip215:!0};function Oq(t){const e=Nq(t);return F_(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Pq(t){const e=Oq(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:l,h:d}=e,f=gm<<BigInt(l*8)-Sr,p=n.create,g=NP(e.n,e.nBitLength),m=e.uvRatio||((k,R)=>{try{return{isValid:!0,value:n.sqrt(k*n.inv(R))}}catch{return{isValid:!1,value:js}}}),b=e.adjustScalarBytes||(k=>k),w=e.domain||((k,R,F)=>{if(Ov("phflag",F),R.length||F)throw new Error("Contexts/pre-hash are not supported");return k});function E(k,R){xf("coordinate "+k,R,js,f)}function _(k){if(!(k instanceof A))throw new Error("ExtendedPoint expected")}const C=rN((k,R)=>{const{ex:F,ey:V,ez:W}=k,D=k.is0();R==null&&(R=D?Iq:n.inv(W));const q=p(F*R),X=p(V*R),te=p(W*R);if(D)return{x:js,y:Sr};if(te!==Sr)throw new Error("invZ was invalid");return{x:q,y:X}}),I=rN(k=>{const{a:R,d:F}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:V,ey:W,ez:D,et:q}=k,X=p(V*V),te=p(W*W),ee=p(D*D),ie=p(ee*ee),se=p(X*R),Ae=p(ee*p(se+te)),ge=p(ie+p(F*p(X*te)));if(Ae!==ge)throw new Error("bad point: equation left != right (1)");const _e=p(V*W),qe=p(D*q);if(_e!==qe)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(R,F,V,W){this.ex=R,this.ey=F,this.ez=V,this.et=W,E("x",R),E("y",F),E("z",V),E("t",W),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(R){if(R instanceof A)throw new Error("extended point not allowed");const{x:F,y:V}=R||{};return E("x",F),E("y",V),new A(F,V,Sr,p(F*V))}static normalizeZ(R){const F=n.invertBatch(R.map(V=>V.ez));return R.map((V,W)=>V.toAffine(F[W])).map(A.fromAffine)}static msm(R,F){return xq(A,g,R,F)}_setWindowSize(R){T.setWindowSize(this,R)}assertValidity(){I(this)}equals(R){_(R);const{ex:F,ey:V,ez:W}=this,{ex:D,ey:q,ez:X}=R,te=p(F*X),ee=p(D*W),ie=p(V*X),se=p(q*W);return te===ee&&ie===se}is0(){return this.equals(A.ZERO)}negate(){return new A(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:R}=e,{ex:F,ey:V,ez:W}=this,D=p(F*F),q=p(V*V),X=p(gm*p(W*W)),te=p(R*D),ee=F+V,ie=p(p(ee*ee)-D-q),se=te+q,Ae=se-X,ge=te-q,_e=p(ie*Ae),qe=p(se*ge),Je=p(ie*ge),vt=p(Ae*se);return new A(_e,qe,vt,Je)}add(R){_(R);const{a:F,d:V}=e,{ex:W,ey:D,ez:q,et:X}=this,{ex:te,ey:ee,ez:ie,et:se}=R;if(F===BigInt(-1)){const Pa=p((D-W)*(ee+te)),Da=p((D+W)*(ee-te)),lt=p(Da-Pa);if(lt===js)return this.double();const Zt=p(q*gm*se),Fi=p(X*gm*ie),Zo=Fi+Zt,ml=Da+Pa,oi=Fi-Zt,ar=p(Zo*lt),ci=p(ml*oi),or=p(Zo*oi),C0=p(lt*ml);return new A(ar,ci,C0,or)}const Ae=p(W*te),ge=p(D*ee),_e=p(X*V*se),qe=p(q*ie),Je=p((W+D)*(te+ee)-Ae-ge),vt=qe-_e,gn=qe+_e,Sn=p(ge-F*Ae),as=p(Je*vt),gr=p(gn*Sn),ln=p(Je*Sn),Oa=p(vt*gn);return new A(as,gr,Oa,ln)}subtract(R){return this.add(R.negate())}wNAF(R){return T.wNAFCached(this,R,A.normalizeZ)}multiply(R){const F=R;xf("scalar",F,Sr,r);const{p:V,f:W}=this.wNAF(F);return A.normalizeZ([V,W])[0]}multiplyUnsafe(R,F=A.ZERO){const V=R;return xf("scalar",V,js,r),V===js?x:this.is0()||V===Sr?this:T.wNAFCachedUnsafe(this,V,A.normalizeZ,F)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(R){return C(this,R)}clearCofactor(){const{h:R}=e;return R===Sr?this:this.multiplyUnsafe(R)}static fromHex(R,F=!1){const{d:V,a:W}=e,D=n.BYTES;R=ca("pointHex",R,D),Ov("zip215",F);const q=R.slice(),X=R[D-1];q[D-1]=X&-129;const te=Bm(q),ee=F?f:n.ORDER;xf("pointHex.y",te,js,ee);const ie=p(te*te),se=p(ie-Sr),Ae=p(V*ie-W);let{isValid:ge,value:_e}=m(se,Ae);if(!ge)throw new Error("Point.fromHex: invalid y coordinate");const qe=(_e&Sr)===Sr,Je=(X&128)!==0;if(!F&&_e===js&&Je)throw new Error("Point.fromHex: x=0 and x_0=1");return Je!==qe&&(_e=p(-_e)),A.fromAffine({x:_e,y:te})}static fromPrivateKey(R){return S(R).point}toRawBytes(){const{x:R,y:F}=this.toAffine(),V=l1(F,n.BYTES);return V[V.length-1]|=R&Sr?128:0,V}toHex(){return j_(this.toRawBytes())}}A.BASE=new A(e.Gx,e.Gy,Sr,p(e.Gx*e.Gy)),A.ZERO=new A(js,Sr,Sr,js);const{BASE:O,ZERO:x}=A,T=Tq(A,l*8);function P(k){return _n(k,r)}function U(k){return P(Bm(k))}function S(k){const R=n.BYTES;k=ca("private key",k,R);const F=ca("hashed private key",i(k),2*R),V=b(F.slice(0,R)),W=F.slice(R,2*R),D=U(V),q=O.multiply(D),X=q.toRawBytes();return{head:V,prefix:W,scalar:D,point:q,pointBytes:X}}function B(k){return S(k).pointBytes}function L(k=new Uint8Array,...R){const F=nN(...R);return U(i(w(F,ca("context",k),!!s)))}function z(k,R,F={}){k=ca("message",k),s&&(k=s(k));const{prefix:V,scalar:W,pointBytes:D}=S(R),q=L(F.context,V,k),X=O.multiply(q).toRawBytes(),te=L(F.context,X,D,k),ee=P(q+te*W);xf("signature.s",ee,js,r);const ie=nN(X,l1(ee,n.BYTES));return ca("result",ie,n.BYTES*2)}const K=Rq;function G(k,R,F,V=K){const{context:W,zip215:D}=V,q=n.BYTES;k=ca("signature",k,2*q),R=ca("message",R),F=ca("publicKey",F,q),D!==void 0&&Ov("zip215",D),s&&(R=s(R));const X=Bm(k.slice(q,2*q));let te,ee,ie;try{te=A.fromHex(F,D),ee=A.fromHex(k.slice(0,q),D),ie=O.multiplyUnsafe(X)}catch{return!1}if(!D&&te.isSmallOrder())return!1;const se=L(W,ee.toRawBytes(),te.toRawBytes(),R);return ee.add(te.multiplyUnsafe(se)).subtract(ie).clearCofactor().equals(A.ZERO)}return O._setWindowSize(8),{CURVE:e,getPublicKey:B,sign:z,verify:G,ExtendedPoint:A,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>o(n.BYTES),precompute(k=8,R=A.BASE){return R._setWindowSize(k),R.multiply(BigInt(3)),R}}}}BigInt(0),BigInt(1);const z_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),cN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Dq=BigInt(1),lN=BigInt(2);BigInt(3);const Uq=BigInt(5),$q=BigInt(8);function kq(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=z_,o=t*t%i*t%i,l=gi(o,lN,i)*o%i,d=gi(l,Dq,i)*t%i,f=gi(d,Uq,i)*d%i,p=gi(f,e,i)*f%i,g=gi(p,n,i)*p%i,m=gi(g,r,i)*g%i,b=gi(m,s,i)*m%i,w=gi(b,s,i)*m%i,E=gi(w,e,i)*f%i;return{pow_p_5_8:gi(E,lN,i)*t%i,b2:o}}function Mq(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Bq(t,e){const n=z_,r=_n(e*e*e,n),s=_n(r*r*e,n),i=kq(t*s).pow_p_5_8;let o=_n(t*r*i,n);const l=_n(e*o*o,n),d=o,f=_n(o*cN,n),p=l===t,g=l===_n(-t,n),m=l===_n(-t*cN,n);return p&&(o=d),(g||m)&&(o=f),bq(o,n)&&(o=_n(-o,n)),{isValid:p||g,value:o}}const Lq=NP(z_,void 0,!0),jq={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Lq,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:$q,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:oq,randomBytes:EP,adjustScalarBytes:Mq,uvRatio:Bq},OP=Pq(jq),Fq="EdDSA",zq="JWT",gy=".",s0="base64url",PP="utf8",DP="utf8",qq=":",Hq="did",Vq="key",uN="base58btc",Gq="z",Wq="K36",Kq=32;function q_(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function UP(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?q_(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function $P(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=UP(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return q_(n)}function Yq(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var l=t.length,d=t.charAt(0),f=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var E=0,_=0,C=0,I=w.length;C!==I&&w[C]===0;)C++,E++;for(var A=(I-C)*p+1>>>0,O=new Uint8Array(A);C!==I;){for(var x=w[C],T=0,P=A-1;(x!==0||T<_)&&P!==-1;P--,T++)x+=256*O[P]>>>0,O[P]=x%l>>>0,x=x/l>>>0;if(x!==0)throw new Error("Non-zero carry");_=T,C++}for(var U=A-_;U!==A&&O[U]===0;)U++;for(var S=d.repeat(E);U<A;++U)S+=t.charAt(O[U]);return S}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var E=0;if(w[E]!==" "){for(var _=0,C=0;w[E]===d;)_++,E++;for(var I=(w.length-E)*f+1>>>0,A=new Uint8Array(I);w[E];){var O=n[w.charCodeAt(E)];if(O===255)return;for(var x=0,T=I-1;(O!==0||x<C)&&T!==-1;T--,x++)O+=l*A[T]>>>0,A[T]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=x,E++}if(w[E]!==" "){for(var P=I-C;P!==I&&A[P]===0;)P++;for(var U=new Uint8Array(_+(I-P)),S=_;P!==I;)U[S++]=A[P++];return U}}}function b(w){var E=m(w);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:m,decode:b}}var Zq=Yq,Qq=Zq;const kP=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Xq=t=>new TextEncoder().encode(t),Jq=t=>new TextDecoder().decode(t);let eH=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},tH=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return MP(this,e)}},nH=class{constructor(e){this.decoders=e}or(e){return MP(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const MP=(t,e)=>new nH({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let rH=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new eH(e,n,r),this.decoder=new tH(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const i0=({name:t,prefix:e,encode:n,decode:r})=>new rH(t,e,n,r),xp=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Qq(n,e);return i0({prefix:t,name:e,encode:r,decode:i=>kP(s(i))})},sH=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let l=0,d=0,f=0;for(let p=0;p<i;++p){const g=s[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|g,l+=n,l>=8&&(l-=8,o[f++]=255&d>>l)}if(l>=n||255&d<<8-l)throw new SyntaxError("Unexpected end of data");return o},iH=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,l=0;for(let d=0;d<t.length;++d)for(l=l<<8|t[d],o+=8;o>n;)o-=n,i+=e[s&l>>o];if(o&&(i+=e[s&l<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Gn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>i0({prefix:e,name:t,encode(s){return iH(s,r,n)},decode(s){return sH(s,r,n,t)}}),aH=i0({prefix:"\0",name:"identity",encode:t=>Jq(t),decode:t=>Xq(t)});var oH=Object.freeze({__proto__:null,identity:aH});const cH=Gn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var lH=Object.freeze({__proto__:null,base2:cH});const uH=Gn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var dH=Object.freeze({__proto__:null,base8:uH});const fH=xp({prefix:"9",name:"base10",alphabet:"0123456789"});var hH=Object.freeze({__proto__:null,base10:fH});const pH=Gn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gH=Gn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var mH=Object.freeze({__proto__:null,base16:pH,base16upper:gH});const yH=Gn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wH=Gn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bH=Gn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vH=Gn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),EH=Gn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_H=Gn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),CH=Gn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),SH=Gn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),AH=Gn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var TH=Object.freeze({__proto__:null,base32:yH,base32upper:wH,base32pad:bH,base32padupper:vH,base32hex:EH,base32hexupper:_H,base32hexpad:CH,base32hexpadupper:SH,base32z:AH});const xH=xp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),NH=xp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var IH=Object.freeze({__proto__:null,base36:xH,base36upper:NH});const RH=xp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),OH=xp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var PH=Object.freeze({__proto__:null,base58btc:RH,base58flickr:OH});const DH=Gn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),UH=Gn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$H=Gn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kH=Gn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var MH=Object.freeze({__proto__:null,base64:DH,base64pad:UH,base64url:$H,base64urlpad:kH});const BP=Array.from(""),BH=BP.reduce((t,e,n)=>(t[n]=e,t),[]),LH=BP.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function jH(t){return t.reduce((e,n)=>(e+=BH[n],e),"")}function FH(t){const e=[];for(const n of t){const r=LH[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const zH=i0({prefix:"",name:"base256emoji",encode:jH,decode:FH});var qH=Object.freeze({__proto__:null,base256emoji:zH}),HH=LP,dN=128,VH=-128,GH=Math.pow(2,31);function LP(t,e,n){e=e||[],n=n||0;for(var r=n;t>=GH;)e[n++]=t&255|dN,t/=128;for(;t&VH;)e[n++]=t&255|dN,t>>>=7;return e[n]=t|0,LP.bytes=n-r+1,e}var WH=d1,KH=128,fN=127;function d1(t,r){var n=0,r=r||0,s=0,i=r,o,l=t.length;do{if(i>=l)throw d1.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&fN)<<s:(o&fN)*Math.pow(2,s),s+=7}while(o>=KH);return d1.bytes=i-r,n}var YH=Math.pow(2,7),ZH=Math.pow(2,14),QH=Math.pow(2,21),XH=Math.pow(2,28),JH=Math.pow(2,35),eV=Math.pow(2,42),tV=Math.pow(2,49),nV=Math.pow(2,56),rV=Math.pow(2,63),sV=function(t){return t<YH?1:t<ZH?2:t<QH?3:t<XH?4:t<JH?5:t<eV?6:t<tV?7:t<nV?8:t<rV?9:10},iV={encode:HH,decode:WH,encodingLength:sV},jP=iV;const hN=(t,e,n=0)=>(jP.encode(t,e,n),e),pN=t=>jP.encodingLength(t),f1=(t,e)=>{const n=e.byteLength,r=pN(t),s=r+pN(n),i=new Uint8Array(s+n);return hN(t,i,0),hN(n,i,r),i.set(e,s),new aV(t,n,e,i)};let aV=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const FP=({name:t,code:e,encode:n})=>new oV(t,e,n);let oV=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?f1(this.code,n):n.then(r=>f1(this.code,r))}else throw Error("Unknown type, must be binary type")}};const zP=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),cV=FP({name:"sha2-256",code:18,encode:zP("SHA-256")}),lV=FP({name:"sha2-512",code:19,encode:zP("SHA-512")});var uV=Object.freeze({__proto__:null,sha256:cV,sha512:lV});const qP=0,dV="identity",HP=kP,fV=t=>f1(qP,HP(t)),hV={code:qP,name:dV,encode:HP,digest:fV};var pV=Object.freeze({__proto__:null,identity:hV});new TextEncoder,new TextDecoder;const gN={...oH,...lH,...dH,...hH,...mH,...TH,...IH,...PH,...MH,...qH};({...uV,...pV});function VP(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const mN=VP("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Mv=VP("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=UP(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),GP={utf8:mN,"utf-8":mN,hex:gN.base16,latin1:Mv,ascii:Mv,binary:Mv,...gN};function a0(t,e="utf8"){const n=GP[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function fd(t,e="utf8"){const n=GP[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?q_(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function yN(t){return el(a0(fd(t,s0),PP))}function my(t){return a0(fd(Ta(t),PP),s0)}function WP(t){const e=fd(Wq,uN),n=Gq+a0($P([e,t]),uN);return[Hq,Vq,n].join(qq)}function gV(t){return a0(t,s0)}function mV(t){return fd(t,s0)}function yV(t){return fd([my(t.header),my(t.payload)].join(gy),DP)}function wV(t){return[my(t.header),my(t.payload),gV(t.signature)].join(gy)}function h1(t){const e=t.split(gy),n=yN(e[0]),r=yN(e[1]),s=mV(e[2]),i=fd(e.slice(0,2).join(gy),DP);return{header:n,payload:r,signature:s,data:i}}function wN(t=EP(Kq)){const e=OP.getPublicKey(t);return{secretKey:$P([t,e]),publicKey:e}}async function bV(t,e,n,r,s=ye.fromMiliseconds(Date.now())){const i={alg:Fq,typ:zq},o=WP(r.publicKey),l=s+n,d={iss:o,sub:t,aud:e,iat:s,exp:l},f=yV({header:i,payload:d}),p=OP.sign(f,r.secretKey.slice(0,32));return wV({header:i,payload:d,signature:p})}var bN=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},vV=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),EV=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),_V=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),CV=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),SV=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),AV=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,TV=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,vN=3,xV=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",AV]],EN=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function NV(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new SV:typeof navigator<"u"?RV(navigator.userAgent):PV()}function IV(t){return t!==""&&xV.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function RV(t){var e=IV(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new CV;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<vN&&(s=bN(bN([],s,!0),DV(vN-s.length),!0)):s=[];var i=s.join("."),o=OV(t),l=TV.exec(t);return l&&l[1]?new _V(n,i,o,l[1]):new vV(n,i,o)}function OV(t){for(var e=0,n=EN.length;e<n;e++){var r=EN[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function PV(){var t=typeof process<"u"&&process.version;return t?new EV(process.version.slice(1)):null}function DV(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Mt={},_N;function KP(){if(_N)return Mt;_N=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.getLocalStorage=Mt.getLocalStorageOrThrow=Mt.getCrypto=Mt.getCryptoOrThrow=Mt.getLocation=Mt.getLocationOrThrow=Mt.getNavigator=Mt.getNavigatorOrThrow=Mt.getDocument=Mt.getDocumentOrThrow=Mt.getFromWindowOrThrow=Mt.getFromWindow=void 0;function t(m){let b;return typeof window<"u"&&typeof window[m]<"u"&&(b=window[m]),b}Mt.getFromWindow=t;function e(m){const b=t(m);if(!b)throw new Error(`${m} is not defined in Window`);return b}Mt.getFromWindowOrThrow=e;function n(){return e("document")}Mt.getDocumentOrThrow=n;function r(){return t("document")}Mt.getDocument=r;function s(){return e("navigator")}Mt.getNavigatorOrThrow=s;function i(){return t("navigator")}Mt.getNavigator=i;function o(){return e("location")}Mt.getLocationOrThrow=o;function l(){return t("location")}Mt.getLocation=l;function d(){return e("crypto")}Mt.getCryptoOrThrow=d;function f(){return t("crypto")}Mt.getCrypto=f;function p(){return e("localStorage")}Mt.getLocalStorageOrThrow=p;function g(){return t("localStorage")}return Mt.getLocalStorage=g,Mt}var xa=KP(),Nf={},CN;function UV(){if(CN)return Nf;CN=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.getWindowMetadata=void 0;const t=KP();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function s(){const b=n.getElementsByTagName("link"),w=[];for(let E=0;E<b.length;E++){const _=b[E],C=_.getAttribute("rel");if(C&&C.toLowerCase().indexOf("icon")>-1){const I=_.getAttribute("href");if(I)if(I.toLowerCase().indexOf("https:")===-1&&I.toLowerCase().indexOf("http:")===-1&&I.indexOf("//")!==0){let A=r.protocol+"//"+r.host;if(I.indexOf("/")===0)A+=I;else{const O=r.pathname.split("/");O.pop();const x=O.join("/");A+=x+"/"+I}w.push(A)}else if(I.indexOf("//")===0){const A=r.protocol+I;w.push(A)}else w.push(I)}}return w}function i(...b){const w=n.getElementsByTagName("meta");for(let E=0;E<w.length;E++){const _=w[E],C=["itemprop","property","name"].map(I=>_.getAttribute(I)).filter(I=>I?b.includes(I):!1);if(C.length&&C){const I=_.getAttribute("content");if(I)return I}}return""}function o(){let b=i("name","og:site_name","og:title","twitter:title");return b||(b=n.title),b}function l(){return i("description","og:description","twitter:description","keywords")}const d=o(),f=l(),p=r.origin,g=s();return{description:f,url:p,icons:g,name:d}}return Nf.getWindowMetadata=e,Nf}var $V=UV();function Gh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function p1(t){return Gh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const YP="2.31.0";let If={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${YP}`};class tl extends Error{constructor(e,n={}){var l;const r=(()=>{var d;return n.cause instanceof tl?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof tl&&n.cause.docsPath||n.docsPath,i=(l=If.getDocsUrl)==null?void 0:l.call(If,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...If.version?[`Version: ${If.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=YP}walk(e){return ZP(this,e)}}function ZP(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?ZP(t.cause,e):e?null:t}class QP extends tl{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function hd(t,{dir:e,size:n=32}={}){return typeof t=="string"?kV(t,{dir:e,size:n}):MV(t,{dir:e,size:n})}function kV(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new QP({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function MV(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new QP({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class BV extends tl{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class LV extends tl{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function pd(t,{size:e}){if(p1(t)>e)throw new LV({givenSize:p1(t),maxSize:e})}function g1(t,e={}){const{signed:n}=e;e.size&&pd(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function jV(t,e={}){return Number(g1(t,e))}const FV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function m1(t,e={}){return typeof t=="number"||typeof t=="bigint"?JP(t,e):typeof t=="string"?HV(t,e):typeof t=="boolean"?zV(t,e):XP(t,e)}function zV(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(pd(n,{size:e.size}),hd(n,{size:e.size})):n}function XP(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=FV[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(pd(r,{size:e.size}),hd(r,{dir:"right",size:e.size})):r}function JP(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const d=typeof t=="bigint"?"n":"";throw new BV({max:i?`${i}${d}`:void 0,min:`${o}${d}`,signed:n,size:r,value:`${t}${d}`})}const l=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?hd(l,{size:r}):l}const qV=new TextEncoder;function HV(t,e={}){const n=qV.encode(t);return XP(n,e)}const VV=new TextEncoder;function GV(t,e={}){return typeof t=="number"||typeof t=="bigint"?KV(t,e):typeof t=="boolean"?WV(t,e):Gh(t)?eD(t,e):tD(t,e)}function WV(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(pd(n,{size:e.size}),hd(n,{size:e.size})):n}const la={zero:48,nine:57,A:65,F:70,a:97,f:102};function SN(t){if(t>=la.zero&&t<=la.nine)return t-la.zero;if(t>=la.A&&t<=la.F)return t-(la.A-10);if(t>=la.a&&t<=la.f)return t-(la.a-10)}function eD(t,e={}){let n=t;e.size&&(pd(n,{size:e.size}),n=hd(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,l=0;o<s;o++){const d=SN(r.charCodeAt(l++)),f=SN(r.charCodeAt(l++));if(d===void 0||f===void 0)throw new tl(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);i[o]=d*16+f}return i}function KV(t,e){const n=JP(t,e);return eD(n)}function tD(t,e={}){const n=VV.encode(t);return typeof e.size=="number"?(pd(n,{size:e.size}),hd(n,{dir:"right",size:e.size})):n}function nD(t,e){const n=e||"hex",r=YO(Gh(t,{strict:!1})?GV(t):t);return n==="bytes"?r:m1(r)}class YV extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Bv=new YV(8192);function ZV(t,e){if(Bv.has(`${t}.${e}`))return Bv.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=nD(tD(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Bv.set(`${t}.${e}`,i),i}function QV(t){const e=nD(`0x${t.substring(4)}`).substring(26);return ZV(`0x${e}`)}async function XV({hash:t,signature:e}){const n=Gh(t)?t:m1(t),{secp256k1:r}=await Wt(async()=>{const{secp256k1:o}=await import("./secp256k1-VBGElX6C.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:f,s:p,v:g,yParity:m}=e,b=Number(m??g),w=AN(b);return new r.Signature(g1(f),g1(p)).addRecoveryBit(w)}const o=Gh(e)?e:m1(e);if(p1(o)!==65)throw new Error("invalid signature length");const l=jV(`0x${o.slice(130)}`),d=AN(l);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function AN(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function JV({hash:t,signature:e}){return QV(await XV({hash:t,signature:e}))}function eG(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let f=0;f<e.length;f++)e[f]=255;for(let f=0;f<t.length;f++){const p=t.charAt(f),g=p.charCodeAt(0);if(e[g]!==255)throw new TypeError(p+" is ambiguous");e[g]=f}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let p=0,g=0,m=0;const b=f.length;for(;m!==b&&f[m]===0;)m++,p++;const w=(b-m)*i+1>>>0,E=new Uint8Array(w);for(;m!==b;){let I=f[m],A=0;for(let O=w-1;(I!==0||A<g)&&O!==-1;O--,A++)I+=256*E[O]>>>0,E[O]=I%n>>>0,I=I/n>>>0;if(I!==0)throw new Error("Non-zero carry");g=A,m++}let _=w-g;for(;_!==w&&E[_]===0;)_++;let C=r.repeat(p);for(;_<w;++_)C+=t.charAt(E[_]);return C}function l(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let p=0,g=0,m=0;for(;f[p]===r;)g++,p++;const b=(f.length-p)*s+1>>>0,w=new Uint8Array(b);for(;p<f.length;){const I=f.charCodeAt(p);if(I>255)return;let A=e[I];if(A===255)return;let O=0;for(let x=b-1;(A!==0||O<m)&&x!==-1;x--,O++)A+=n*w[x]>>>0,w[x]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");m=O,p++}let E=b-m;for(;E!==b&&w[E]===0;)E++;const _=new Uint8Array(g+(b-E));let C=g;for(;E!==b;)_[C++]=w[E++];return _}function d(f){const p=l(f);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:l,decode:d}}var tG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const gd=eG(tG);function nG(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if((s&4294967168)===0){n++;continue}else if((s&4294965248)===0)n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?n+=3:n+=4}}return n}function rG(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if((o&4294967168)===0){e[s++]=o;continue}else if((o&4294965248)===0)e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const l=t.charCodeAt(i);(l&64512)===56320&&(++i,o=((o&1023)<<10)+(l&1023)+65536)}(o&4294901760)===0?(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128):(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128)}e[s++]=o&63|128}}const sG=new TextEncoder,iG=50;function aG(t,e,n){sG.encodeInto(t,e.subarray(n))}function oG(t,e,n){t.length>iG?aG(t,e,n):rG(t,e,n)}const cG=4096;function rD(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const l=t[r++];if((l&128)===0)i.push(l);else if((l&224)===192){const d=t[r++]&63;i.push((l&31)<<6|d)}else if((l&240)===224){const d=t[r++]&63,f=t[r++]&63;i.push((l&31)<<12|d<<6|f)}else if((l&248)===240){const d=t[r++]&63,f=t[r++]&63,p=t[r++]&63;let g=(l&7)<<18|d<<12|f<<6|p;g>65535&&(g-=65536,i.push(g>>>10&1023|55296),g=56320|g&1023),i.push(g)}else i.push(l);i.length>=cG&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const lG=new TextDecoder,uG=200;function dG(t,e,n){const r=t.subarray(e,e+n);return lG.decode(r)}function fG(t,e,n){return n>uG?dG(t,e,n):rD(t,e,n)}class mm{constructor(e,n){this.type=e,this.data=n}}class Jr extends Error{constructor(e){super(e);const n=Object.create(Jr.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Jr.name})}}const Rf=4294967295;function hG(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function sD(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function iD(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function pG(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const gG=-1,mG=4294967296-1,yG=17179869184-1;function wG({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=yG)if(e===0&&t<=mG){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),sD(r,4,t),n}}function bG(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function vG(t){if(t instanceof Date){const e=bG(t);return wG(e)}else return null}function EG(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=iD(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Jr(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function _G(t){const e=EG(t);return new Date(e.sec*1e3+e.nsec/1e6)}const CG={type:gG,encode:vG,decode:_G};class yy{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(CG)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new mm(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new mm(o,i)}}}return e instanceof mm?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new mm(n,e)}}yy.defaultCodec=new yy;function SG(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function y1(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):SG(t)?new Uint8Array(t):Uint8Array.from(t)}const AG=100,TG=2048;let xG=class aD{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??yy.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??AG,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??TG,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new aD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=nG(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),oG(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=y1(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),hG(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),sD(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function NG(t,e){return new xG(e).encodeSharedRef(t)}function Lv(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const IG=16,RG=16;class OG{constructor(e=IG,n=RG){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let l=0;l<r;l++)if(o[l]!==e[n+l])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=rD(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const w1="array",rh="map_key",oD="map_value",PG=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Jr("The type of key must be string or number but "+typeof t)};class DG{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=w1,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=rh,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===w1){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===rh||e.type===oD){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Of=-1,H_=new DataView(new ArrayBuffer(0)),UG=new Uint8Array(H_.buffer);try{H_.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const TN=new RangeError("Insufficient data"),$G=new OG;let kG=class cD{constructor(e){this.totalPos=0,this.pos=0,this.view=H_,this.bytes=UG,this.headByte=Of,this.stack=new DG,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??yy.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??Rf,this.maxBinLength=(e==null?void 0:e.maxBinLength)??Rf,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??Rf,this.maxMapLength=(e==null?void 0:e.maxMapLength)??Rf,this.maxExtLength=(e==null?void 0:e.maxExtLength)??Rf,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:$G,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??PG}clone(){return new cD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Of,this.stack.reset()}setBuffer(e){const n=y1(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Of&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=y1(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const l of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(l);try{r=this.doDecodeSync(),n=!0}catch(d){if(!(d instanceof RangeError))throw d}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Lv(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new Jr(`Unrecognized type byte: ${Lv(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===w1)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===rh){if(n==="__proto__")throw new Jr("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=oD;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=rh;continue e}}return n}}readHeadByte(){return this.headByte===Of&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Of}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Jr(`Unrecognized array type byte: ${Lv(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Jr(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Jr(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new Jr(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw TN;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=fG(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===rh:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Jr(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw TN;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new Jr(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=pG(this.view,this.pos);return this.pos+=8,e}readI64(){const e=iD(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function MG(t,e){return new kG(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BG(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function lD(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function wy(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function V_(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function b1(t){if(!Array.isArray(t))throw new Error("array expected")}function by(t,e){if(!lD(!0,e))throw new Error(`${t}: array of strings expected`)}function LG(t,e){if(!lD(!1,e))throw new Error(`${t}: array of numbers expected`)}function jG(...t){const e=i=>i,n=(i,o)=>l=>i(o(l)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function FG(t){const e=typeof t=="string"?t.split(""):t,n=e.length;by("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(b1(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(b1(s),s.map(i=>{wy("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function zG(t=""){return wy("join",t),{encode:e=>(by("join.decode",e),e.join(t)),decode:e=>(wy("join.decode",e),e.split(t))}}function qG(t,e="="){return V_(t),wy("padding",e),{encode(n){for(by("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){by("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const uD=(t,e)=>e===0?t:uD(e,t%e),vy=(t,e)=>t+(e-uD(t,e)),jv=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function xN(t,e,n,r){if(b1(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(vy(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${vy(e,n)}`);let s=0,i=0;const o=jv[e],l=jv[n]-1,d=[];for(const f of t){if(V_(f),f>=o)throw new Error(`convertRadix2: invalid data word=${f} from=${e}`);if(s=s<<e|f,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)d.push((s>>i-n&l)>>>0);const p=jv[i];if(p===void 0)throw new Error("invalid carry");s&=p-1}if(s=s<<n-i&l,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&d.push(s>>>0),d}function HG(t,e=!1){if(V_(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(vy(8,t)>32||vy(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!BG(n))throw new Error("radix2.encode input should be Uint8Array");return xN(Array.from(n),8,t,!e)},decode:n=>(LG("radix2.decode",n),Uint8Array.from(xN(n,t,8,e)))}}const VG=jG(HG(5),FG("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),qG(5),zG(""));function G_(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function dD(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?G_(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function sh(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=dD(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return G_(n)}function GG(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var l=t.length,d=t.charAt(0),f=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var E=0,_=0,C=0,I=w.length;C!==I&&w[C]===0;)C++,E++;for(var A=(I-C)*p+1>>>0,O=new Uint8Array(A);C!==I;){for(var x=w[C],T=0,P=A-1;(x!==0||T<_)&&P!==-1;P--,T++)x+=256*O[P]>>>0,O[P]=x%l>>>0,x=x/l>>>0;if(x!==0)throw new Error("Non-zero carry");_=T,C++}for(var U=A-_;U!==A&&O[U]===0;)U++;for(var S=d.repeat(E);U<A;++U)S+=t.charAt(O[U]);return S}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var E=0;if(w[E]!==" "){for(var _=0,C=0;w[E]===d;)_++,E++;for(var I=(w.length-E)*f+1>>>0,A=new Uint8Array(I);w[E];){var O=n[w.charCodeAt(E)];if(O===255)return;for(var x=0,T=I-1;(O!==0||x<C)&&T!==-1;T--,x++)O+=l*A[T]>>>0,A[T]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=x,E++}if(w[E]!==" "){for(var P=I-C;P!==I&&A[P]===0;)P++;for(var U=new Uint8Array(_+(I-P)),S=_;P!==I;)U[S++]=A[P++];return U}}}function b(w){var E=m(w);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:m,decode:b}}var WG=GG,KG=WG;const YG=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ZG=t=>new TextEncoder().encode(t),QG=t=>new TextDecoder().decode(t);class XG{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class JG{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return fD(this,e)}}class eW{constructor(e){this.decoders=e}or(e){return fD(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const fD=(t,e)=>new eW({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class tW{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new XG(e,n,r),this.decoder=new JG(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const o0=({name:t,prefix:e,encode:n,decode:r})=>new tW(t,e,n,r),Np=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=KG(n,e);return o0({prefix:t,name:e,encode:r,decode:i=>YG(s(i))})},nW=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let l=0,d=0,f=0;for(let p=0;p<i;++p){const g=s[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|g,l+=n,l>=8&&(l-=8,o[f++]=255&d>>l)}if(l>=n||255&d<<8-l)throw new SyntaxError("Unexpected end of data");return o},rW=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,l=0;for(let d=0;d<t.length;++d)for(l=l<<8|t[d],o+=8;o>n;)o-=n,i+=e[s&l>>o];if(o&&(i+=e[s&l<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Wn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>o0({prefix:e,name:t,encode(s){return rW(s,r,n)},decode(s){return nW(s,r,n,t)}}),sW=o0({prefix:"\0",name:"identity",encode:t=>QG(t),decode:t=>ZG(t)}),iW=Object.freeze(Object.defineProperty({__proto__:null,identity:sW},Symbol.toStringTag,{value:"Module"})),aW=Wn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),oW=Object.freeze(Object.defineProperty({__proto__:null,base2:aW},Symbol.toStringTag,{value:"Module"})),cW=Wn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),lW=Object.freeze(Object.defineProperty({__proto__:null,base8:cW},Symbol.toStringTag,{value:"Module"})),uW=Np({prefix:"9",name:"base10",alphabet:"0123456789"}),dW=Object.freeze(Object.defineProperty({__proto__:null,base10:uW},Symbol.toStringTag,{value:"Module"})),fW=Wn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hW=Wn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),pW=Object.freeze(Object.defineProperty({__proto__:null,base16:fW,base16upper:hW},Symbol.toStringTag,{value:"Module"})),gW=Wn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mW=Wn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),yW=Wn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wW=Wn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bW=Wn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vW=Wn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),EW=Wn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_W=Wn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),CW=Wn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),SW=Object.freeze(Object.defineProperty({__proto__:null,base32:gW,base32hex:bW,base32hexpad:EW,base32hexpadupper:_W,base32hexupper:vW,base32pad:yW,base32padupper:wW,base32upper:mW,base32z:CW},Symbol.toStringTag,{value:"Module"})),AW=Np({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),TW=Np({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),xW=Object.freeze(Object.defineProperty({__proto__:null,base36:AW,base36upper:TW},Symbol.toStringTag,{value:"Module"})),NW=Np({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),IW=Np({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),RW=Object.freeze(Object.defineProperty({__proto__:null,base58btc:NW,base58flickr:IW},Symbol.toStringTag,{value:"Module"})),OW=Wn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),PW=Wn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),DW=Wn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),UW=Wn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),$W=Object.freeze(Object.defineProperty({__proto__:null,base64:OW,base64pad:PW,base64url:DW,base64urlpad:UW},Symbol.toStringTag,{value:"Module"})),hD=Array.from(""),kW=hD.reduce((t,e,n)=>(t[n]=e,t),[]),MW=hD.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function BW(t){return t.reduce((e,n)=>(e+=kW[n],e),"")}function LW(t){const e=[];for(const n of t){const r=MW[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const jW=o0({prefix:"",name:"base256emoji",encode:BW,decode:LW}),FW=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:jW},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const NN={...iW,...oW,...lW,...dW,...pW,...SW,...xW,...RW,...$W,...FW};function pD(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const IN=pD("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Fv=pD("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=dD(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),gD={utf8:IN,"utf-8":IN,hex:NN.base16,latin1:Fv,ascii:Fv,binary:Fv,...NN};function Ts(t,e="utf8"){const n=gD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?G_(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Mr(t,e="utf8"){const n=gD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const zW={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var zv,RN;function mD(){if(RN)return zv;RN=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let l;if(o instanceof Uint8Array)l=o;else if(typeof o=="string")l=new TextEncoder().encode(o);else throw new Error(t);return l}function n(o){return Array.prototype.map.call(o,function(l){return(l<16?"0":"")+l.toString(16)}).join("")}function r(o){return(4294967296+o).toString(16).substring(1)}function s(o,l,d){let f=`
`+o+" = ";for(let p=0;p<l.length;p+=2){if(d===32)f+=r(l[p]).toUpperCase(),f+=" ",f+=r(l[p+1]).toUpperCase();else if(d===64)f+=r(l[p+1]).toUpperCase(),f+=r(l[p]).toUpperCase();else throw new Error("Invalid size "+d);p%6===4?f+=`
`+new Array(o.length+4).join(" "):p<l.length-2&&(f+=" ")}console.log(f)}function i(o,l,d){let f=new Date().getTime();const p=new Uint8Array(l);for(let m=0;m<l;m++)p[m]=m%256;const g=new Date().getTime();console.log("Generated random input in "+(g-f)+"ms"),f=g;for(let m=0;m<d;m++){const b=o(p),w=new Date().getTime(),E=w-f;f=w,console.log("Hashed in "+E+"ms: "+b.substring(0,20)+"..."),console.log(Math.round(l/(1<<20)/(E/1e3)*100)/100+" MB PER SECOND")}}return zv={normalizeInput:e,toHex:n,debugPrint:s,testSpeed:i},zv}var qv,ON;function qW(){if(ON)return qv;ON=1;const t=mD();function e(C,I,A){const O=C[I]+C[A];let x=C[I+1]+C[A+1];O>=4294967296&&x++,C[I]=O,C[I+1]=x}function n(C,I,A,O){let x=C[I]+A;A<0&&(x+=4294967296);let T=C[I+1]+O;x>=4294967296&&T++,C[I]=x,C[I+1]=T}function r(C,I){return C[I]^C[I+1]<<8^C[I+2]<<16^C[I+3]<<24}function s(C,I,A,O,x,T){const P=f[x],U=f[x+1],S=f[T],B=f[T+1];e(d,C,I),n(d,C,P,U);let L=d[O]^d[C],z=d[O+1]^d[C+1];d[O]=z,d[O+1]=L,e(d,A,O),L=d[I]^d[A],z=d[I+1]^d[A+1],d[I]=L>>>24^z<<8,d[I+1]=z>>>24^L<<8,e(d,C,I),n(d,C,S,B),L=d[O]^d[C],z=d[O+1]^d[C+1],d[O]=L>>>16^z<<16,d[O+1]=z>>>16^L<<16,e(d,A,O),L=d[I]^d[A],z=d[I+1]^d[A+1],d[I]=z>>>31^L<<1,d[I+1]=L>>>31^z<<1}const i=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],l=new Uint8Array(o.map(function(C){return C*2})),d=new Uint32Array(32),f=new Uint32Array(32);function p(C,I){let A=0;for(A=0;A<16;A++)d[A]=C.h[A],d[A+16]=i[A];for(d[24]=d[24]^C.t,d[25]=d[25]^C.t/4294967296,I&&(d[28]=~d[28],d[29]=~d[29]),A=0;A<32;A++)f[A]=r(C.b,4*A);for(A=0;A<12;A++)s(0,8,16,24,l[A*16+0],l[A*16+1]),s(2,10,18,26,l[A*16+2],l[A*16+3]),s(4,12,20,28,l[A*16+4],l[A*16+5]),s(6,14,22,30,l[A*16+6],l[A*16+7]),s(0,10,20,30,l[A*16+8],l[A*16+9]),s(2,12,22,24,l[A*16+10],l[A*16+11]),s(4,14,16,26,l[A*16+12],l[A*16+13]),s(6,8,18,28,l[A*16+14],l[A*16+15]);for(A=0;A<16;A++)C.h[A]=C.h[A]^d[A]^d[A+16]}const g=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function m(C,I,A,O){if(C===0||C>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(I&&I.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(A&&A.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(O&&O.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const x={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:C};g.fill(0),g[0]=C,I&&(g[1]=I.length),g[2]=1,g[3]=1,A&&g.set(A,32),O&&g.set(O,48);for(let T=0;T<16;T++)x.h[T]=i[T]^r(g,T*4);return I&&(b(x,I),x.c=128),x}function b(C,I){for(let A=0;A<I.length;A++)C.c===128&&(C.t+=C.c,p(C,!1),C.c=0),C.b[C.c++]=I[A]}function w(C){for(C.t+=C.c;C.c<128;)C.b[C.c++]=0;p(C,!0);const I=new Uint8Array(C.outlen);for(let A=0;A<C.outlen;A++)I[A]=C.h[A>>2]>>8*(A&3);return I}function E(C,I,A,O,x){A=A||64,C=t.normalizeInput(C),O&&(O=t.normalizeInput(O)),x&&(x=t.normalizeInput(x));const T=m(A,I,O,x);return b(T,C),w(T)}function _(C,I,A,O,x){const T=E(C,I,A,O,x);return t.toHex(T)}return qv={blake2b:E,blake2bHex:_,blake2bInit:m,blake2bUpdate:b,blake2bFinal:w},qv}var Hv,PN;function HW(){if(PN)return Hv;PN=1;const t=mD();function e(w,E){return w[E]^w[E+1]<<8^w[E+2]<<16^w[E+3]<<24}function n(w,E,_,C,I,A){o[w]=o[w]+o[E]+I,o[C]=r(o[C]^o[w],16),o[_]=o[_]+o[C],o[E]=r(o[E]^o[_],12),o[w]=o[w]+o[E]+A,o[C]=r(o[C]^o[w],8),o[_]=o[_]+o[C],o[E]=r(o[E]^o[_],7)}function r(w,E){return w>>>E^w<<32-E}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),l=new Uint32Array(16);function d(w,E){let _=0;for(_=0;_<8;_++)o[_]=w.h[_],o[_+8]=s[_];for(o[12]^=w.t,o[13]^=w.t/4294967296,E&&(o[14]=~o[14]),_=0;_<16;_++)l[_]=e(w.b,4*_);for(_=0;_<10;_++)n(0,4,8,12,l[i[_*16+0]],l[i[_*16+1]]),n(1,5,9,13,l[i[_*16+2]],l[i[_*16+3]]),n(2,6,10,14,l[i[_*16+4]],l[i[_*16+5]]),n(3,7,11,15,l[i[_*16+6]],l[i[_*16+7]]),n(0,5,10,15,l[i[_*16+8]],l[i[_*16+9]]),n(1,6,11,12,l[i[_*16+10]],l[i[_*16+11]]),n(2,7,8,13,l[i[_*16+12]],l[i[_*16+13]]),n(3,4,9,14,l[i[_*16+14]],l[i[_*16+15]]);for(_=0;_<8;_++)w.h[_]^=o[_]^o[_+8]}function f(w,E){if(!(w>0&&w<=32))throw new Error("Incorrect output length, should be in [1, 32]");const _=E?E.length:0;if(E&&!(_>0&&_<=32))throw new Error("Incorrect key length, should be in [1, 32]");const C={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:w};return C.h[0]^=16842752^_<<8^w,_>0&&(p(C,E),C.c=64),C}function p(w,E){for(let _=0;_<E.length;_++)w.c===64&&(w.t+=w.c,d(w,!1),w.c=0),w.b[w.c++]=E[_]}function g(w){for(w.t+=w.c;w.c<64;)w.b[w.c++]=0;d(w,!0);const E=new Uint8Array(w.outlen);for(let _=0;_<w.outlen;_++)E[_]=w.h[_>>2]>>8*(_&3)&255;return E}function m(w,E,_){_=_||32,w=t.normalizeInput(w);const C=f(_,E);return p(C,w),g(C)}function b(w,E,_){const C=m(w,E,_);return t.toHex(C)}return Hv={blake2s:m,blake2sHex:b,blake2sInit:f,blake2sUpdate:p,blake2sFinal:g},Hv}var Vv,DN;function VW(){if(DN)return Vv;DN=1;const t=qW(),e=HW();return Vv={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Vv}var GW=VW(),WW={};const KW=":";function Du(t){const[e,n]=t.split(KW);return{namespace:e,reference:n}}function yD(t,e){return t.includes(":")?[t]:e.chains||[]}var YW=Object.defineProperty,ZW=Object.defineProperties,QW=Object.getOwnPropertyDescriptors,UN=Object.getOwnPropertySymbols,XW=Object.prototype.hasOwnProperty,JW=Object.prototype.propertyIsEnumerable,$N=(t,e,n)=>e in t?YW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kN=(t,e)=>{for(var n in e||(e={}))XW.call(e,n)&&$N(t,n,e[n]);if(UN)for(var n of UN(e))JW.call(e,n)&&$N(t,n,e[n]);return t},eK=(t,e)=>ZW(t,QW(e));const tK="ReactNative",ts={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},nK="js";function Ey(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Yo(){return!xa.getDocument()&&!!xa.getNavigator()&&navigator.product===tK}function rK(){return Yo()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function sK(){return Yo()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function md(){return!Ey()&&!!xa.getNavigator()&&!!xa.getDocument()}function Ip(){return Yo()?ts.reactNative:Ey()?ts.node:md()?ts.browser:ts.unknown}function MN(){var t;try{return Yo()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function iK(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function aK(t){var e,n;const r=wD();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),eK(kN(kN({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function wD(){return $V.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function oK(){if(Ip()===ts.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=NV();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function cK(){var t;const e=Ip();return e===ts.browser?[e,((t=xa.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function bD(t,e,n){const r=oK(),s=cK();return[[t,e].join("-"),[nK,n].join("-"),r,s].join("/")}function lK({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:l,packageName:d}){const f=n.split("?"),p=bD(t,e,r),g={auth:s,ua:p,projectId:i,useOnCloseEvent:o,packageName:d||void 0,bundleId:l||void 0},m=iK(f[1]||"",g);return f[0]+"?"+m}function Rc(t,e){return t.filter(n=>e.includes(n)).length===t.length}function v1(t){return Object.fromEntries(t.entries())}function E1(t){return new Map(Object.entries(t))}function Cc(t=ye.FIVE_MINUTES,e){const n=ye.toMiliseconds(t||ye.FIVE_MINUTES);let r,s,i,o;return{resolve:l=>{i&&r&&(clearTimeout(i),r(l),o=Promise.resolve(l))},reject:l=>{i&&s&&(clearTimeout(i),s(l))},done:()=>new Promise((l,d)=>{if(o)return l(o);i=setTimeout(()=>{const f=new Error(e);o=Promise.reject(f),d(f)},n),r=l,s=d})}}function Oo(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function vD(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function uK(t){return vD("topic",t)}function dK(t){return vD("id",t)}function ED(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function vn(t,e){return ye.fromMiliseconds(Date.now()+ye.toMiliseconds(t))}function bo(t){return Date.now()>=ye.toMiliseconds(t)}function Ct(t,e){return`${t}${e?`:${e}`:""}`}function Di(t=[],e=[]){return[...new Set([...t,...e])]}async function fK({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=hK(i,t,e),l=Ip();if(l===ts.browser){if(!((r=xa.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}pK(o)}else l===ts.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function hK(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${wK(r,!0)}`}else s=`${s}/wc?${r}`;return s}function pK(t){let e="_self";yK()?e="_top":(mK()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function gK(t,e){let n="";try{if(md()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function BN(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function LN(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function W_(){return typeof process<"u"&&WW.IS_VITEST==="true"}function mK(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function yK(){try{return window.self!==window.top}catch{return!1}}function wK(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function _D(t){return Buffer.from(t,"base64").toString("utf-8")}function bK(t){return new Promise(e=>setTimeout(e,t))}const ym=BigInt(2**32-1),jN=BigInt(32);function CD(t,e=!1){return e?{h:Number(t&ym),l:Number(t>>jN&ym)}:{h:Number(t>>jN&ym)|0,l:Number(t&ym)|0}}function SD(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l}=CD(t[i],e);[r[i],s[i]]=[o,l]}return[r,s]}const FN=(t,e,n)=>t>>>n,zN=(t,e,n)=>t<<32-n|e>>>n,vo=(t,e,n)=>t>>>n|e<<32-n,Eo=(t,e,n)=>t<<32-n|e>>>n,Wf=(t,e,n)=>t<<64-n|e>>>n-32,Kf=(t,e,n)=>t>>>n-32|e<<64-n,vK=(t,e)=>e,EK=(t,e)=>t,_K=(t,e,n)=>t<<n|e>>>32-n,CK=(t,e,n)=>e<<n|t>>>32-n,SK=(t,e,n)=>e<<n-32|t>>>64-n,AK=(t,e,n)=>t<<n-32|e>>>64-n;function Vs(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const K_=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Y_=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,TK=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),xK=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,NK=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),IK=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,au=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Z_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Na(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Os(t,...e){if(!Z_(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Q_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Na(t.outputLen),Na(t.blockLen)}function Ho(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function X_(t,e){Os(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Wh(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ps(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Gv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function mi(t,e){return t<<32-e|t>>>e}const AD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function TD(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const pa=AD?t=>t:t=>TD(t);function RK(t){for(let e=0;e<t.length;e++)t[e]=TD(t[e]);return t}const _o=AD?t=>t:RK,xD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",OK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Kh(t){if(Os(t),xD)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=OK[t[n]];return e}const ua={_0:48,_9:57,A:65,F:70,a:97,f:102};function qN(t){if(t>=ua._0&&t<=ua._9)return t-ua._0;if(t>=ua.A&&t<=ua.F)return t-(ua.A-10);if(t>=ua.a&&t<=ua.f)return t-(ua.a-10)}function J_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(xD)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=qN(t.charCodeAt(i)),l=qN(t.charCodeAt(i+1));if(o===void 0||l===void 0){const d=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+i)}r[s]=o*16+l}return r}function PK(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ti(t){return typeof t=="string"&&(t=PK(t)),Os(t),t}function Oc(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Os(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let c0=class{};function Rp(t){const e=r=>t().update(ti(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function DK(t){const e=(r,s)=>t(s).update(ti(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function yd(t=32){if(au&&typeof au.getRandomValues=="function")return au.getRandomValues(new Uint8Array(t));if(au&&typeof au.randomBytes=="function")return Uint8Array.from(au.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const UK=BigInt(0),Pf=BigInt(1),$K=BigInt(2),kK=BigInt(7),MK=BigInt(256),BK=BigInt(113),ND=[],ID=[],RD=[];for(let t=0,e=Pf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],ND.push(2*(5*r+n)),ID.push((t+1)*(t+2)/2%64);let s=UK;for(let i=0;i<7;i++)e=(e<<Pf^(e>>kK)*BK)%MK,e&$K&&(s^=Pf<<(Pf<<BigInt(i))-Pf);RD.push(s)}const OD=SD(RD,!0),LK=OD[0],jK=OD[1],HN=(t,e,n)=>n>32?SK(t,e,n):_K(t,e,n),VN=(t,e,n)=>n>32?AK(t,e,n):CK(t,e,n);function FK(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,d=(o+2)%10,f=n[d],p=n[d+1],g=HN(f,p,1)^n[l],m=VN(f,p,1)^n[l+1];for(let b=0;b<50;b+=10)t[o+b]^=g,t[o+b+1]^=m}let s=t[2],i=t[3];for(let o=0;o<24;o++){const l=ID[o],d=HN(s,i,l),f=VN(s,i,l),p=ND[o];s=t[p],i=t[p+1],t[p]=d,t[p+1]=f}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)n[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=LK[r],t[1]^=jK[r]}Ps(n)}let zK=class PD extends c0{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Na(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Wh(this.state)}clone(){return this._cloneInto()}keccak(){_o(this.state32),FK(this.state32,this.rounds),_o(this.state32),this.posOut=0,this.pos=0}update(e){Ho(this),e=ti(e),Os(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let l=0;l<o;l++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ho(this,!1),Os(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Na(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(X_(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ps(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new PD(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const qK=(t,e,n)=>Rp(()=>new zK(e,t,n)),HK=qK(1,136,256/8);function VK(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),l=Number(n&i),d=r?4:0,f=r?0:4;t.setUint32(e+d,o,r),t.setUint32(e+f,l,r)}function GK(t,e,n){return t&e^~t&n}function WK(t,e,n){return t&e^t&n^e&n}let DD=class extends c0{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Gv(this.buffer)}update(e){Ho(this),e=ti(e),Os(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const d=Gv(e);for(;s<=i-o;o+=s)this.process(d,o);continue}r.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ho(this),X_(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Ps(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let g=o;g<s;g++)n[g]=0;VK(r,s-8,BigInt(this.length*8),i),this.process(r,0);const l=Gv(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)l.setUint32(4*g,p[g],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:l}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=l,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const lo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),er=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),KK=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),uo=new Uint32Array(64);let YK=class extends DD{constructor(e=32){super(64,e,8,!1),this.A=lo[0]|0,this.B=lo[1]|0,this.C=lo[2]|0,this.D=lo[3]|0,this.E=lo[4]|0,this.F=lo[5]|0,this.G=lo[6]|0,this.H=lo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:l,H:d}=this;return[e,n,r,s,i,o,l,d]}set(e,n,r,s,i,o,l,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=d|0}process(e,n){for(let g=0;g<16;g++,n+=4)uo[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const m=uo[g-15],b=uo[g-2],w=mi(m,7)^mi(m,18)^m>>>3,E=mi(b,17)^mi(b,19)^b>>>10;uo[g]=E+uo[g-7]+w+uo[g-16]|0}let{A:r,B:s,C:i,D:o,E:l,F:d,G:f,H:p}=this;for(let g=0;g<64;g++){const m=mi(l,6)^mi(l,11)^mi(l,25),b=p+m+GK(l,d,f)+KK[g]+uo[g]|0,w=(mi(r,2)^mi(r,13)^mi(r,22))+WK(r,s,i)|0;p=f,f=d,d=l,l=o+b|0,o=i,i=s,s=r,r=b+w|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,s,i,o,l,d,f,p)}roundClean(){Ps(uo)}destroy(){this.set(0,0,0,0,0,0,0,0),Ps(this.buffer)}};const UD=SD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ZK=UD[0],QK=UD[1],fo=new Uint32Array(80),ho=new Uint32Array(80);let eC=class extends DD{constructor(e=64){super(128,e,16,!1),this.Ah=er[0]|0,this.Al=er[1]|0,this.Bh=er[2]|0,this.Bl=er[3]|0,this.Ch=er[4]|0,this.Cl=er[5]|0,this.Dh=er[6]|0,this.Dl=er[7]|0,this.Eh=er[8]|0,this.El=er[9]|0,this.Fh=er[10]|0,this.Fl=er[11]|0,this.Gh=er[12]|0,this.Gl=er[13]|0,this.Hh=er[14]|0,this.Hl=er[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:l,Dl:d,Eh:f,El:p,Fh:g,Fl:m,Gh:b,Gl:w,Hh:E,Hl:_}=this;return[e,n,r,s,i,o,l,d,f,p,g,m,b,w,E,_]}set(e,n,r,s,i,o,l,d,f,p,g,m,b,w,E,_){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=l|0,this.Dl=d|0,this.Eh=f|0,this.El=p|0,this.Fh=g|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=E|0,this.Hl=_|0}process(e,n){for(let A=0;A<16;A++,n+=4)fo[A]=e.getUint32(n),ho[A]=e.getUint32(n+=4);for(let A=16;A<80;A++){const O=fo[A-15]|0,x=ho[A-15]|0,T=vo(O,x,1)^vo(O,x,8)^FN(O,x,7),P=Eo(O,x,1)^Eo(O,x,8)^zN(O,x,7),U=fo[A-2]|0,S=ho[A-2]|0,B=vo(U,S,19)^Wf(U,S,61)^FN(U,S,6),L=Eo(U,S,19)^Kf(U,S,61)^zN(U,S,6),z=TK(P,L,ho[A-7],ho[A-16]),K=xK(z,T,B,fo[A-7],fo[A-16]);fo[A]=K|0,ho[A]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:l,Cl:d,Dh:f,Dl:p,Eh:g,El:m,Fh:b,Fl:w,Gh:E,Gl:_,Hh:C,Hl:I}=this;for(let A=0;A<80;A++){const O=vo(g,m,14)^vo(g,m,18)^Wf(g,m,41),x=Eo(g,m,14)^Eo(g,m,18)^Kf(g,m,41),T=g&b^~g&E,P=m&w^~m&_,U=NK(I,x,P,QK[A],ho[A]),S=IK(U,C,O,T,ZK[A],fo[A]),B=U|0,L=vo(r,s,28)^Wf(r,s,34)^Wf(r,s,39),z=Eo(r,s,28)^Kf(r,s,34)^Kf(r,s,39),K=r&i^r&l^i&l,G=s&o^s&d^o&d;C=E|0,I=_|0,E=b|0,_=w|0,b=g|0,w=m|0,{h:g,l:m}=Vs(f|0,p|0,S|0,B|0),f=l|0,p=d|0,l=i|0,d=o|0,i=r|0,o=s|0;const k=K_(B,z,G);r=Y_(k,S,L,K),s=k|0}({h:r,l:s}=Vs(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Vs(this.Bh|0,this.Bl|0,i|0,o|0),{h:l,l:d}=Vs(this.Ch|0,this.Cl|0,l|0,d|0),{h:f,l:p}=Vs(this.Dh|0,this.Dl|0,f|0,p|0),{h:g,l:m}=Vs(this.Eh|0,this.El|0,g|0,m|0),{h:b,l:w}=Vs(this.Fh|0,this.Fl|0,b|0,w|0),{h:E,l:_}=Vs(this.Gh|0,this.Gl|0,E|0,_|0),{h:C,l:I}=Vs(this.Hh|0,this.Hl|0,C|0,I|0),this.set(r,s,i,o,l,d,f,p,g,m,b,w,E,_,C,I)}roundClean(){Ps(fo,ho)}destroy(){Ps(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},XK=class extends eC{constructor(){super(48),this.Ah=Jn[0]|0,this.Al=Jn[1]|0,this.Bh=Jn[2]|0,this.Bl=Jn[3]|0,this.Ch=Jn[4]|0,this.Cl=Jn[5]|0,this.Dh=Jn[6]|0,this.Dl=Jn[7]|0,this.Eh=Jn[8]|0,this.El=Jn[9]|0,this.Fh=Jn[10]|0,this.Fl=Jn[11]|0,this.Gh=Jn[12]|0,this.Gl=Jn[13]|0,this.Hh=Jn[14]|0,this.Hl=Jn[15]|0}};const tr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let JK=class extends eC{constructor(){super(32),this.Ah=tr[0]|0,this.Al=tr[1]|0,this.Bh=tr[2]|0,this.Bl=tr[3]|0,this.Ch=tr[4]|0,this.Cl=tr[5]|0,this.Dh=tr[6]|0,this.Dl=tr[7]|0,this.Eh=tr[8]|0,this.El=tr[9]|0,this.Fh=tr[10]|0,this.Fl=tr[11]|0,this.Gh=tr[12]|0,this.Gl=tr[13]|0,this.Hh=tr[14]|0,this.Hl=tr[15]|0}};const l0=Rp(()=>new YK),eY=Rp(()=>new eC),tY=Rp(()=>new XK),nY=Rp(()=>new JK),rY=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),bn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Se=new Uint32Array(32);function po(t,e,n,r,s,i){const o=s[i],l=s[i+1];let d=Se[2*t],f=Se[2*t+1],p=Se[2*e],g=Se[2*e+1],m=Se[2*n],b=Se[2*n+1],w=Se[2*r],E=Se[2*r+1],_=K_(d,p,o);f=Y_(_,f,g,l),d=_|0,{Dh:E,Dl:w}={Dh:E^f,Dl:w^d},{Dh:E,Dl:w}={Dh:vK(E,w),Dl:EK(E)},{h:b,l:m}=Vs(b,m,E,w),{Bh:g,Bl:p}={Bh:g^b,Bl:p^m},{Bh:g,Bl:p}={Bh:vo(g,p,24),Bl:Eo(g,p,24)},Se[2*t]=d,Se[2*t+1]=f,Se[2*e]=p,Se[2*e+1]=g,Se[2*n]=m,Se[2*n+1]=b,Se[2*r]=w,Se[2*r+1]=E}function go(t,e,n,r,s,i){const o=s[i],l=s[i+1];let d=Se[2*t],f=Se[2*t+1],p=Se[2*e],g=Se[2*e+1],m=Se[2*n],b=Se[2*n+1],w=Se[2*r],E=Se[2*r+1],_=K_(d,p,o);f=Y_(_,f,g,l),d=_|0,{Dh:E,Dl:w}={Dh:E^f,Dl:w^d},{Dh:E,Dl:w}={Dh:vo(E,w,16),Dl:Eo(E,w,16)},{h:b,l:m}=Vs(b,m,E,w),{Bh:g,Bl:p}={Bh:g^b,Bl:p^m},{Bh:g,Bl:p}={Bh:Wf(g,p,63),Bl:Kf(g,p,63)},Se[2*t]=d,Se[2*t+1]=f,Se[2*e]=p,Se[2*e+1]=g,Se[2*n]=m,Se[2*n+1]=b,Se[2*r]=w,Se[2*r+1]=E}function sY(t,e={},n,r,s){if(Na(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:l}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(l!==void 0&&l.length!==s)throw new Error("personalization must be undefined or "+s)}class iY extends c0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Na(e),Na(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Wh(this.buffer)}update(e){Ho(this),e=ti(e),Os(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,l=e.buffer;for(let d=0;d<i;){this.pos===n&&(_o(s),this.compress(s,0,!1),_o(s),this.pos=0);const f=Math.min(n-this.pos,i-d),p=o+d;if(f===n&&!(p%4)&&d+f<i){const g=new Uint32Array(l,p,Math.floor((i-d)/4));_o(g);for(let m=0;d+n<i;m+=s.length,d+=n)this.length+=n,this.compress(g,m,!1);_o(g);continue}r.set(e.subarray(d,d+f),this.pos),this.pos+=f,this.length+=f,d+=f}return this}digestInto(e){Ho(this),X_(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Ps(this.buffer.subarray(n)),_o(r),this.compress(r,0,!0),_o(r);const s=Wh(e);this.get().forEach((i,o)=>s[o]=pa(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:l}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=l,e.outputLen=o,e}clone(){return this._cloneInto()}}class aY extends iY{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=bn[0]|0,this.v0h=bn[1]|0,this.v1l=bn[2]|0,this.v1h=bn[3]|0,this.v2l=bn[4]|0,this.v2h=bn[5]|0,this.v3l=bn[6]|0,this.v3h=bn[7]|0,this.v4l=bn[8]|0,this.v4h=bn[9]|0,this.v5l=bn[10]|0,this.v5h=bn[11]|0,this.v6l=bn[12]|0,this.v6h=bn[13]|0,this.v7l=bn[14]|0,this.v7h=bn[15]|0,sY(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=ti(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=ti(i);const l=Wh(i);this.v4l^=pa(l[0]),this.v4h^=pa(l[1]),this.v5l^=pa(l[2]),this.v5h^=pa(l[3])}if(s!==void 0){s=ti(s);const l=Wh(s);this.v6l^=pa(l[0]),this.v6h^=pa(l[1]),this.v7l^=pa(l[2]),this.v7h^=pa(l[3])}if(r!==void 0){const l=new Uint8Array(this.blockLen);l.set(r),this.update(l)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:l,v3h:d,v4l:f,v4h:p,v5l:g,v5h:m,v6l:b,v6h:w,v7l:E,v7h:_}=this;return[e,n,r,s,i,o,l,d,f,p,g,m,b,w,E,_]}set(e,n,r,s,i,o,l,d,f,p,g,m,b,w,E,_){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=l|0,this.v3h=d|0,this.v4l=f|0,this.v4h=p|0,this.v5l=g|0,this.v5h=m|0,this.v6l=b|0,this.v6h=w|0,this.v7l=E|0,this.v7h=_|0}compress(e,n,r){this.get().forEach((d,f)=>Se[f]=d),Se.set(bn,16);let{h:s,l:i}=CD(BigInt(this.length));Se[24]=bn[8]^i,Se[25]=bn[9]^s,r&&(Se[28]=~Se[28],Se[29]=~Se[29]);let o=0;const l=rY;for(let d=0;d<12;d++)po(0,4,8,12,e,n+2*l[o++]),go(0,4,8,12,e,n+2*l[o++]),po(1,5,9,13,e,n+2*l[o++]),go(1,5,9,13,e,n+2*l[o++]),po(2,6,10,14,e,n+2*l[o++]),go(2,6,10,14,e,n+2*l[o++]),po(3,7,11,15,e,n+2*l[o++]),go(3,7,11,15,e,n+2*l[o++]),po(0,5,10,15,e,n+2*l[o++]),go(0,5,10,15,e,n+2*l[o++]),po(1,6,11,12,e,n+2*l[o++]),go(1,6,11,12,e,n+2*l[o++]),po(2,7,8,13,e,n+2*l[o++]),go(2,7,8,13,e,n+2*l[o++]),po(3,4,9,14,e,n+2*l[o++]),go(3,4,9,14,e,n+2*l[o++]);this.v0l^=Se[0]^Se[16],this.v0h^=Se[1]^Se[17],this.v1l^=Se[2]^Se[18],this.v1h^=Se[3]^Se[19],this.v2l^=Se[4]^Se[20],this.v2h^=Se[5]^Se[21],this.v3l^=Se[6]^Se[22],this.v3h^=Se[7]^Se[23],this.v4l^=Se[8]^Se[24],this.v4h^=Se[9]^Se[25],this.v5l^=Se[10]^Se[26],this.v5h^=Se[11]^Se[27],this.v6l^=Se[12]^Se[28],this.v6h^=Se[13]^Se[29],this.v7l^=Se[14]^Se[30],this.v7h^=Se[15]^Se[31],Ps(Se)}destroy(){this.destroyed=!0,Ps(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const oY=DK(t=>new aY(t)),cY="https://rpc.walletconnect.org/v1";function $D(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(HK(n)).toString("hex")}async function lY(t,e,n,r,s,i){switch(n.t){case"eip191":return await uY(t,e,n.s);case"eip1271":return await dY(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function uY(t,e,n){return(await JV({hash:$D(e),signature:n})).toLowerCase()===t.toLowerCase()}async function dY(t,e,n,r,s,i){const o=Du(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const l="0x1626ba7e",d="0000000000000000000000000000000000000000000000000000000000000040",f=n.substring(2),p=(f.length/2).toString(16).padStart(64,"0"),g=(e.startsWith("0x")?e:$D(e)).substring(2),m=l+g+d+p+f,b=await fetch(`${i||cY}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:fY(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:m},"latest"]})}),{result:w}=await b.json();return w?w.slice(0,l.length).toLowerCase()===l.toLowerCase():!1}catch(l){return console.error("isValidEip1271Signature: ",l),!1}}function fY(){return Date.now()+Math.floor(Math.random()*1e3)}function hY(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return gd.encode(i)}function pY(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=oY(r,{dkLen:32});return gd.encode(s)}function GN(t){const e=new Uint8Array(l0(gY(t)));return gd.encode(e)}function gY(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function WN(t){const e=Buffer.from(t,"base64"),n=MG(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=NG(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=nY(i);return VG.encode(o).replace(/=+$/,"")}function Wv(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function mY(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(Wv(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(Wv(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(Wv(r.length)),s.push(r);const i=Buffer.concat(s),o=l0(i);return Buffer.from(o).toString("hex").toUpperCase()}var yY=Object.defineProperty,wY=Object.defineProperties,bY=Object.getOwnPropertyDescriptors,KN=Object.getOwnPropertySymbols,vY=Object.prototype.hasOwnProperty,EY=Object.prototype.propertyIsEnumerable,YN=(t,e,n)=>e in t?yY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_Y=(t,e)=>{for(var n in e||(e={}))vY.call(e,n)&&YN(t,n,e[n]);if(KN)for(var n of KN(e))EY.call(e,n)&&YN(t,n,e[n]);return t},CY=(t,e)=>wY(t,bY(e));const SY="did:pkh:",tC=t=>t==null?void 0:t.split(":"),AY=t=>{const e=t&&tC(t);if(e)return t.includes(SY)?e[3]:e[1]},_1=t=>{const e=t&&tC(t);if(e)return e[2]+":"+e[3]},_y=t=>{const e=t&&tC(t);if(e)return e.pop()};async function ZN(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=kD(s,s.iss),o=_y(s.iss);return await lY(o,i,r,_1(s.iss),n)}const kD=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=_y(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,l=`Chain ID: ${AY(e)}`,d=`Nonce: ${t.nonce}`,f=`Issued At: ${t.iat}`,p=t.exp?`Expiration Time: ${t.exp}`:void 0,g=t.nbf?`Not Before: ${t.nbf}`:void 0,m=t.requestId?`Request ID: ${t.requestId}`:void 0,b=t.resources?`Resources:${t.resources.map(E=>`
- ${E}`).join("")}`:void 0,w=Lm(t.resources);if(w){const E=Yh(w);s=UY(s,E)}return[n,r,"",s,"",i,o,l,d,f,p,g,m,b].filter(E=>E!=null).join(`
`)};function TY(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function xY(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function nl(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function NY(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:IY(e,n,r)}}}function IY(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function MD(t){return nl(t),`urn:recap:${TY(t).replace(/=/g,"")}`}function Yh(t){const e=xY(t.replace("urn:recap:",""));return nl(e),e}function RY(t,e,n){const r=NY(t,e,n);return MD(r)}function OY(t){return t&&t.includes("urn:recap:")}function PY(t,e){const n=Yh(t),r=Yh(e),s=DY(n,r);return MD(s)}function DY(t,e){nl(t),nl(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((l,d)=>l.localeCompare(d)).forEach(l=>{var d,f;r.att[s]=CY(_Y({},r.att[s]),{[l]:((d=t.att[s])==null?void 0:d[l])||((f=e.att[s])==null?void 0:f[l])})})}),r}function UY(t="",e){nl(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(l=>{const d=Object.keys(e.att[l]).map(g=>({ability:g.split("/")[0],action:g.split("/")[1]}));d.sort((g,m)=>g.action.localeCompare(m.action));const f={};d.forEach(g=>{f[g.ability]||(f[g.ability]=[]),f[g.ability].push(g.action)});const p=Object.keys(f).map(g=>(s++,`(${s}) '${g}': '${f[g].join("', '")}' for '${l}'.`));r.push(p.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function QN(t){var e;const n=Yh(t);nl(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function XN(t){const e=Yh(t);nl(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Lm(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return OY(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function BD(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function C1(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Kv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ur(t,...e){if(!BD(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function JN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function $Y(t,e){Ur(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Mo(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function nd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function kY(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const MY=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function BY(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function S1(t){if(typeof t=="string")t=BY(t);else if(BD(t))t=A1(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function LY(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function jY(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const FY=(t,e)=>{function n(r,...s){if(Ur(r),!MY)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const f=s[0];if(!f)throw new Error("nonce / iv required");t.varSizeNonce?Ur(f):Ur(f,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Ur(s[1]);const o=e(r,...s),l=(f,p)=>{if(p!==void 0){if(f!==2)throw new Error("cipher output not supported");Ur(p)}};let d=!1;return{encrypt(f,p){if(d)throw new Error("cannot encrypt() twice with same key + nonce");return d=!0,Ur(f),l(o.encrypt.length,p),o.encrypt(f,p)},decrypt(f,p){if(Ur(f),i&&f.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return l(o.decrypt.length,p),o.decrypt(f,p)}}}return Object.assign(n,t),n};function eI(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!qY(e))throw new Error("invalid output, must be aligned");return e}function tI(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),l=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,l,r)}function zY(t,e,n){C1(n);const r=new Uint8Array(16),s=kY(r);return tI(s,0,BigInt(e),n),tI(s,8,BigInt(t),n),r}function qY(t){return t.byteOffset%4===0}function A1(t){return Uint8Array.from(t)}const LD=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),HY=LD("expand 16-byte k"),VY=LD("expand 32-byte k"),GY=Mo(HY),WY=Mo(VY);function mt(t,e){return t<<e|t>>>32-e}function T1(t){return t.byteOffset%4===0}const wm=64,KY=16,jD=2**32-1,nI=new Uint32Array;function YY(t,e,n,r,s,i,o,l){const d=s.length,f=new Uint8Array(wm),p=Mo(f),g=T1(s)&&T1(i),m=g?Mo(s):nI,b=g?Mo(i):nI;for(let w=0;w<d;o++){if(t(e,n,r,p,o,l),o>=jD)throw new Error("arx: counter overflow");const E=Math.min(wm,d-w);if(g&&E===wm){const _=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let C=0,I;C<KY;C++)I=_+C,b[I]=m[I]^p[C];w+=wm;continue}for(let _=0,C;_<E;_++)C=w+_,i[C]=s[C]^f[_];w+=E}}function ZY(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=LY({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Kv(s),Kv(o),C1(i),C1(n),(l,d,f,p,g=0)=>{Ur(l),Ur(d),Ur(f);const m=f.length;if(p===void 0&&(p=new Uint8Array(m)),Ur(p),Kv(g),g<0||g>=jD)throw new Error("arx: counter overflow");if(p.length<m)throw new Error(`arx: output (${p.length}) is shorter than data (${m})`);const b=[];let w=l.length,E,_;if(w===32)b.push(E=A1(l)),_=WY;else if(w===16&&n)E=new Uint8Array(32),E.set(l),E.set(l,16),_=GY,b.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);T1(d)||b.push(d=A1(d));const C=Mo(E);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(_,C,Mo(d.subarray(0,16)),C),d=d.subarray(16)}const I=16-s;if(I!==d.length)throw new Error(`arx: nonce must be ${I} or 16 bytes`);if(I!==12){const O=new Uint8Array(12);O.set(d,i?0:12-d.length),d=O,b.push(d)}const A=Mo(d);return YY(t,_,C,A,f,p,g,o),nd(...b),p}}const Ln=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class QY{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=S1(e),Ur(e,32);const n=Ln(e,0),r=Ln(e,2),s=Ln(e,4),i=Ln(e,6),o=Ln(e,8),l=Ln(e,10),d=Ln(e,12),f=Ln(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|l<<2)&8191,this.r[7]=(l>>>11|d<<5)&8065,this.r[8]=(d>>>8|f<<8)&8191,this.r[9]=f>>>5&127;for(let p=0;p<8;p++)this.pad[p]=Ln(e,16+2*p)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,l=o[0],d=o[1],f=o[2],p=o[3],g=o[4],m=o[5],b=o[6],w=o[7],E=o[8],_=o[9],C=Ln(e,n+0),I=Ln(e,n+2),A=Ln(e,n+4),O=Ln(e,n+6),x=Ln(e,n+8),T=Ln(e,n+10),P=Ln(e,n+12),U=Ln(e,n+14);let S=i[0]+(C&8191),B=i[1]+((C>>>13|I<<3)&8191),L=i[2]+((I>>>10|A<<6)&8191),z=i[3]+((A>>>7|O<<9)&8191),K=i[4]+((O>>>4|x<<12)&8191),G=i[5]+(x>>>1&8191),k=i[6]+((x>>>14|T<<2)&8191),R=i[7]+((T>>>11|P<<5)&8191),F=i[8]+((P>>>8|U<<8)&8191),V=i[9]+(U>>>5|s),W=0,D=W+S*l+B*(5*_)+L*(5*E)+z*(5*w)+K*(5*b);W=D>>>13,D&=8191,D+=G*(5*m)+k*(5*g)+R*(5*p)+F*(5*f)+V*(5*d),W+=D>>>13,D&=8191;let q=W+S*d+B*l+L*(5*_)+z*(5*E)+K*(5*w);W=q>>>13,q&=8191,q+=G*(5*b)+k*(5*m)+R*(5*g)+F*(5*p)+V*(5*f),W+=q>>>13,q&=8191;let X=W+S*f+B*d+L*l+z*(5*_)+K*(5*E);W=X>>>13,X&=8191,X+=G*(5*w)+k*(5*b)+R*(5*m)+F*(5*g)+V*(5*p),W+=X>>>13,X&=8191;let te=W+S*p+B*f+L*d+z*l+K*(5*_);W=te>>>13,te&=8191,te+=G*(5*E)+k*(5*w)+R*(5*b)+F*(5*m)+V*(5*g),W+=te>>>13,te&=8191;let ee=W+S*g+B*p+L*f+z*d+K*l;W=ee>>>13,ee&=8191,ee+=G*(5*_)+k*(5*E)+R*(5*w)+F*(5*b)+V*(5*m),W+=ee>>>13,ee&=8191;let ie=W+S*m+B*g+L*p+z*f+K*d;W=ie>>>13,ie&=8191,ie+=G*l+k*(5*_)+R*(5*E)+F*(5*w)+V*(5*b),W+=ie>>>13,ie&=8191;let se=W+S*b+B*m+L*g+z*p+K*f;W=se>>>13,se&=8191,se+=G*d+k*l+R*(5*_)+F*(5*E)+V*(5*w),W+=se>>>13,se&=8191;let Ae=W+S*w+B*b+L*m+z*g+K*p;W=Ae>>>13,Ae&=8191,Ae+=G*f+k*d+R*l+F*(5*_)+V*(5*E),W+=Ae>>>13,Ae&=8191;let ge=W+S*E+B*w+L*b+z*m+K*g;W=ge>>>13,ge&=8191,ge+=G*p+k*f+R*d+F*l+V*(5*_),W+=ge>>>13,ge&=8191;let _e=W+S*_+B*E+L*w+z*b+K*m;W=_e>>>13,_e&=8191,_e+=G*g+k*p+R*f+F*d+V*l,W+=_e>>>13,_e&=8191,W=(W<<2)+W|0,W=W+D|0,D=W&8191,W=W>>>13,q+=W,i[0]=D,i[1]=q,i[2]=X,i[3]=te,i[4]=ee,i[5]=ie,i[6]=se,i[7]=Ae,i[8]=ge,i[9]=_e}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let l=2;l<10;l++)e[l]+=s,s=e[l]>>>13,e[l]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let l=1;l<10;l++)r[l]=e[l]+s,s=r[l]>>>13,r[l]&=8191;r[9]-=8192;let i=(s^1)-1;for(let l=0;l<10;l++)r[l]&=i;i=~i;for(let l=0;l<10;l++)e[l]=e[l]&i|r[l];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let l=1;l<8;l++)o=(e[l]+n[l]|0)+(o>>>16)|0,e[l]=o&65535;nd(r)}update(e){JN(this),e=S1(e),Ur(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){nd(this.h,this.r,this.buffer,this.pad)}digestInto(e){JN(this),$Y(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function XY(t){const e=(r,s)=>t(s).update(S1(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const JY=XY(t=>new QY(t));function eZ(t,e,n,r,s,i=20){let o=t[0],l=t[1],d=t[2],f=t[3],p=e[0],g=e[1],m=e[2],b=e[3],w=e[4],E=e[5],_=e[6],C=e[7],I=s,A=n[0],O=n[1],x=n[2],T=o,P=l,U=d,S=f,B=p,L=g,z=m,K=b,G=w,k=E,R=_,F=C,V=I,W=A,D=O,q=x;for(let te=0;te<i;te+=2)T=T+B|0,V=mt(V^T,16),G=G+V|0,B=mt(B^G,12),T=T+B|0,V=mt(V^T,8),G=G+V|0,B=mt(B^G,7),P=P+L|0,W=mt(W^P,16),k=k+W|0,L=mt(L^k,12),P=P+L|0,W=mt(W^P,8),k=k+W|0,L=mt(L^k,7),U=U+z|0,D=mt(D^U,16),R=R+D|0,z=mt(z^R,12),U=U+z|0,D=mt(D^U,8),R=R+D|0,z=mt(z^R,7),S=S+K|0,q=mt(q^S,16),F=F+q|0,K=mt(K^F,12),S=S+K|0,q=mt(q^S,8),F=F+q|0,K=mt(K^F,7),T=T+L|0,q=mt(q^T,16),R=R+q|0,L=mt(L^R,12),T=T+L|0,q=mt(q^T,8),R=R+q|0,L=mt(L^R,7),P=P+z|0,V=mt(V^P,16),F=F+V|0,z=mt(z^F,12),P=P+z|0,V=mt(V^P,8),F=F+V|0,z=mt(z^F,7),U=U+K|0,W=mt(W^U,16),G=G+W|0,K=mt(K^G,12),U=U+K|0,W=mt(W^U,8),G=G+W|0,K=mt(K^G,7),S=S+B|0,D=mt(D^S,16),k=k+D|0,B=mt(B^k,12),S=S+B|0,D=mt(D^S,8),k=k+D|0,B=mt(B^k,7);let X=0;r[X++]=o+T|0,r[X++]=l+P|0,r[X++]=d+U|0,r[X++]=f+S|0,r[X++]=p+B|0,r[X++]=g+L|0,r[X++]=m+z|0,r[X++]=b+K|0,r[X++]=w+G|0,r[X++]=E+k|0,r[X++]=_+R|0,r[X++]=C+F|0,r[X++]=I+V|0,r[X++]=A+W|0,r[X++]=O+D|0,r[X++]=x+q|0}const tZ=ZY(eZ,{counterRight:!1,counterLength:4,allowShortKeys:!1}),nZ=new Uint8Array(16),rI=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(nZ.subarray(n))},rZ=new Uint8Array(32);function sI(t,e,n,r,s){const i=t(e,n,rZ),o=JY.create(i);s&&rI(o,s),rI(o,r);const l=zY(r.length,s?s.length:0,!0);o.update(l);const d=o.digest();return nd(i,l),d}const sZ=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=eI(o+16,i,!1),i.set(s);const l=i.subarray(0,-16);t(e,n,l,l,1);const d=sI(t,e,n,l,r);return i.set(d,o),nd(d),i},decrypt(s,i){i=eI(s.length-16,i,!1);const o=s.subarray(0,-16),l=s.subarray(-16),d=sI(t,e,n,o,r);if(!jY(l,d))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),nd(d),i}}),FD=FY({blockSize:64,nonceLength:12,tagLength:16},sZ(tZ));let zD=class extends c0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Q_(e);const r=ti(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Ps(i)}update(e){return Ho(this),this.iHash.update(e),this}digestInto(e){Ho(this),Os(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=l,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const u0=(t,e,n)=>new zD(t,e).update(n).digest();u0.create=(t,e)=>new zD(t,e);function iZ(t,e,n){return Q_(t),n===void 0&&(n=new Uint8Array(t.outputLen)),u0(t,ti(n),ti(e))}const Yv=Uint8Array.from([0]),iI=Uint8Array.of();function aZ(t,e,n,r=32){Q_(t),Na(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=iI);const o=new Uint8Array(i*s),l=u0.create(t,e),d=l._cloneInto(),f=new Uint8Array(l.outputLen);for(let p=0;p<i;p++)Yv[0]=p+1,d.update(p===0?iI:f).update(n).update(Yv).digestInto(f),o.set(f,s*p),l._cloneInto(d);return l.destroy(),d.destroy(),Ps(f,Yv),o.slice(0,r)}const oZ=(t,e,n,r,s)=>aZ(t,iZ(t,e,n),r,s),d0=l0,nC=BigInt(0),x1=BigInt(1);function Cy(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function bm(t){const e=t.toString(16);return e.length&1?"0"+e:e}function qD(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?nC:BigInt("0x"+t)}function f0(t){return qD(Kh(t))}function Sy(t){return Os(t),qD(Kh(Uint8Array.from(t).reverse()))}function rC(t,e){return J_(t.toString(16).padStart(e*2,"0"))}function sC(t,e){return rC(t,e).reverse()}function Pr(t,e,n){let r;if(typeof e=="string")try{r=J_(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Z_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const Zv=t=>typeof t=="bigint"&&nC<=t;function cZ(t,e,n){return Zv(t)&&Zv(e)&&Zv(n)&&e<=t&&t<n}function N1(t,e,n,r){if(!cZ(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function lZ(t){let e;for(e=0;t>nC;t>>=x1,e+=1);return e}const h0=t=>(x1<<BigInt(t))-x1;function uZ(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),s=m=>Uint8Array.of(m);let i=r(t),o=r(t),l=0;const d=()=>{i.fill(1),o.fill(0),l=0},f=(...m)=>n(o,i,...m),p=(m=r(0))=>{o=f(s(0),m),i=f(),m.length!==0&&(o=f(s(1),m),i=f())},g=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const b=[];for(;m<e;){i=f();const w=i.slice();b.push(w),m+=i.length}return Oc(...b)};return(m,b)=>{d(),p(m);let w;for(;!(w=b(g()));)p();return d(),w}}function p0(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const l=t[s];if(o&&l===void 0)return;const d=typeof l;if(d!==i||l===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${d}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function aI(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const $r=BigInt(0),fr=BigInt(1),Pc=BigInt(2),dZ=BigInt(3),HD=BigInt(4),VD=BigInt(5),GD=BigInt(8);function As(t,e){const n=t%e;return n>=$r?n:e+n}function Hs(t,e,n){let r=t;for(;e-- >$r;)r*=r,r%=n;return r}function oI(t,e){if(t===$r)throw new Error("invert: expected non-zero number");if(e<=$r)throw new Error("invert: expected positive modulus, got "+e);let n=As(t,e),r=e,s=$r,i=fr;for(;n!==$r;){const o=r/n,l=r%n,d=s-i*o;r=n,n=l,s=i,i=d}if(r!==fr)throw new Error("invert: does not exist");return As(s,e)}function WD(t,e){const n=(t.ORDER+fr)/HD,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function fZ(t,e){const n=(t.ORDER-VD)/GD,r=t.mul(e,Pc),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Pc),s),l=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(l),e))throw new Error("Cannot find square root");return l}function hZ(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-fr,n=0;for(;e%Pc===$r;)e/=Pc,n++;let r=Pc;const s=wd(t);for(;cI(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return WD;let i=s.pow(r,e);const o=(e+fr)/Pc;return function(l,d){if(l.is0(d))return d;if(cI(l,d)!==1)throw new Error("Cannot find square root");let f=n,p=l.mul(l.ONE,i),g=l.pow(d,e),m=l.pow(d,o);for(;!l.eql(g,l.ONE);){if(l.is0(g))return l.ZERO;let b=1,w=l.sqr(g);for(;!l.eql(w,l.ONE);)if(b++,w=l.sqr(w),b===f)throw new Error("Cannot find square root");const E=fr<<BigInt(f-b-1),_=l.pow(p,E);f=b,p=l.sqr(_),g=l.mul(g,p),m=l.mul(m,_)}return m}}function pZ(t){return t%HD===dZ?WD:t%GD===VD?fZ:hZ(t)}const gZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mZ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=gZ.reduce((r,s)=>(r[s]="function",r),e);return p0(t,n),t}function yZ(t,e,n){if(n<$r)throw new Error("invalid exponent, negatives unsupported");if(n===$r)return t.ONE;if(n===fr)return e;let r=t.ONE,s=e;for(;n>$r;)n&fr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=fr;return r}function KD(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,l,d)=>t.is0(l)?o:(r[d]=o,t.mul(o,l)),t.ONE),i=t.inv(s);return e.reduceRight((o,l,d)=>t.is0(l)?o:(r[d]=t.mul(o,r[d]),t.mul(o,l)),i),r}function cI(t,e){const n=(t.ORDER-fr)/Pc,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function wZ(t,e){e!==void 0&&Na(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wd(t,e,n=!1,r={}){if(t<=$r)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(s=p.BITS),p.sqrt&&(i=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:l}=wZ(t,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const f=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:l,MASK:h0(o),ZERO:$r,ONE:fr,create:p=>As(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return $r<=p&&p<t},is0:p=>p===$r,isValidNot0:p=>!f.is0(p)&&f.isValid(p),isOdd:p=>(p&fr)===fr,neg:p=>As(-p,t),eql:(p,g)=>p===g,sqr:p=>As(p*p,t),add:(p,g)=>As(p+g,t),sub:(p,g)=>As(p-g,t),mul:(p,g)=>As(p*g,t),pow:(p,g)=>yZ(f,p,g),div:(p,g)=>As(p*oI(g,t),t),sqrN:p=>p*p,addN:(p,g)=>p+g,subN:(p,g)=>p-g,mulN:(p,g)=>p*g,inv:p=>oI(p,t),sqrt:i||(p=>(d||(d=pZ(t)),d(f,p))),toBytes:p=>n?sC(p,l):rC(p,l),fromBytes:p=>{if(p.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+p.length);return n?Sy(p):f0(p)},invertBatch:p=>KD(f,p),cmov:(p,g,m)=>m?g:p});return Object.freeze(f)}function YD(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ZD(t){const e=YD(t);return e+Math.ceil(e/2)}function bZ(t,e,n=!1){const r=t.length,s=YD(e),i=ZD(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Sy(t):f0(t),l=As(o,e-fr)+fr;return n?sC(l,s):rC(l,s)}const rd=BigInt(0),Dc=BigInt(1);function ih(t,e){const n=e.negate();return t?n:e}function vZ(t,e,n){const r=i=>i.pz,s=KD(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function QD(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Qv(t,e){QD(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=h0(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function lI(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let l=Number(t&s),d=t>>o;l>r&&(l-=i,d+=Dc);const f=e*r,p=f+Math.abs(l)-1,g=l===0,m=l<0,b=e%2!==0;return{nextN:d,offset:p,isZero:g,isNeg:m,isNegF:b,offsetF:f}}function EZ(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function _Z(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Xv=new WeakMap,XD=new WeakMap;function Jv(t){return XD.get(t)||1}function uI(t){if(t!==rd)throw new Error("invalid wNAF")}function CZ(t,e){return{constTimeNegate:ih,hasPrecomputes(n){return Jv(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>rd;)r&Dc&&(s=s.add(i)),i=i.double(),r>>=Dc;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Qv(r,e),o=[];let l=n,d=l;for(let f=0;f<s;f++){d=l,o.push(d);for(let p=1;p<i;p++)d=d.add(l),o.push(d);l=d.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const l=Qv(n,e);for(let d=0;d<l.windows;d++){const{nextN:f,offset:p,isZero:g,isNeg:m,isNegF:b,offsetF:w}=lI(s,d,l);s=f,g?o=o.add(ih(b,r[w])):i=i.add(ih(m,r[p]))}return uI(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=Qv(n,e);for(let l=0;l<o.windows&&s!==rd;l++){const{nextN:d,offset:f,isZero:p,isNeg:g}=lI(s,l,o);if(s=d,!p){const m=r[f];i=i.add(g?m.negate():m)}}return uI(s),i},getPrecomputes(n,r,s){let i=Xv.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),Xv.set(r,i))),i},wNAFCached(n,r,s){const i=Jv(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Jv(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){QD(r,e),XD.set(n,r),Xv.delete(n)}}}function SZ(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>rd||r>rd;)n&Dc&&(i=i.add(s)),r&Dc&&(o=o.add(s)),s=s.double(),n>>=Dc,r>>=Dc;return{p1:i,p2:o}}function AZ(t,e,n,r){EZ(n,t),_Z(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,l=lZ(BigInt(s));let d=1;l>12?d=l-3:l>4?d=l-2:l>0&&(d=2);const f=h0(d),p=new Array(Number(f)+1).fill(o),g=Math.floor((e.BITS-1)/d)*d;let m=o;for(let b=g;b>=0;b-=d){p.fill(o);for(let E=0;E<i;E++){const _=r[E],C=Number(_>>BigInt(b)&f);p[C]=p[C].add(n[E])}let w=o;for(let E=p.length-1,_=o;E>0;E--)_=_.add(p[E]),w=w.add(_);if(m=m.add(w),b!==0)for(let E=0;E<d;E++)m=m.double()}return m}function dI(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return mZ(e),e}else return wd(t)}function TZ(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const l=e[o];if(!(typeof l=="bigint"&&l>rd))throw new Error(`CURVE.${o} must be positive bigint`)}const r=dI(e.p,n.Fp),s=dI(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Df=BigInt(0),ou=BigInt(1),vm=BigInt(2);function xZ(t){return p0(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function NZ(t){const e=xZ(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,l=r==="x25519";if(!l&&r!=="x448")throw new Error("invalid type");const d=o||yd,f=l?255:448,p=l?32:56,g=BigInt(l?9:5),m=BigInt(l?121665:39081),b=l?vm**BigInt(254):vm**BigInt(447),w=l?BigInt(8)*vm**BigInt(251)-ou:BigInt(4)*vm**BigInt(445)-ou,E=b+w+ou,_=S=>As(S,n),C=I(g);function I(S){return sC(_(S),p)}function A(S){const B=Pr("u coordinate",S,p);return l&&(B[31]&=127),_(Sy(B))}function O(S){return Sy(s(Pr("scalar",S,p)))}function x(S,B){const L=U(A(B),O(S));if(L===Df)throw new Error("invalid private or public key received");return I(L)}function T(S){return x(S,C)}function P(S,B,L){const z=_(S*(B-L));return B=_(B-z),L=_(L+z),{x_2:B,x_3:L}}function U(S,B){N1("u",S,Df,n),N1("scalar",B,b,E);const L=B,z=S;let K=ou,G=Df,k=S,R=ou,F=Df;for(let W=BigInt(f-1);W>=Df;W--){const D=L>>W&ou;F^=D,{x_2:K,x_3:k}=P(F,K,k),{x_2:G,x_3:R}=P(F,G,R),F=D;const q=K+G,X=_(q*q),te=K-G,ee=_(te*te),ie=X-ee,se=k+R,Ae=k-R,ge=_(Ae*q),_e=_(se*te),qe=ge+_e,Je=ge-_e;k=_(qe*qe),R=_(z*_(Je*Je)),K=_(X*ee),G=_(ie*(X+_(m*ie)))}({x_2:K,x_3:k}=P(F,K,k)),{x_2:G,x_3:R}=P(F,G,R);const V=i(G);return _(K*V)}return{scalarMult:x,scalarMultBase:T,getSharedSecret:(S,B)=>x(S,B),getPublicKey:S=>T(S),utils:{randomPrivateKey:()=>d(p)},GuBytes:C.slice()}}BigInt(0);const IZ=BigInt(1),fI=BigInt(2),RZ=BigInt(3),OZ=BigInt(5);BigInt(8);const JD={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function PZ(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=JD.p,o=t*t%i*t%i,l=Hs(o,fI,i)*o%i,d=Hs(l,IZ,i)*t%i,f=Hs(d,OZ,i)*d%i,p=Hs(f,e,i)*f%i,g=Hs(p,n,i)*p%i,m=Hs(g,r,i)*g%i,b=Hs(m,s,i)*m%i,w=Hs(b,s,i)*m%i,E=Hs(w,e,i)*f%i;return{pow_p_5_8:Hs(E,fI,i)*t%i,b2:o}}function DZ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const I1=(()=>{const t=JD.p;return NZ({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=PZ(e);return As(Hs(n,RZ,t)*r,t)},adjustScalarBytes:DZ})})();function hI(t){t.lowS!==void 0&&Cy("lowS",t.lowS),t.prehash!==void 0&&Cy("prehash",t.prehash)}class UZ extends Error{constructor(e=""){super(e)}}const ya={Err:UZ,_tlv:{encode:(t,e)=>{const{Err:n}=ya;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=bm(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?bm(s.length/2|128):"";return bm(t)+i+s+e},decode(t,e){const{Err:n}=ya;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const d=s&127;if(!d)throw new n("tlv.decode(long): indefinite length not supported");if(d>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+d);if(f.length!==d)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of f)o=o<<8|p;if(r+=d,o<128)throw new n("tlv.decode(long): not minimal encoding")}const l=e.subarray(r,r+o);if(l.length!==o)throw new n("tlv.decode: wrong value length");return{v:l,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ya;if(t<ah)throw new e("integer: negative integers are not allowed");let n=bm(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ya;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return f0(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ya,s=Pr("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:d}=r.decode(2,i),{v:f,l:p}=r.decode(2,d);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(l),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=ya,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},ah=BigInt(0),oh=BigInt(1),$Z=BigInt(2),Em=BigInt(3),kZ=BigInt(4);function MZ(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function e5(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let l=Pr("private key",i);if(e){if(!e.includes(l.length*2))throw new Error("invalid private key");const d=new Uint8Array(r);d.set(l,d.length-l.length),l=d}try{o=t.fromBytes(l)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function BZ(t,e={}){const{Fp:n,Fn:r}=TZ("weierstrass",t,e),{h:s,n:i}=t;p0(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function l(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(U,S,B){const{x:L,y:z}=S.toAffine(),K=n.toBytes(L);if(Cy("isCompressed",B),B){l();const G=!n.isOdd(z);return Oc(t5(G),K)}else return Oc(Uint8Array.of(4),K,n.toBytes(z))}function f(U){Os(U);const S=n.BYTES,B=S+1,L=2*S+1,z=U.length,K=U[0],G=U.subarray(1);if(z===B&&(K===2||K===3)){const k=n.fromBytes(G);if(!n.isValid(k))throw new Error("bad point: is not on curve, wrong x");const R=m(k);let F;try{F=n.sqrt(R)}catch(W){const D=W instanceof Error?": "+W.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}l();const V=n.isOdd(F);return(K&1)===1!==V&&(F=n.neg(F)),{x:k,y:F}}else if(z===L&&K===4){const k=n.fromBytes(G.subarray(S*0,S*1)),R=n.fromBytes(G.subarray(S*1,S*2));if(!b(k,R))throw new Error("bad point: is not on curve");return{x:k,y:R}}else throw new Error(`bad point: got length ${z}, expected compressed=${B} or uncompressed=${L}`)}const p=e.toBytes||d,g=e.fromBytes||f,m=MZ(n,t.a,t.b);function b(U,S){const B=n.sqr(S),L=m(U);return n.eql(B,L)}if(!b(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const w=n.mul(n.pow(t.a,Em),kZ),E=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(w,E)))throw new Error("bad curve params: a or b");function _(U,S,B=!1){if(!n.isValid(S)||B&&n.is0(S))throw new Error(`bad point coordinate ${U}`);return S}function C(U){if(!(U instanceof x))throw new Error("ProjectivePoint expected")}const I=aI((U,S)=>{const{px:B,py:L,pz:z}=U;if(n.eql(z,n.ONE))return{x:B,y:L};const K=U.is0();S==null&&(S=K?n.ONE:n.inv(z));const G=n.mul(B,S),k=n.mul(L,S),R=n.mul(z,S);if(K)return{x:n.ZERO,y:n.ZERO};if(!n.eql(R,n.ONE))throw new Error("invZ was invalid");return{x:G,y:k}}),A=aI(U=>{if(U.is0()){if(e.allowInfinityPoint&&!n.is0(U.py))return;throw new Error("bad point: ZERO")}const{x:S,y:B}=U.toAffine();if(!n.isValid(S)||!n.isValid(B))throw new Error("bad point: x or y not field elements");if(!b(S,B))throw new Error("bad point: equation left != right");if(!U.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function O(U,S,B,L,z){return B=new x(n.mul(B.px,U),B.py,B.pz),S=ih(L,S),B=ih(z,B),S.add(B)}class x{constructor(S,B,L){this.px=_("x",S),this.py=_("y",B,!0),this.pz=_("z",L),Object.freeze(this)}static fromAffine(S){const{x:B,y:L}=S||{};if(!S||!n.isValid(B)||!n.isValid(L))throw new Error("invalid affine point");if(S instanceof x)throw new Error("projective point not allowed");return n.is0(B)&&n.is0(L)?x.ZERO:new x(B,L,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){return vZ(x,"pz",S)}static fromBytes(S){return Os(S),x.fromHex(S)}static fromHex(S){const B=x.fromAffine(g(Pr("pointHex",S)));return B.assertValidity(),B}static fromPrivateKey(S){const B=e5(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return x.BASE.multiply(B(S))}static msm(S,B){return AZ(x,r,S,B)}precompute(S=8,B=!0){return P.setWindowSize(this,S),B||this.multiply(Em),this}_setWindowSize(S){this.precompute(S)}assertValidity(){A(this)}hasEvenY(){const{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){C(S);const{px:B,py:L,pz:z}=this,{px:K,py:G,pz:k}=S,R=n.eql(n.mul(B,k),n.mul(K,z)),F=n.eql(n.mul(L,k),n.mul(G,z));return R&&F}negate(){return new x(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:B}=t,L=n.mul(B,Em),{px:z,py:K,pz:G}=this;let k=n.ZERO,R=n.ZERO,F=n.ZERO,V=n.mul(z,z),W=n.mul(K,K),D=n.mul(G,G),q=n.mul(z,K);return q=n.add(q,q),F=n.mul(z,G),F=n.add(F,F),k=n.mul(S,F),R=n.mul(L,D),R=n.add(k,R),k=n.sub(W,R),R=n.add(W,R),R=n.mul(k,R),k=n.mul(q,k),F=n.mul(L,F),D=n.mul(S,D),q=n.sub(V,D),q=n.mul(S,q),q=n.add(q,F),F=n.add(V,V),V=n.add(F,V),V=n.add(V,D),V=n.mul(V,q),R=n.add(R,V),D=n.mul(K,G),D=n.add(D,D),V=n.mul(D,q),k=n.sub(k,V),F=n.mul(D,W),F=n.add(F,F),F=n.add(F,F),new x(k,R,F)}add(S){C(S);const{px:B,py:L,pz:z}=this,{px:K,py:G,pz:k}=S;let R=n.ZERO,F=n.ZERO,V=n.ZERO;const W=t.a,D=n.mul(t.b,Em);let q=n.mul(B,K),X=n.mul(L,G),te=n.mul(z,k),ee=n.add(B,L),ie=n.add(K,G);ee=n.mul(ee,ie),ie=n.add(q,X),ee=n.sub(ee,ie),ie=n.add(B,z);let se=n.add(K,k);return ie=n.mul(ie,se),se=n.add(q,te),ie=n.sub(ie,se),se=n.add(L,z),R=n.add(G,k),se=n.mul(se,R),R=n.add(X,te),se=n.sub(se,R),V=n.mul(W,ie),R=n.mul(D,te),V=n.add(R,V),R=n.sub(X,V),V=n.add(X,V),F=n.mul(R,V),X=n.add(q,q),X=n.add(X,q),te=n.mul(W,te),ie=n.mul(D,ie),X=n.add(X,te),te=n.sub(q,te),te=n.mul(W,te),ie=n.add(ie,te),q=n.mul(X,ie),F=n.add(F,q),q=n.mul(se,ie),R=n.mul(ee,R),R=n.sub(R,q),q=n.mul(ee,X),V=n.mul(se,V),V=n.add(V,q),new x(R,F,V)}subtract(S){return this.add(S.negate())}is0(){return this.equals(x.ZERO)}multiply(S){const{endo:B}=e;if(!r.isValidNot0(S))throw new Error("invalid scalar: out of range");let L,z;const K=G=>P.wNAFCached(this,G,x.normalizeZ);if(B){const{k1neg:G,k1:k,k2neg:R,k2:F}=B.splitScalar(S),{p:V,f:W}=K(k),{p:D,f:q}=K(F);z=W.add(q),L=O(B.beta,V,D,G,R)}else{const{p:G,f:k}=K(S);L=G,z=k}return x.normalizeZ([L,z])[0]}multiplyUnsafe(S){const{endo:B}=e,L=this;if(!r.isValid(S))throw new Error("invalid scalar: out of range");if(S===ah||L.is0())return x.ZERO;if(S===oh)return L;if(P.hasPrecomputes(this))return this.multiply(S);if(B){const{k1neg:z,k1:K,k2neg:G,k2:k}=B.splitScalar(S),{p1:R,p2:F}=SZ(x,L,K,k);return O(B.beta,R,F,z,G)}else return P.wNAFCachedUnsafe(L,S)}multiplyAndAddUnsafe(S,B,L){const z=this.multiplyUnsafe(B).add(S.multiplyUnsafe(L));return z.is0()?void 0:z}toAffine(S){return I(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return s===oh?!0:S?S(x,this):P.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:S}=e;return s===oh?this:S?S(x,this):this.multiplyUnsafe(s)}toBytes(S=!0){return Cy("isCompressed",S),this.assertValidity(),p(x,this,S)}toRawBytes(S=!0){return this.toBytes(S)}toHex(S=!0){return Kh(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}x.BASE=new x(t.Gx,t.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO),x.Fp=n,x.Fn=r;const T=r.BITS,P=CZ(x,e.endo?Math.ceil(T/2):T);return x}function t5(t){return Uint8Array.of(t?2:3)}function LZ(t,e,n={}){p0(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||yd,s=e.hmac||((L,...z)=>u0(e.hash,L,Oc(...z))),{Fp:i,Fn:o}=t,{ORDER:l,BITS:d}=o;function f(L){const z=l>>oh;return L>z}function p(L){return f(L)?o.neg(L):L}function g(L,z){if(!o.isValidNot0(z))throw new Error(`invalid signature ${L}: out of range 1..CURVE.n`)}class m{constructor(z,K,G){g("r",z),g("s",K),this.r=z,this.s=K,G!=null&&(this.recovery=G),Object.freeze(this)}static fromCompact(z){const K=o.BYTES,G=Pr("compactSignature",z,K*2);return new m(o.fromBytes(G.subarray(0,K)),o.fromBytes(G.subarray(K,K*2)))}static fromDER(z){const{r:K,s:G}=ya.toSig(Pr("DER",z));return new m(K,G)}assertValidity(){}addRecoveryBit(z){return new m(this.r,this.s,z)}recoverPublicKey(z){const K=i.ORDER,{r:G,s:k,recovery:R}=this;if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");if(l*$Z<K&&R>1)throw new Error("recovery id is ambiguous for h>1 curve");const F=R===2||R===3?G+l:G;if(!i.isValid(F))throw new Error("recovery id 2 or 3 invalid");const V=i.toBytes(F),W=t.fromHex(Oc(t5((R&1)===0),V)),D=o.inv(F),q=A(Pr("msgHash",z)),X=o.create(-q*D),te=o.create(k*D),ee=t.BASE.multiplyUnsafe(X).add(W.multiplyUnsafe(te));if(ee.is0())throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o.neg(this.s),this.recovery):this}toBytes(z){if(z==="compact")return Oc(o.toBytes(this.r),o.toBytes(this.s));if(z==="der")return J_(ya.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Kh(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Kh(this.toBytes("compact"))}}const b=e5(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),w={isValidPrivateKey(L){try{return b(L),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const L=l;return bZ(r(ZD(L)),L)},precompute(L=8,z=t.BASE){return z.precompute(L,!1)}};function E(L,z=!0){return t.fromPrivateKey(L).toBytes(z)}function _(L){if(typeof L=="bigint")return!1;if(L instanceof t)return!0;const z=Pr("key",L).length,K=i.BYTES,G=K+1,k=2*K+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===G))return z===G||z===k}function C(L,z,K=!0){if(_(L)===!0)throw new Error("first arg must be private key");if(_(z)===!1)throw new Error("second arg must be public key");return t.fromHex(z).multiply(b(L)).toBytes(K)}const I=e.bits2int||function(L){if(L.length>8192)throw new Error("input is too large");const z=f0(L),K=L.length*8-d;return K>0?z>>BigInt(K):z},A=e.bits2int_modN||function(L){return o.create(I(L))},O=h0(d);function x(L){return N1("num < 2^"+d,L,ah,O),o.toBytes(L)}function T(L,z,K=P){if(["recovered","canonical"].some(ee=>ee in K))throw new Error("sign() legacy options not supported");const{hash:G}=e;let{lowS:k,prehash:R,extraEntropy:F}=K;k==null&&(k=!0),L=Pr("msgHash",L),hI(K),R&&(L=Pr("prehashed msgHash",G(L)));const V=A(L),W=b(z),D=[x(W),x(V)];if(F!=null&&F!==!1){const ee=F===!0?r(i.BYTES):F;D.push(Pr("extraEntropy",ee))}const q=Oc(...D),X=V;function te(ee){const ie=I(ee);if(!o.isValidNot0(ie))return;const se=o.inv(ie),Ae=t.BASE.multiply(ie).toAffine(),ge=o.create(Ae.x);if(ge===ah)return;const _e=o.create(se*o.create(X+ge*W));if(_e===ah)return;let qe=(Ae.x===ge?0:2)|Number(Ae.y&oh),Je=_e;return k&&f(_e)&&(Je=p(_e),qe^=1),new m(ge,Je,qe)}return{seed:q,k2sig:te}}const P={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function S(L,z,K=P){const{seed:G,k2sig:k}=T(L,z,K);return uZ(e.hash.outputLen,o.BYTES,s)(G,k)}t.BASE.precompute(8);function B(L,z,K,G=U){const k=L;z=Pr("msgHash",z),K=Pr("publicKey",K),hI(G);const{lowS:R,prehash:F,format:V}=G;if("strict"in G)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&!["compact","der","js"].includes(V))throw new Error('format must be "compact", "der" or "js"');const W=typeof k=="string"||Z_(k),D=!W&&!V&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!W&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,X;try{if(D)if(V===void 0||V==="js")q=new m(k.r,k.s);else throw new Error("invalid format");if(W){try{V!=="compact"&&(q=m.fromDER(k))}catch(qe){if(!(qe instanceof ya.Err))throw qe}!q&&V!=="der"&&(q=m.fromCompact(k))}X=t.fromHex(K)}catch{return!1}if(!q||R&&q.hasHighS())return!1;F&&(z=e.hash(z));const{r:te,s:ee}=q,ie=A(z),se=o.inv(ee),Ae=o.create(ie*se),ge=o.create(te*se),_e=t.BASE.multiplyUnsafe(Ae).add(X.multiplyUnsafe(ge));return _e.is0()?!1:o.create(_e.x)===te}return Object.freeze({getPublicKey:E,getSharedSecret:C,sign:S,verify:B,utils:w,Point:t,Signature:m})}function jZ(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=wd(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function FZ(t){const{CURVE:e,curveOpts:n}=jZ(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function zZ(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function qZ(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=FZ(t),s=BZ(e,n),i=LZ(s,r,n);return zZ(t,i)}function R1(t,e){const n=r=>qZ({...t,hash:r});return{...n(e),create:n}}const n5={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},r5={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},s5={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},HZ=wd(n5.p),VZ=wd(r5.p),GZ=wd(s5.p),WZ=R1({...n5,Fp:HZ,lowS:!1},l0);R1({...r5,Fp:VZ,lowS:!1},tY),R1({...s5,Fp:GZ,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},eY);const KZ=WZ,i5="base10",hr="base16",Js="base64pad",Co="base64url",Op="utf8",a5=0,Ca=1,Pp=2,YZ=0,pI=1,ch=12,iC=32;function ZZ(){const t=I1.utils.randomPrivateKey(),e=I1.getPublicKey(t);return{privateKey:Mr(t,hr),publicKey:Mr(e,hr)}}function O1(){const t=yd(iC);return Mr(t,hr)}function QZ(t,e){const n=I1.getSharedSecret(Ts(t,hr),Ts(e,hr)),r=oZ(d0,n,void 0,void 0,iC);return Mr(r,hr)}function jm(t){const e=d0(Ts(t,hr));return Mr(e,hr)}function Ni(t){const e=d0(Ts(t,Op));return Mr(e,hr)}function o5(t){return Ts(`${t}`,i5)}function rl(t){return Number(Mr(t,i5))}function c5(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function l5(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function XZ(t){const e=o5(typeof t.type<"u"?t.type:a5);if(rl(e)===Ca&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Ts(t.senderPublicKey,hr):void 0,r=typeof t.iv<"u"?Ts(t.iv,hr):yd(ch),s=Ts(t.symKey,hr),i=FD(s,r).encrypt(Ts(t.message,Op)),o=u5({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===Co?c5(o):o}function JZ(t){const e=Ts(t.symKey,hr),{sealed:n,iv:r}=Zh({encoded:t.encoded,encoding:t.encoding}),s=FD(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Mr(s,Op)}function eQ(t,e){const n=o5(Pp),r=yd(ch),s=Ts(t,Op),i=u5({type:n,sealed:s,iv:r});return e===Co?c5(i):i}function tQ(t,e){const{sealed:n}=Zh({encoded:t,encoding:e});return Mr(n,Op)}function u5(t){if(rl(t.type)===Pp)return Mr(sh([t.type,t.sealed]),Js);if(rl(t.type)===Ca){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Mr(sh([t.type,t.senderPublicKey,t.iv,t.sealed]),Js)}return Mr(sh([t.type,t.iv,t.sealed]),Js)}function Zh(t){const e=(t.encoding||Js)===Co?l5(t.encoded):t.encoded,n=Ts(e,Js),r=n.slice(YZ,pI),s=pI;if(rl(r)===Ca){const d=s+iC,f=d+ch,p=n.slice(s,d),g=n.slice(d,f),m=n.slice(f);return{type:r,sealed:m,iv:g,senderPublicKey:p}}if(rl(r)===Pp){const d=n.slice(s),f=yd(ch);return{type:r,sealed:d,iv:f}}const i=s+ch,o=n.slice(s,i),l=n.slice(i);return{type:r,sealed:l,iv:o}}function nQ(t,e){const n=Zh({encoded:t,encoding:e==null?void 0:e.encoding});return d5({type:rl(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Mr(n.senderPublicKey,hr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function d5(t){const e=(t==null?void 0:t.type)||a5;if(e===Ca){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function gI(t){return t.type===Ca&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function mI(t){return t.type===Pp}function rQ(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return sh([new Uint8Array([4]),e,n])}function sQ(t,e){const[n,r,s]=t.split("."),i=Buffer.from(l5(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),l=i.slice(32,64),d=`${n}.${r}`,f=d0(d),p=rQ(e);if(!KZ.verify(sh([o,l]),f,p))throw new Error("Invalid signature");return h1(t).payload}const iQ="irn";function Ay(t){return(t==null?void 0:t.relay)||{protocol:iQ}}function Yf(t){const e=zW[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function aQ(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function yI(t){if(!t.includes("wc:")){const f=_D(t);f!=null&&f.includes("wc:")&&(t=f)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),l={};o.forEach((f,p)=>{l[p]=f});const d=typeof l.methods=="string"?l.methods.split(","):void 0;return{protocol:r,topic:oQ(s[0]),version:parseInt(s[1],10),symKey:l.symKey,relay:aQ(l),methods:d,expiryTimestamp:l.expiryTimestamp?parseInt(l.expiryTimestamp,10):void 0}}function oQ(t){return t.startsWith("//")?t.substring(2):t}function cQ(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function wI(t){const e=new URLSearchParams,n=cQ(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function _m(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var lQ=Object.defineProperty,uQ=Object.defineProperties,dQ=Object.getOwnPropertyDescriptors,bI=Object.getOwnPropertySymbols,fQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,vI=(t,e,n)=>e in t?lQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pQ=(t,e)=>{for(var n in e||(e={}))fQ.call(e,n)&&vI(t,n,e[n]);if(bI)for(var n of bI(e))hQ.call(e,n)&&vI(t,n,e[n]);return t},gQ=(t,e)=>uQ(t,dQ(e));function bd(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function mQ(t){const e=[];return Object.values(t).forEach(n=>{e.push(...bd(n.accounts))}),e}function yQ(t,e){const n=[];return Object.values(t).forEach(r=>{bd(r.accounts).includes(e)&&n.push(...r.methods)}),n}function wQ(t,e){const n=[];return Object.values(t).forEach(r=>{bd(r.accounts).includes(e)&&n.push(...r.events)}),n}function g0(t){return t.includes(":")}function xu(t){return g0(t)?t.split(":")[0]:t}function EI(t){var e,n,r;const s={};if(!Bo(t))return s;for(const[i,o]of Object.entries(t)){const l=g0(i)?[i]:o.chains,d=o.methods||[],f=o.events||[],p=xu(i);s[p]=gQ(pQ({},s[p]),{chains:Di(l,(e=s[p])==null?void 0:e.chains),methods:Di(d,(n=s[p])==null?void 0:n.methods),events:Di(f,(r=s[p])==null?void 0:r.events)})}return s}function bQ(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function _I(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=bQ(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Di(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function vQ(t,e){var n,r,s,i,o,l;const d=EI(t),f=EI(e),p={},g=Object.keys(d).concat(Object.keys(f));for(const m of g)p[m]={chains:Di((n=d[m])==null?void 0:n.chains,(r=f[m])==null?void 0:r.chains),methods:Di((s=d[m])==null?void 0:s.methods,(i=f[m])==null?void 0:i.methods),events:Di((o=d[m])==null?void 0:o.events,(l=f[m])==null?void 0:l.events)};return p}const EQ={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},_Q={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function we(t,e){const{message:n,code:r}=_Q[t];return{message:e?`${n} ${e}`:n,code:r}}function Kt(t,e){const{message:n,code:r}=EQ[t];return{message:e?`${n} ${e}`:n,code:r}}function Sa(t,e){return!!Array.isArray(t)}function Bo(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function qn(t){return typeof t>"u"}function pn(t,e){return e&&qn(t)?!0:typeof t=="string"&&!!t.trim().length}function aC(t,e){return e&&qn(t)?!0:typeof t=="number"&&!isNaN(t)}function CQ(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return Rc(s,r)?(r.forEach(o=>{const{accounts:l,methods:d,events:f}=t.namespaces[o],p=bd(l),g=n[o];(!Rc(yD(o,g),p)||!Rc(g.methods,d)||!Rc(g.events,f))&&(i=!1)}),i):!1}function Ty(t){return pn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function SQ(t){if(pn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Ty(n)}}return!1}function AQ(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(pn(t,!1)){if(e(t))return!0;const n=_D(t);return e(n)}}catch{}return!1}function TQ(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function xQ(t){return t==null?void 0:t.topic}function NQ(t,e){let n=null;return pn(t==null?void 0:t.publicKey,!1)||(n=we("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function CI(t){let e=!0;return Sa(t)?t.length&&(e=t.every(n=>pn(n,!1))):e=!1,e}function IQ(t,e,n){let r=null;return Sa(e)&&e.length?e.forEach(s=>{r||Ty(s)||(r=Kt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Ty(t)||(r=Kt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function RQ(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=IQ(s,yD(s,i),`${e} ${n}`);o&&(r=o)}),r}function OQ(t,e){let n=null;return Sa(t)?t.forEach(r=>{n||SQ(r)||(n=Kt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Kt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function PQ(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=OQ(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function DQ(t,e){let n=null;return CI(t==null?void 0:t.methods)?CI(t==null?void 0:t.events)||(n=Kt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Kt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function f5(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=DQ(r,`${e}, namespace`);s&&(n=s)}),n}function UQ(t,e,n){let r=null;if(t&&Bo(t)){const s=f5(t,e);s&&(r=s);const i=RQ(t,e,n);i&&(r=i)}else r=we("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function eE(t,e){let n=null;if(t&&Bo(t)){const r=f5(t,e);r&&(n=r);const s=PQ(t,e);s&&(n=s)}else n=we("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function h5(t){return pn(t.protocol,!0)}function $Q(t,e){let n=!1;return t?t&&Sa(t)&&t.length&&t.forEach(r=>{n=h5(r)}):n=!0,n}function kQ(t){return typeof t=="number"}function Ir(t){return typeof t<"u"&&typeof t!==null}function MQ(t){return!(!t||typeof t!="object"||!t.code||!aC(t.code,!1)||!t.message||!pn(t.message,!1))}function BQ(t){return!(qn(t)||!pn(t.method,!1))}function LQ(t){return!(qn(t)||qn(t.result)&&qn(t.error)||!aC(t.id,!1)||!pn(t.jsonrpc,!1))}function jQ(t){return!(qn(t)||!pn(t.name,!1))}function SI(t,e){return!(!Ty(e)||!mQ(t).includes(e))}function FQ(t,e,n){return pn(n,!1)?yQ(t,e).includes(n):!1}function zQ(t,e,n){return pn(n,!1)?wQ(t,e).includes(n):!1}function AI(t,e,n){let r=null;const s=qQ(t),i=HQ(e),o=Object.keys(s),l=Object.keys(i),d=TI(Object.keys(t)),f=TI(Object.keys(e)),p=d.filter(g=>!f.includes(g));return p.length&&(r=we("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),Rc(o,l)||(r=we("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${l.toString()}`)),Object.keys(e).forEach(g=>{if(!g.includes(":")||r)return;const m=bd(e[g].accounts);m.includes(g)||(r=we("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${m.toString()}`))}),o.forEach(g=>{r||(Rc(s[g].methods,i[g].methods)?Rc(s[g].events,i[g].events)||(r=we("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${g}`)):r=we("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${g}`))}),r}function qQ(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function TI(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function HQ(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=bd(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function VQ(t,e){return aC(t,!1)&&t<=e.max&&t>=e.min}function xI(){const t=Ip();return new Promise(e=>{switch(t){case ts.browser:e(GQ());break;case ts.reactNative:e(WQ());break;case ts.node:e(KQ());break;default:e(!0)}})}function GQ(){return md()&&(navigator==null?void 0:navigator.onLine)}async function WQ(){if(Yo()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function KQ(){return!0}function YQ(t){switch(Ip()){case ts.browser:ZQ(t);break;case ts.reactNative:QQ(t);break}}function ZQ(t){!Yo()&&md()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function QQ(t){Yo()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function XQ(){var t;return md()&&xa.getDocument()?((t=xa.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const tE={};class Uf{static get(e){return tE[e]}static set(e,n){tE[e]=n}static delete(e){delete tE[e]}}function JQ(t){const e=gd.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function eX({publicKey:t,signature:e,payload:n}){var r;const s=P1(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=rX(n.address),l=n.era==="00"?new Uint8Array([0]):P1(n.era);if(l.length!==1&&l.length!==2)throw new Error("Invalid era length");const d=parseInt(n.nonce,16),f=new Uint8Array([d&255,d>>8&255]),p=BigInt(`0x${nX(n.tip)}`),g=iX(p),m=new Uint8Array([0,...t,o,...e,...l,...f,...g,...s]),b=sX(m.length+1);return new Uint8Array([...b,i,...m])}function tX(t){const e=P1(t),n=GW.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function P1(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function nX(t){return t.startsWith("0x")?t.slice(2):t}function rX(t){const e=gd.decode(t)[0];return e===42?0:e===60?2:1}function sX(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function iX(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function aX(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=JQ(t.transaction.address),r=eX({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return tX(s)}const oX="PARSE_ERROR",cX="INVALID_REQUEST",lX="METHOD_NOT_FOUND",uX="INVALID_PARAMS",p5="INTERNAL_ERROR",oC="SERVER_ERROR",dX=[-32700,-32600,-32601,-32602,-32603],lh={[oX]:{code:-32700,message:"Parse error"},[cX]:{code:-32600,message:"Invalid Request"},[lX]:{code:-32601,message:"Method not found"},[uX]:{code:-32602,message:"Invalid params"},[p5]:{code:-32603,message:"Internal error"},[oC]:{code:-32e3,message:"Server error"}},g5=oC;function fX(t){return dX.includes(t)}function NI(t){return Object.keys(lh).includes(t)?lh[t]:lh[g5]}function hX(t){const e=Object.values(lh).find(n=>n.code===t);return e||lh[g5]}function m5(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var nE={},da={},II;function pX(){if(II)return da;II=1,Object.defineProperty(da,"__esModule",{value:!0}),da.isBrowserCryptoAvailable=da.getSubtleCrypto=da.getBrowerCrypto=void 0;function t(){return(Ai==null?void 0:Ai.crypto)||(Ai==null?void 0:Ai.msCrypto)||{}}da.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}da.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return da.isBrowserCryptoAvailable=n,da}var fa={},RI;function gX(){if(RI)return fa;RI=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.isBrowser=fa.isNode=fa.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}fa.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}fa.isNode=e;function n(){return!t()&&!e()}return fa.isBrowser=n,fa}var OI;function mX(){return OI||(OI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cp;e.__exportStar(pX(),t),e.__exportStar(gX(),t)}(nE)),nE}var yX=mX();function vi(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Uc(t=6){return BigInt(vi(t))}function Po(t,e,n){return{id:n||vi(),jsonrpc:"2.0",method:t,params:e}}function m0(t,e){return{id:t,jsonrpc:"2.0",result:e}}function y0(t,e,n){return{id:t,jsonrpc:"2.0",error:wX(e)}}function wX(t,e){return typeof t>"u"?NI(p5):(typeof t=="string"&&(t=Object.assign(Object.assign({},NI(oC)),{message:t})),fX(t.code)&&(t=hX(t.code)),t)}let bX=class{},vX=class extends bX{constructor(){super()}},EX=class extends vX{constructor(e){super()}};const _X="^https?:",CX="^wss?:";function SX(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function y5(t,e){const n=SX(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function PI(t){return y5(t,_X)}function DI(t){return y5(t,CX)}function AX(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function w5(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function cC(t){return w5(t)&&"method"in t}function w0(t){return w5(t)&&(Ei(t)||Ss(t))}function Ei(t){return"result"in t}function Ss(t){return"error"in t}let $s=class extends EX{constructor(e){super(e),this.events=new Us.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Po(e.method,e.params||[],e.id||Uc().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Ss(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),w0(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const TX=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),xX=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",UI=t=>t.split("?")[0],$I=10,NX=TX();let IX=class{constructor(e){if(this.url=e,this.events=new Us.EventEmitter,this.registering=!1,!DI(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ta(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!DI(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=yX.isReactNative()?void 0:{rejectUnauthorized:!AX(e)},i=new NX(e,[],s);xX()?i.onerror=o=>{const l=o;r(this.emitError(l.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?el(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=y0(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return m5(e,UI(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>$I&&this.events.setMaxListeners($I)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${UI(this.url)}`));return this.events.emit("register_error",n),n}};var RX={};const b5="wc",v5=2,D1="core",Mi=`${b5}@2:${D1}:`,OX={logger:"error"},PX={database:":memory:"},DX="crypto",kI="client_ed25519_seed",UX=ye.ONE_DAY,$X="keychain",kX="0.3",MX="messages",BX="0.3",MI=ye.SIX_HOURS,LX="publisher",E5="irn",jX="error",_5="wss://relay.walletconnect.org",FX="relayer",Pn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zX="_subscription",ws={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},qX=.1,U1="2.21.3",Ht={link_mode:"link_mode",relay:"relay"},Fm={inbound:"inbound",outbound:"outbound"},HX="0.3",VX="WALLETCONNECT_CLIENT_ID",BI="WALLETCONNECT_LINK_MODE_APPS",Zr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},GX="subscription",WX="0.3",KX="pairing",YX="0.3",$f={wc_pairingDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:ye.ONE_DAY,prompt:!1,tag:0}}},Ac={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Fs={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ZX="history",QX="0.3",XX="expirer",_s={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},JX="0.3",eJ="verify-api",tJ="https://verify.walletconnect.com",C5="https://verify.walletconnect.org",uh=C5,nJ=`${uh}/v3`,rJ=[tJ,C5],sJ="echo",iJ="https://echo.walletconnect.com",bi={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ga={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},zs={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},bc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},vc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},kf={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},aJ=.1,oJ="event-client",cJ=86400,lJ="https://pulse.walletconnect.org/batch";function uJ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var l=t.length,d=t.charAt(0),f=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var E=0,_=0,C=0,I=w.length;C!==I&&w[C]===0;)C++,E++;for(var A=(I-C)*p+1>>>0,O=new Uint8Array(A);C!==I;){for(var x=w[C],T=0,P=A-1;(x!==0||T<_)&&P!==-1;P--,T++)x+=256*O[P]>>>0,O[P]=x%l>>>0,x=x/l>>>0;if(x!==0)throw new Error("Non-zero carry");_=T,C++}for(var U=A-_;U!==A&&O[U]===0;)U++;for(var S=d.repeat(E);U<A;++U)S+=t.charAt(O[U]);return S}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var E=0;if(w[E]!==" "){for(var _=0,C=0;w[E]===d;)_++,E++;for(var I=(w.length-E)*f+1>>>0,A=new Uint8Array(I);w[E];){var O=n[w.charCodeAt(E)];if(O===255)return;for(var x=0,T=I-1;(O!==0||x<C)&&T!==-1;T--,x++)O+=l*A[T]>>>0,A[T]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=x,E++}if(w[E]!==" "){for(var P=I-C;P!==I&&A[P]===0;)P++;for(var U=new Uint8Array(_+(I-P)),S=_;P!==I;)U[S++]=A[P++];return U}}}function b(w){var E=m(w);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:m,decode:b}}var dJ=uJ,fJ=dJ;const S5=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},hJ=t=>new TextEncoder().encode(t),pJ=t=>new TextDecoder().decode(t);class gJ{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class mJ{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return A5(this,e)}}class yJ{constructor(e){this.decoders=e}or(e){return A5(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const A5=(t,e)=>new yJ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class wJ{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new gJ(e,n,r),this.decoder=new mJ(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const b0=({name:t,prefix:e,encode:n,decode:r})=>new wJ(t,e,n,r),Dp=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=fJ(n,e);return b0({prefix:t,name:e,encode:r,decode:i=>S5(s(i))})},bJ=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let l=0,d=0,f=0;for(let p=0;p<i;++p){const g=s[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|g,l+=n,l>=8&&(l-=8,o[f++]=255&d>>l)}if(l>=n||255&d<<8-l)throw new SyntaxError("Unexpected end of data");return o},vJ=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,l=0;for(let d=0;d<t.length;++d)for(l=l<<8|t[d],o+=8;o>n;)o-=n,i+=e[s&l>>o];if(o&&(i+=e[s&l<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Kn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>b0({prefix:e,name:t,encode(s){return vJ(s,r,n)},decode(s){return bJ(s,r,n,t)}}),EJ=b0({prefix:"\0",name:"identity",encode:t=>pJ(t),decode:t=>hJ(t)});var _J=Object.freeze({__proto__:null,identity:EJ});const CJ=Kn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var SJ=Object.freeze({__proto__:null,base2:CJ});const AJ=Kn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var TJ=Object.freeze({__proto__:null,base8:AJ});const xJ=Dp({prefix:"9",name:"base10",alphabet:"0123456789"});var NJ=Object.freeze({__proto__:null,base10:xJ});const IJ=Kn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),RJ=Kn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var OJ=Object.freeze({__proto__:null,base16:IJ,base16upper:RJ});const PJ=Kn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),DJ=Kn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),UJ=Kn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$J=Kn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kJ=Kn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),MJ=Kn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),BJ=Kn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),LJ=Kn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jJ=Kn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var FJ=Object.freeze({__proto__:null,base32:PJ,base32upper:DJ,base32pad:UJ,base32padupper:$J,base32hex:kJ,base32hexupper:MJ,base32hexpad:BJ,base32hexpadupper:LJ,base32z:jJ});const zJ=Dp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qJ=Dp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var HJ=Object.freeze({__proto__:null,base36:zJ,base36upper:qJ});const VJ=Dp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),GJ=Dp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var WJ=Object.freeze({__proto__:null,base58btc:VJ,base58flickr:GJ});const KJ=Kn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),YJ=Kn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ZJ=Kn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),QJ=Kn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var XJ=Object.freeze({__proto__:null,base64:KJ,base64pad:YJ,base64url:ZJ,base64urlpad:QJ});const T5=Array.from(""),JJ=T5.reduce((t,e,n)=>(t[n]=e,t),[]),eee=T5.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function tee(t){return t.reduce((e,n)=>(e+=JJ[n],e),"")}function nee(t){const e=[];for(const n of t){const r=eee[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const ree=b0({prefix:"",name:"base256emoji",encode:tee,decode:nee});var see=Object.freeze({__proto__:null,base256emoji:ree}),iee=x5,LI=128,aee=-128,oee=Math.pow(2,31);function x5(t,e,n){e=e||[],n=n||0;for(var r=n;t>=oee;)e[n++]=t&255|LI,t/=128;for(;t&aee;)e[n++]=t&255|LI,t>>>=7;return e[n]=t|0,x5.bytes=n-r+1,e}var cee=$1,lee=128,jI=127;function $1(t,r){var n=0,r=r||0,s=0,i=r,o,l=t.length;do{if(i>=l)throw $1.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&jI)<<s:(o&jI)*Math.pow(2,s),s+=7}while(o>=lee);return $1.bytes=i-r,n}var uee=Math.pow(2,7),dee=Math.pow(2,14),fee=Math.pow(2,21),hee=Math.pow(2,28),pee=Math.pow(2,35),gee=Math.pow(2,42),mee=Math.pow(2,49),yee=Math.pow(2,56),wee=Math.pow(2,63),bee=function(t){return t<uee?1:t<dee?2:t<fee?3:t<hee?4:t<pee?5:t<gee?6:t<mee?7:t<yee?8:t<wee?9:10},vee={encode:iee,decode:cee,encodingLength:bee},N5=vee;const FI=(t,e,n=0)=>(N5.encode(t,e,n),e),zI=t=>N5.encodingLength(t),k1=(t,e)=>{const n=e.byteLength,r=zI(t),s=r+zI(n),i=new Uint8Array(s+n);return FI(t,i,0),FI(n,i,r),i.set(e,s),new Eee(t,n,e,i)};class Eee{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const I5=({name:t,code:e,encode:n})=>new _ee(t,e,n);class _ee{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?k1(this.code,n):n.then(r=>k1(this.code,r))}else throw Error("Unknown type, must be binary type")}}const R5=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Cee=I5({name:"sha2-256",code:18,encode:R5("SHA-256")}),See=I5({name:"sha2-512",code:19,encode:R5("SHA-512")});var Aee=Object.freeze({__proto__:null,sha256:Cee,sha512:See});const O5=0,Tee="identity",P5=S5,xee=t=>k1(O5,P5(t)),Nee={code:O5,name:Tee,encode:P5,digest:xee};var Iee=Object.freeze({__proto__:null,identity:Nee});new TextEncoder,new TextDecoder;const qI={..._J,...SJ,...TJ,...NJ,...OJ,...FJ,...HJ,...WJ,...XJ,...see};({...Aee,...Iee});function D5(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Ree(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?D5(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function U5(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const HI=U5("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),rE=U5("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Ree(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Oee={utf8:HI,"utf-8":HI,hex:qI.base16,latin1:rE,ascii:rE,binary:rE,...qI};function Pee(t,e="utf8"){const n=Oee[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?D5(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var Dee=Object.defineProperty,Uee=(t,e,n)=>e in t?Dee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yi=(t,e,n)=>Uee(t,typeof e!="symbol"?e+"":e,n);class $ee{constructor(e,n){this.core=e,this.logger=n,yi(this,"keychain",new Map),yi(this,"name",$X),yi(this,"version",kX),yi(this,"initialized",!1),yi(this,"storagePrefix",Mi),yi(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),yi(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),yi(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),yi(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=we("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),yi(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=ir(n,this.name)}get context(){return jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,v1(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?E1(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var kee=Object.defineProperty,Mee=(t,e,n)=>e in t?kee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jn=(t,e,n)=>Mee(t,typeof e!="symbol"?e+"":e,n);class Bee{constructor(e,n,r){this.core=e,this.logger=n,jn(this,"name",DX),jn(this,"keychain"),jn(this,"randomSessionIdentifier",O1()),jn(this,"initialized",!1),jn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),jn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),jn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=wN(s);return WP(i.publicKey)}),jn(this,"generateKeyPair",()=>{this.isInitialized();const s=ZZ();return this.setPrivateKey(s.publicKey,s.privateKey)}),jn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=wN(i),l=this.randomSessionIdentifier;return await bV(l,s,UX,o)}),jn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const l=this.getPrivateKey(s),d=QZ(l,i);return this.setSymKey(d,o)}),jn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||jm(s);return await this.keychain.set(o,s),o}),jn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),jn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),jn(this,"encode",async(s,i,o)=>{this.isInitialized();const l=d5(o),d=Ta(i);if(mI(l))return eQ(d,o==null?void 0:o.encoding);if(gI(l)){const m=l.senderPublicKey,b=l.receiverPublicKey;s=await this.generateSharedKey(m,b)}const f=this.getSymKey(s),{type:p,senderPublicKey:g}=l;return XZ({type:p,symKey:f,message:d,senderPublicKey:g,encoding:o==null?void 0:o.encoding})}),jn(this,"decode",async(s,i,o)=>{this.isInitialized();const l=nQ(i,o);if(mI(l)){const d=tQ(i,o==null?void 0:o.encoding);return el(d)}if(gI(l)){const d=l.receiverPublicKey,f=l.senderPublicKey;s=await this.generateSharedKey(d,f)}try{const d=this.getSymKey(s),f=JZ({symKey:d,encoded:i,encoding:o==null?void 0:o.encoding});return el(f)}catch(d){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(d)}}),jn(this,"getPayloadType",(s,i=Js)=>{const o=Zh({encoded:s,encoding:i});return rl(o.type)}),jn(this,"getPayloadSenderPublicKey",(s,i=Js)=>{const o=Zh({encoded:s,encoding:i});return o.senderPublicKey?Mr(o.senderPublicKey,hr):void 0}),this.core=e,this.logger=ir(n,this.name),this.keychain=r||new $ee(this.core,this.logger)}get context(){return jr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(kI)}catch{e=O1(),await this.keychain.set(kI,e)}return Pee(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Lee=Object.defineProperty,jee=Object.defineProperties,Fee=Object.getOwnPropertyDescriptors,VI=Object.getOwnPropertySymbols,zee=Object.prototype.hasOwnProperty,qee=Object.prototype.propertyIsEnumerable,M1=(t,e,n)=>e in t?Lee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hee=(t,e)=>{for(var n in e||(e={}))zee.call(e,n)&&M1(t,n,e[n]);if(VI)for(var n of VI(e))qee.call(e,n)&&M1(t,n,e[n]);return t},Vee=(t,e)=>jee(t,Fee(e)),Yr=(t,e,n)=>M1(t,typeof e!="symbol"?e+"":e,n);class Gee extends yz{constructor(e,n){super(e,n),this.logger=e,this.core=n,Yr(this,"messages",new Map),Yr(this,"messagesWithoutClientAck",new Map),Yr(this,"name",MX),Yr(this,"version",BX),Yr(this,"initialized",!1),Yr(this,"storagePrefix",Mi),Yr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Yr(this,"set",async(r,s,i)=>{this.isInitialized();const o=Ni(s);let l=this.messages.get(r);if(typeof l>"u"&&(l={}),typeof l[o]<"u")return o;if(l[o]=s,this.messages.set(r,l),i===Fm.inbound){const d=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Vee(Hee({},d),{[o]:s}))}return await this.persist(),o}),Yr(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Yr(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Yr(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=Ni(s);return typeof i[o]<"u"}),Yr(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=Ni(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),Yr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ir(e,this.name),this.core=n}get context(){return jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,v1(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,v1(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?E1(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?E1(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Wee=Object.defineProperty,Kee=Object.defineProperties,Yee=Object.getOwnPropertyDescriptors,GI=Object.getOwnPropertySymbols,Zee=Object.prototype.hasOwnProperty,Qee=Object.prototype.propertyIsEnumerable,B1=(t,e,n)=>e in t?Wee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cm=(t,e)=>{for(var n in e||(e={}))Zee.call(e,n)&&B1(t,n,e[n]);if(GI)for(var n of GI(e))Qee.call(e,n)&&B1(t,n,e[n]);return t},sE=(t,e)=>Kee(t,Yee(e)),qs=(t,e,n)=>B1(t,typeof e!="symbol"?e+"":e,n);class Xee extends wz{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,qs(this,"events",new Us.EventEmitter),qs(this,"name",LX),qs(this,"queue",new Map),qs(this,"publishTimeout",ye.toMiliseconds(ye.ONE_MINUTE)),qs(this,"initialPublishTimeout",ye.toMiliseconds(ye.ONE_SECOND*15)),qs(this,"needsTransportRestart",!1),qs(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const l=(i==null?void 0:i.ttl)||MI,d=Ay(i),f=(i==null?void 0:i.prompt)||!1,p=(i==null?void 0:i.tag)||0,g=(i==null?void 0:i.id)||Uc().toString(),m={topic:r,message:s,opts:{ttl:l,relay:d,prompt:f,tag:p,id:g,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},b=`Failed to publish payload, please try again. id:${g} tag:${p}`;try{const w=new Promise(async E=>{const _=({id:I})=>{m.opts.id===I&&(this.removeRequestFromQueue(I),this.relayer.events.removeListener(Pn.publish,_),E(m))};this.relayer.events.on(Pn.publish,_);const C=Oo(new Promise((I,A)=>{this.rpcPublish({topic:r,message:s,ttl:l,prompt:f,tag:p,id:g,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(I).catch(O=>{this.logger.warn(O,O==null?void 0:O.message),A(O)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${p}`);try{await C,this.events.removeListener(Pn.publish,_)}catch(I){this.queue.set(g,sE(Cm({},m),{attempt:1})),this.logger.warn(I,I==null?void 0:I.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:r,message:s,opts:i}}),await Oo(w,this.publishTimeout,b)}catch(w){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(w),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw w}finally{this.queue.delete(g)}}),qs(this,"on",(r,s)=>{this.events.on(r,s)}),qs(this,"once",(r,s)=>{this.events.once(r,s)}),qs(this,"off",(r,s)=>{this.events.off(r,s)}),qs(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=ir(n,this.name),this.registerEventListeners()}get context(){return jr(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:l,ttl:d=MI,prompt:f,tag:p,id:g,attestation:m,tvf:b}=e,w={method:Yf(Ay().protocol).publish,params:Cm({topic:o,message:l,ttl:d,prompt:f,tag:p,attestation:m},b),id:g};qn((n=w.params)==null?void 0:n.prompt)&&((r=w.params)==null||delete r.prompt),qn((s=w.params)==null?void 0:s.tag)&&((i=w.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:w});const E=await this.relayer.request(w);return this.relayer.events.emit(Pn.publish,e),this.logger.debug("Successfully Published Payload"),E}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,sE(Cm({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:l}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(sE(Cm({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:l,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(fl.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Pn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Pn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Jee=Object.defineProperty,ete=(t,e,n)=>e in t?Jee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cu=(t,e,n)=>ete(t,typeof e!="symbol"?e+"":e,n);class tte{constructor(){cu(this,"map",new Map),cu(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),cu(this,"get",e=>this.map.get(e)||[]),cu(this,"exists",(e,n)=>this.get(e).includes(n)),cu(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),cu(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var nte=Object.defineProperty,rte=Object.defineProperties,ste=Object.getOwnPropertyDescriptors,WI=Object.getOwnPropertySymbols,ite=Object.prototype.hasOwnProperty,ate=Object.prototype.propertyIsEnumerable,L1=(t,e,n)=>e in t?nte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mf=(t,e)=>{for(var n in e||(e={}))ite.call(e,n)&&L1(t,n,e[n]);if(WI)for(var n of WI(e))ate.call(e,n)&&L1(t,n,e[n]);return t},iE=(t,e)=>rte(t,ste(e)),Bt=(t,e,n)=>L1(t,typeof e!="symbol"?e+"":e,n);class ote extends Ez{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Bt(this,"subscriptions",new Map),Bt(this,"topicMap",new tte),Bt(this,"events",new Us.EventEmitter),Bt(this,"name",GX),Bt(this,"version",WX),Bt(this,"pending",new Map),Bt(this,"cached",[]),Bt(this,"initialized",!1),Bt(this,"storagePrefix",Mi),Bt(this,"subscribeTimeout",ye.toMiliseconds(ye.ONE_MINUTE)),Bt(this,"initialSubscribeTimeout",ye.toMiliseconds(ye.ONE_SECOND*15)),Bt(this,"clientId"),Bt(this,"batchSubscribeTopicsLimit",500),Bt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Bt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=Ay(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const l=await this.rpcSubscribe(r,i,s);return typeof l=="string"&&(this.onSubscribe(l,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),l}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),Bt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),Bt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),Bt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),Bt(this,"on",(r,s)=>{this.events.on(r,s)}),Bt(this,"once",(r,s)=>{this.events.once(r,s)}),Bt(this,"off",(r,s)=>{this.events.off(r,s)}),Bt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),Bt(this,"start",async()=>{await this.onConnect()}),Bt(this,"stop",async()=>{await this.onDisconnect()}),Bt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Bt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),Bt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(fl.pulse,async()=>{await this.checkPending()}),this.events.on(Zr.created,async r=>{const s=Zr.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Zr.deleted,async r=>{const s=Zr.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=ir(n,this.name),this.clientId=""}get context(){return jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=Ay(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=Kt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===Ht.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:Yf(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const l=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Ht.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(p=>this.logger.warn(p))},ye.toMiliseconds(ye.ONE_SECOND)),l;const d=new Promise(async p=>{const g=m=>{m.topic===e&&(this.events.removeListener(Zr.created,g),p(m.id))};this.events.on(Zr.created,g);try{const m=await Oo(new Promise((b,w)=>{this.relayer.request(i).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),w(E)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Zr.created,g),p(m)}catch{}}),f=await Oo(d,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!f&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return f?l:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Pn.connection_stalled),o)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Yf(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Oo(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Pn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Yf(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Oo(new Promise((i,o)=>{this.relayer.request(r).catch(l=>{this.logger.warn(l),o(l)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Pn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:Yf(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,iE(Mf({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Mf({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Mf({},n)),this.topicMap.set(n.topic,e),this.events.emit(Zr.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Zr.deleted,iE(Mf({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Zr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Zr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>iE(Mf({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await bK(ye.toMiliseconds(ye.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Ni(e+await this.getClientId())}}var cte=Object.defineProperty,KI=Object.getOwnPropertySymbols,lte=Object.prototype.hasOwnProperty,ute=Object.prototype.propertyIsEnumerable,j1=(t,e,n)=>e in t?cte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YI=(t,e)=>{for(var n in e||(e={}))lte.call(e,n)&&j1(t,n,e[n]);if(KI)for(var n of KI(e))ute.call(e,n)&&j1(t,n,e[n]);return t},yt=(t,e,n)=>j1(t,typeof e!="symbol"?e+"":e,n);class dte extends bz{constructor(e){super(e),yt(this,"protocol","wc"),yt(this,"version",2),yt(this,"core"),yt(this,"logger"),yt(this,"events",new Us.EventEmitter),yt(this,"provider"),yt(this,"messages"),yt(this,"subscriber"),yt(this,"publisher"),yt(this,"name",FX),yt(this,"transportExplicitlyClosed",!1),yt(this,"initialized",!1),yt(this,"connectionAttemptInProgress",!1),yt(this,"relayUrl"),yt(this,"projectId"),yt(this,"packageName"),yt(this,"bundleId"),yt(this,"hasExperiencedNetworkDisruption",!1),yt(this,"pingTimeout"),yt(this,"heartBeatTimeout",ye.toMiliseconds(ye.THIRTY_SECONDS+ye.FIVE_SECONDS)),yt(this,"reconnectTimeout"),yt(this,"connectPromise"),yt(this,"reconnectInProgress",!1),yt(this,"requestsInFlight",[]),yt(this,"connectTimeout",ye.toMiliseconds(ye.ONE_SECOND*15)),yt(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||Uc().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const l=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(d=>d!==o),l}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),yt(this,"resetPingTimeout",()=>{Ey()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),yt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),yt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Pn.connect)}),yt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),yt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Pn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),yt(this,"registerProviderListeners",()=>{this.provider.on(ws.payload,this.onPayloadHandler),this.provider.on(ws.connect,this.onConnectHandler),this.provider.on(ws.disconnect,this.onDisconnectHandler),this.provider.on(ws.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ir(e.logger,this.name):Ap(dd({level:e.logger||jX})),this.messages=new Gee(this.logger,e.core),this.subscriber=new ote(this,this.logger),this.publisher=new Xee(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||_5,this.projectId=e.projectId,rK()?this.packageName=MN():sK()&&(this.bundleId=MN()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return jr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ht.relay},Fm.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let l=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",d;const f=p=>{p.topic===e&&(this.subscriber.off(Zr.created,f),d())};return await Promise.all([new Promise(p=>{d=p,this.subscriber.on(Zr.created,f)}),new Promise(async(p,g)=>{l=await this.subscriber.subscribe(e,YI({internal:{throwOnFailedPublish:o}},n)).catch(m=>{o&&g(m)})||l,p()})]),l}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Oo(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await xI())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=vn(ye.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(Pn.message,e),await this.recordMessageEvent(e,Fm.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(ws.disconnect,i),await Oo(new Promise((o,l)=>{this.provider.connect().then(o).catch(l)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(ws.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,l)=>{const d=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ws.disconnect,d),await this.subscriber.start().then(o).catch(l).finally(()=>{this.provider.off(ws.disconnect,d)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ye.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(Ey())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new $s(new IX(lK({sdkVersion:U1,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),cC(e)){if(!e.method.endsWith(zX))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,l={topic:r,message:s,publishedAt:i,transportType:Ht.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(YI({type:"event",event:n.id},l)),this.events.emit(n.id,l),await this.acknowledgePayload(e),await this.onMessageEvent(l)}else w0(e)&&this.events.emit(Pn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Fm.inbound),this.events.emit(Pn.message,e))}async acknowledgePayload(e){const n=m0(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ws.payload,this.onPayloadHandler),this.provider.off(ws.connect,this.onConnectHandler),this.provider.off(ws.disconnect,this.onDisconnectHandler),this.provider.off(ws.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await xI();YQ(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(fl.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&XQ())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Pn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ye.toMiliseconds(qX)))))}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function fte(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function ZI(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function QI(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const hte="[object RegExp]",pte="[object String]",gte="[object Number]",mte="[object Boolean]",XI="[object Arguments]",yte="[object Symbol]",wte="[object Date]",bte="[object Map]",vte="[object Set]",Ete="[object Array]",_te="[object Function]",Cte="[object ArrayBuffer]",aE="[object Object]",Ste="[object Error]",Ate="[object DataView]",Tte="[object Uint8Array]",xte="[object Uint8ClampedArray]",Nte="[object Uint16Array]",Ite="[object Uint32Array]",Rte="[object BigUint64Array]",Ote="[object Int8Array]",Pte="[object Int16Array]",Dte="[object Int32Array]",Ute="[object BigInt64Array]",$te="[object Float32Array]",kte="[object Float64Array]";function Mte(){}function JI(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Bte(t,e,n){return Zf(t,e,void 0,void 0,void 0,void 0,n)}function Zf(t,e,n,r,s,i,o){const l=o(t,e,n,r,s,i);if(l!==void 0)return l;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return dh(t,e,i,o)}return dh(t,e,i,o)}function dh(t,e,n,r){if(Object.is(t,e))return!0;let s=QI(t),i=QI(e);if(s===XI&&(s=aE),i===XI&&(i=aE),s!==i)return!1;switch(s){case pte:return t.toString()===e.toString();case gte:{const d=t.valueOf(),f=e.valueOf();return fte(d,f)}case mte:case wte:case yte:return Object.is(t.valueOf(),e.valueOf());case hte:return t.source===e.source&&t.flags===e.flags;case _te:return t===e}n=n??new Map;const o=n.get(t),l=n.get(e);if(o!=null&&l!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case bte:{if(t.size!==e.size)return!1;for(const[d,f]of t.entries())if(!e.has(d)||!Zf(f,e.get(d),d,t,e,n,r))return!1;return!0}case vte:{if(t.size!==e.size)return!1;const d=Array.from(t.values()),f=Array.from(e.values());for(let p=0;p<d.length;p++){const g=d[p],m=f.findIndex(b=>Zf(g,b,void 0,t,e,n,r));if(m===-1)return!1;f.splice(m,1)}return!0}case Ete:case Tte:case xte:case Nte:case Ite:case Rte:case Ote:case Pte:case Dte:case Ute:case $te:case kte:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let d=0;d<t.length;d++)if(!Zf(t[d],e[d],d,t,e,n,r))return!1;return!0}case Cte:return t.byteLength!==e.byteLength?!1:dh(new Uint8Array(t),new Uint8Array(e),n,r);case Ate:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:dh(new Uint8Array(t),new Uint8Array(e),n,r);case Ste:return t.name===e.name&&t.message===e.message;case aE:{if(!(dh(t.constructor,e.constructor,n,r)||JI(t)&&JI(e)))return!1;const d=[...Object.keys(t),...ZI(t)],f=[...Object.keys(e),...ZI(e)];if(d.length!==f.length)return!1;for(let p=0;p<d.length;p++){const g=d[p],m=t[g];if(!Object.hasOwn(e,g))return!1;const b=e[g];if(!Zf(m,b,g,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Lte(t,e){return Bte(t,e,Mte)}var jte=Object.defineProperty,eR=Object.getOwnPropertySymbols,Fte=Object.prototype.hasOwnProperty,zte=Object.prototype.propertyIsEnumerable,F1=(t,e,n)=>e in t?jte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tR=(t,e)=>{for(var n in e||(e={}))Fte.call(e,n)&&F1(t,n,e[n]);if(eR)for(var n of eR(e))zte.call(e,n)&&F1(t,n,e[n]);return t},Ar=(t,e,n)=>F1(t,typeof e!="symbol"?e+"":e,n);class pl extends vz{constructor(e,n,r,s=Mi,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Ar(this,"map",new Map),Ar(this,"version",HX),Ar(this,"cached",[]),Ar(this,"initialized",!1),Ar(this,"getKey"),Ar(this,"storagePrefix",Mi),Ar(this,"recentlyDeleted",[]),Ar(this,"recentlyDeletedLimit",200),Ar(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!qn(o)?this.map.set(this.getKey(o),o):TQ(o)?this.map.set(o.id,o):xQ(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ar(this,"set",async(o,l)=>{this.isInitialized(),this.map.has(o)?await this.update(o,l):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:l}),this.map.set(o,l),await this.persist())}),Ar(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ar(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(l=>Object.keys(o).every(d=>Lte(l[d],o[d]))):this.values)),Ar(this,"update",async(o,l)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:l});const d=tR(tR({},this.getData(o)),l);this.map.set(o,d),await this.persist()}),Ar(this,"delete",async(o,l)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:l}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ir(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=we("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qte=Object.defineProperty,Hte=(t,e,n)=>e in t?qte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ot=(t,e,n)=>Hte(t,typeof e!="symbol"?e+"":e,n);class Vte{constructor(e,n){this.core=e,this.logger=n,ot(this,"name",KX),ot(this,"version",YX),ot(this,"events",new U_),ot(this,"pairings"),ot(this,"initialized",!1),ot(this,"storagePrefix",Mi),ot(this,"ignoredPayloadTypes",[Ca]),ot(this,"registeredMethods",[]),ot(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),ot(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),ot(this,"create",async r=>{this.isInitialized();const s=O1(),i=await this.core.crypto.setSymKey(s),o=vn(ye.FIVE_MINUTES),l={protocol:E5},d={topic:i,expiry:o,relay:l,active:!1,methods:r==null?void 0:r.methods},f=wI({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:l,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(Ac.create,d),this.core.expirer.set(i,o),await this.pairings.set(i,d),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:f}}),ot(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[bi.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:l,expiryTimestamp:d,methods:f}=yI(r.uri);s.props.properties.topic=i,s.addTrace(bi.pairing_uri_validation_success),s.addTrace(bi.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(i)){if(p=this.pairings.get(i),s.addTrace(bi.existing_pairing),p.active)throw s.setError(ga.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(bi.pairing_not_expired)}const g=d||vn(ye.FIVE_MINUTES),m={topic:i,relay:l,expiry:g,active:!1,methods:f};this.core.expirer.set(i,g),await this.pairings.set(i,m),s.addTrace(bi.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(Ac.create,m),s.addTrace(bi.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(bi.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(ga.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:l})}catch(b){throw s.setError(ga.subscribe_pairing_topic_failure),b}return s.addTrace(bi.subscribe_pairing_topic_success),m}),ot(this,"activate",async({topic:r})=>{this.isInitialized();const s=vn(ye.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),ot(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:l,reject:d}=Cc();this.events.once(Ct("pairing_ping",i),({error:f})=>{f?d(f):l()}),await o()}}),ot(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),ot(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),ot(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),ot(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Kt("USER_DISCONNECTED")),await this.deletePairing(s))}),ot(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:l}=r,d=this.core.crypto.keychain.get(s);return wI({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:d,relay:i,expiryTimestamp:o,methods:l})}),ot(this,"sendRequest",async(r,s,i)=>{const o=Po(s,i),l=await this.core.crypto.encode(r,o),d=$f[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,l,d),o.id}),ot(this,"sendResult",async(r,s,i)=>{const o=m0(r,i),l=await this.core.crypto.encode(s,o),d=(await this.core.history.get(s,r)).request.method,f=$f[d].res;await this.core.relayer.publish(s,l,f),await this.core.history.resolve(o)}),ot(this,"sendError",async(r,s,i)=>{const o=y0(r,i),l=await this.core.crypto.encode(s,o),d=(await this.core.history.get(s,r)).request.method,f=$f[d]?$f[d].res:$f.unregistered_method.res;await this.core.relayer.publish(s,l,f),await this.core.history.resolve(o)}),ot(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Kt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),ot(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>bo(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),ot(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),ot(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),ot(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(Ac.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),ot(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{Ei(s)?this.events.emit(Ct("pairing_ping",i),{}):Ss(s)&&this.events.emit(Ct("pairing_ping",i),{error:s.error})},500)}),ot(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Ac.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),ot(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const l=Kt("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,l),this.logger.error(l)}catch(l){await this.sendError(i,r,l),this.logger.error(l)}}),ot(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Kt("WC_METHOD_UNSUPPORTED",r))}),ot(this,"isValidPair",(r,s)=>{var i;if(!Ir(r)){const{message:l}=we("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(ga.malformed_pairing_uri),new Error(l)}if(!AQ(r.uri)){const{message:l}=we("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(ga.malformed_pairing_uri),new Error(l)}const o=yI(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:l}=we("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(ga.malformed_pairing_uri),new Error(l)}if(!(o!=null&&o.symKey)){const{message:l}=we("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(ga.malformed_pairing_uri),new Error(l)}if(o!=null&&o.expiryTimestamp&&ye.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(ga.pairing_expired);const{message:l}=we("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(l)}}),ot(this,"isValidPing",async r=>{if(!Ir(r)){const{message:i}=we("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),ot(this,"isValidDisconnect",async r=>{if(!Ir(r)){const{message:i}=we("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),ot(this,"isValidPairingTopic",async r=>{if(!pn(r,!1)){const{message:s}=we("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=we("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(bo(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=we("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=ir(n,this.name),this.pairings=new pl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return jr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Pn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==Ht.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);cC(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):w0(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(_s.expired,async e=>{const{topic:n}=ED(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Ac.expire,{topic:n}))})}}var Gte=Object.defineProperty,Wte=(t,e,n)=>e in t?Gte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fn=(t,e,n)=>Wte(t,typeof e!="symbol"?e+"":e,n);class Kte extends mz{constructor(e,n){super(e,n),this.core=e,this.logger=n,Fn(this,"records",new Map),Fn(this,"events",new Us.EventEmitter),Fn(this,"name",ZX),Fn(this,"version",QX),Fn(this,"cached",[]),Fn(this,"initialized",!1),Fn(this,"storagePrefix",Mi),Fn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Fn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:vn(ye.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Fs.created,o)}),Fn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Ss(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Fs.updated,s))}),Fn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Fn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Fs.deleted,i)}}),this.persist()}),Fn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Fn(this,"on",(r,s)=>{this.events.on(r,s)}),Fn(this,"once",(r,s)=>{this.events.once(r,s)}),Fn(this,"off",(r,s)=>{this.events.off(r,s)}),Fn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=ir(n,this.name)}get context(){return jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Po(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Fs.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Fs.created,e=>{const n=Fs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Fs.updated,e=>{const n=Fs.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Fs.deleted,e=>{const n=Fs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(fl.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ye.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Fs.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Yte=Object.defineProperty,Zte=(t,e,n)=>e in t?Yte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nr=(t,e,n)=>Zte(t,typeof e!="symbol"?e+"":e,n);class Qte extends _z{constructor(e,n){super(e,n),this.core=e,this.logger=n,nr(this,"expirations",new Map),nr(this,"events",new Us.EventEmitter),nr(this,"name",XX),nr(this,"version",JX),nr(this,"cached",[]),nr(this,"initialized",!1),nr(this,"storagePrefix",Mi),nr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),nr(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),nr(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(_s.created,{target:i,expiration:o})}),nr(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),nr(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(_s.deleted,{target:s,expiration:i})}}),nr(this,"on",(r,s)=>{this.events.on(r,s)}),nr(this,"once",(r,s)=>{this.events.once(r,s)}),nr(this,"off",(r,s)=>{this.events.off(r,s)}),nr(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=ir(n,this.name)}get context(){return jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return uK(e);if(typeof e=="number")return dK(e);const{message:n}=we("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(_s.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ye.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(_s.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(fl.pulse,()=>this.checkExpirations()),this.events.on(_s.created,e=>{const n=_s.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(_s.expired,e=>{const n=_s.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(_s.deleted,e=>{const n=_s.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Xte=Object.defineProperty,Jte=(t,e,n)=>e in t?Xte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fn=(t,e,n)=>Jte(t,typeof e!="symbol"?e+"":e,n);class ene extends Cz{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,fn(this,"name",eJ),fn(this,"abortController"),fn(this,"isDevEnv"),fn(this,"verifyUrlV3",nJ),fn(this,"storagePrefix",Mi),fn(this,"version",v5),fn(this,"publicKey"),fn(this,"fetchPromise"),fn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ye.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),fn(this,"register",async s=>{if(!md()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:l}=s,d=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${l}`;try{const f=xa.getDocument(),p=this.startAbortTimer(ye.ONE_SECOND*5),g=await new Promise((m,b)=>{const w=()=>{window.removeEventListener("message",_),f.body.removeChild(E),b("attestation aborted")};this.abortController.signal.addEventListener("abort",w);const E=f.createElement("iframe");E.src=d,E.style.display="none",E.addEventListener("error",w,{signal:this.abortController.signal});const _=C=>{if(C.data&&typeof C.data=="string")try{const I=JSON.parse(C.data);if(I.type==="verify_attestation"){if(h1(I.attestation).payload.id!==o)return;clearInterval(p),f.body.removeChild(E),this.abortController.signal.removeEventListener("abort",w),window.removeEventListener("message",_),m(I.attestation===null?"":I.attestation)}}catch(I){this.logger.warn(I)}};f.body.appendChild(E),window.addEventListener("message",_,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",g),g}catch(f){this.logger.warn(f)}return""}),fn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:l}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(h1(i).payload.id!==l)return;const f=await this.isValidJwtAttestation(i);if(f){if(!f.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return f}}if(!o)return;const d=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,d)}),fn(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(ye.ONE_SECOND*5),l=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),l.status===200?await l.json():void 0}),fn(this,"getVerifyUrl",s=>{let i=s||uh;return rJ.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${uh}`),i=uh),i}),fn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(ye.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),fn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),fn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),fn(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}}),fn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),fn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),fn(this,"validateAttestation",(s,i)=>{const o=sQ(s,i.publicKey),l={hasExpired:ye.toMiliseconds(o.exp)<Date.now(),payload:o};if(l.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:l.payload.origin,isScam:l.payload.isScam,isVerified:l.payload.isVerified}}),this.logger=ir(n,this.name),this.abortController=new AbortController,this.isDevEnv=W_(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return jr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ye.toMiliseconds(e))}}var tne=Object.defineProperty,nne=(t,e,n)=>e in t?tne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nR=(t,e,n)=>nne(t,typeof e!="symbol"?e+"":e,n);class rne extends Sz{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,nR(this,"context",sJ),nR(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:l=!1}=r,d=`${iJ}/${this.projectId}/clients`;await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:l})})}),this.logger=ir(n,this.context)}}var sne=Object.defineProperty,rR=Object.getOwnPropertySymbols,ine=Object.prototype.hasOwnProperty,ane=Object.prototype.propertyIsEnumerable,z1=(t,e,n)=>e in t?sne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bf=(t,e)=>{for(var n in e||(e={}))ine.call(e,n)&&z1(t,n,e[n]);if(rR)for(var n of rR(e))ane.call(e,n)&&z1(t,n,e[n]);return t},In=(t,e,n)=>z1(t,typeof e!="symbol"?e+"":e,n);class one extends Az{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,In(this,"context",oJ),In(this,"storagePrefix",Mi),In(this,"storageVersion",aJ),In(this,"events",new Map),In(this,"shouldPersist",!1),In(this,"init",async()=>{if(!W_())try{const s={eventId:LN(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:bD(this.core.relayer.protocol,this.core.relayer.version,U1)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),In(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:l,trace:d}}=s,f=LN(),p=this.core.projectId||"",g=Date.now(),m=Bf({eventId:f,timestamp:g,props:{event:i,type:o,properties:{topic:l,trace:d}},bundleId:p,domain:this.getAppDomain()},this.setMethods(f));return this.telemetryEnabled&&(this.events.set(f,m),this.shouldPersist=!0),m}),In(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const l=Array.from(this.events.values()).find(d=>d.props.properties.topic===o);if(l)return Bf(Bf({},l),this.setMethods(l.eventId))}),In(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),In(this,"setEventListeners",()=>{this.core.heartbeat.on(fl.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{ye.fromMiliseconds(Date.now())-ye.fromMiliseconds(s.timestamp)>cJ&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),In(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),In(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),In(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),In(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),In(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Bf(Bf({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),In(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),In(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${lJ}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${U1}${i}`,{method:"POST",body:JSON.stringify(s)})}),In(this,"getAppDomain",()=>wD().url),this.logger=ir(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var cne=Object.defineProperty,sR=Object.getOwnPropertySymbols,lne=Object.prototype.hasOwnProperty,une=Object.prototype.propertyIsEnumerable,q1=(t,e,n)=>e in t?cne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iR=(t,e)=>{for(var n in e||(e={}))lne.call(e,n)&&q1(t,n,e[n]);if(sR)for(var n of sR(e))une.call(e,n)&&q1(t,n,e[n]);return t},Ft=(t,e,n)=>q1(t,typeof e!="symbol"?e+"":e,n);let dne=class $5 extends fz{constructor(e){var n;super(e),Ft(this,"protocol",b5),Ft(this,"version",v5),Ft(this,"name",D1),Ft(this,"relayUrl"),Ft(this,"projectId"),Ft(this,"customStoragePrefix"),Ft(this,"events",new Us.EventEmitter),Ft(this,"logger"),Ft(this,"heartbeat"),Ft(this,"relayer"),Ft(this,"crypto"),Ft(this,"storage"),Ft(this,"history"),Ft(this,"expirer"),Ft(this,"pairing"),Ft(this,"verify"),Ft(this,"echoClient"),Ft(this,"linkModeSupportedApps"),Ft(this,"eventClient"),Ft(this,"initialized",!1),Ft(this,"logChunkController"),Ft(this,"on",(l,d)=>this.events.on(l,d)),Ft(this,"once",(l,d)=>this.events.once(l,d)),Ft(this,"off",(l,d)=>this.events.off(l,d)),Ft(this,"removeListener",(l,d)=>this.events.removeListener(l,d)),Ft(this,"dispatchEnvelope",({topic:l,message:d,sessionExists:f})=>{if(!l||!d)return;const p={topic:l,message:d,publishedAt:Date.now(),transportType:Ht.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:f})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(l){console.warn("Failed to copy global core",l)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||_5,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=dd({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:OX.logger,name:D1}),{logger:i,chunkLoggerController:o}=k_({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var l,d;(l=this.logChunkController)!=null&&l.downloadLogsBlobInBrowser&&((d=this.logChunkController)==null||d.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ir(i,this.name),this.heartbeat=new dF,this.crypto=new Bee(this,this.logger,e==null?void 0:e.keychain),this.history=new Kte(this,this.logger),this.expirer=new Qte(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new WF(iR(iR({},PX),e==null?void 0:e.storageOptions)),this.relayer=new dte({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Vte(this,this.logger),this.verify=new ene(this,this.logger,this.storage),this.echoClient=new rne(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new one(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new $5(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(VX,r),n}get context(){return jr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(BI,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(BI)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&RX.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const fne=dne,k5="wc",M5=2,B5="client",lC=`${k5}@${M5}:${B5}:`,oE={name:B5,logger:"error"},aR="WALLETCONNECT_DEEPLINK_CHOICE",hne="proposal",oR="Proposal expired",pne="session",lu=ye.SEVEN_DAYS,gne="engine",Rn={wc_sessionPropose:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ye.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ye.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1119}}},cE={min:ye.FIVE_MINUTES,max:ye.SEVEN_DAYS},wi={idle:"IDLE",active:"ACTIVE"},mne={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},yne="request",wne=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],bne="wc",vne="auth",Ene="authKeys",_ne="pairingTopics",Cne="requests",v0=`${bne}@${1.5}:${vne}:`,zm=`${v0}:PUB_KEY`;var Sne=Object.defineProperty,Ane=Object.defineProperties,Tne=Object.getOwnPropertyDescriptors,cR=Object.getOwnPropertySymbols,xne=Object.prototype.hasOwnProperty,Nne=Object.prototype.propertyIsEnumerable,H1=(t,e,n)=>e in t?Sne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qt=(t,e)=>{for(var n in e||(e={}))xne.call(e,n)&&H1(t,n,e[n]);if(cR)for(var n of cR(e))Nne.call(e,n)&&H1(t,n,e[n]);return t},Tr=(t,e)=>Ane(t,Tne(e)),de=(t,e,n)=>H1(t,typeof e!="symbol"?e+"":e,n);class Ine extends Iz{constructor(e){super(e),de(this,"name",gne),de(this,"events",new U_),de(this,"initialized",!1),de(this,"requestQueue",{state:wi.idle,queue:[]}),de(this,"sessionRequestQueue",{state:wi.idle,queue:[]}),de(this,"requestQueueDelay",ye.ONE_SECOND),de(this,"expectedPairingMethodMap",new Map),de(this,"recentlyDeletedMap",new Map),de(this,"recentlyDeletedLimit",200),de(this,"relayMessageCache",[]),de(this,"pendingSessions",new Map),de(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Rn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay)))}),de(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Tr(qt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=vQ(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:l,scopedProperties:d,relays:f}=r;let p=s,g,m=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),m=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!m){const{topic:T,uri:P}=await this.client.core.pairing.create();p=T,g=P}if(!p){const{message:T}=we("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(T)}const b=await this.client.core.crypto.generateKeyPair(),w=Rn.wc_sessionPropose.req.ttl||ye.FIVE_MINUTES,E=vn(w),_=Tr(qt(qt({requiredNamespaces:i,optionalNamespaces:o,relays:f??[{protocol:E5}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:p},l&&{sessionProperties:l}),d&&{scopedProperties:d}),{id:vi()}),C=Ct("session_connect",_.id),{reject:I,resolve:A,done:O}=Cc(w,oR),x=({id:T})=>{T===_.id&&(this.client.events.off("proposal_expire",x),this.pendingSessions.delete(_.id),this.events.emit(C,{error:{message:oR,code:0}}))};return this.client.events.on("proposal_expire",x),this.events.once(C,({error:T,session:P})=>{this.client.events.off("proposal_expire",x),T?I(T):P&&A(P)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:_,throwOnFailedPublish:!0,clientRpcId:_.id}),await this.setProposal(_.id,_),{uri:g,approval:O}}),de(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),de(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[zs.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw o.setError(bc.no_internet_connection),S}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(S){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(bc.proposal_not_found),S}try{await this.isValidApprove(n)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(bc.session_approve_namespace_validation_failure),S}const{id:l,relayProtocol:d,namespaces:f,sessionProperties:p,scopedProperties:g,sessionConfig:m}=n,b=this.client.proposal.get(l);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:w,proposer:E,requiredNamespaces:_,optionalNamespaces:C}=b;let I=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:w});I||(I=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:zs.session_approve_started,properties:{topic:w,trace:[zs.session_approve_started,zs.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),O=E.publicKey,x=await this.client.core.crypto.generateSharedKey(A,O),T=qt(qt(qt({relay:{protocol:d??"irn"},namespaces:f,controller:{publicKey:A,metadata:this.client.metadata},expiry:vn(lu)},p&&{sessionProperties:p}),g&&{scopedProperties:g}),m&&{sessionConfig:m}),P=Ht.relay;I.addTrace(zs.subscribing_session_topic);try{await this.client.core.relayer.subscribe(x,{transportType:P})}catch(S){throw I.setError(bc.subscribe_session_topic_failure),S}I.addTrace(zs.subscribe_session_topic_success);const U=Tr(qt({},T),{topic:x,requiredNamespaces:_,optionalNamespaces:C,pairingTopic:w,acknowledged:!1,self:T.controller,peer:{publicKey:E.publicKey,metadata:E.metadata},controller:A,transportType:Ht.relay});await this.client.session.set(x,U),I.addTrace(zs.store_session);try{I.addTrace(zs.publishing_session_settle),await this.sendRequest({topic:x,method:"wc_sessionSettle",params:T,throwOnFailedPublish:!0}).catch(S=>{throw I==null||I.setError(bc.session_settle_publish_failure),S}),I.addTrace(zs.session_settle_publish_success),I.addTrace(zs.publishing_session_approve),await this.sendResult({id:l,topic:w,result:{relay:{protocol:d??"irn"},responderPublicKey:A},throwOnFailedPublish:!0}).catch(S=>{throw I==null||I.setError(bc.session_approve_publish_failure),S}),I.addTrace(zs.session_approve_publish_success)}catch(S){throw this.client.logger.error(S),this.client.session.delete(x,Kt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(x),S}return this.client.core.eventClient.deleteEvent({eventId:I.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:E.metadata}),await this.deleteProposal(l),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(x,vn(lu)),{topic:x,acknowledged:()=>Promise.resolve(this.client.session.get(x))}}),de(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:Rn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),de(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(g){throw this.client.logger.error("update() -> isValidUpdate() failed"),g}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:l}=Cc(),d=vi(),f=Uc().toString(),p=this.client.session.get(r).namespaces;return this.events.once(Ct("session_update",d),({error:g})=>{g?l(g):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:d,relayRpcId:f}).catch(g=>{this.client.logger.error(g),this.client.session.update(r,{namespaces:p}),l(g)}),{acknowledged:i}}),de(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(d){throw this.client.logger.error("extend() -> isValidExtend() failed"),d}const{topic:r}=n,s=vi(),{done:i,resolve:o,reject:l}=Cc();return this.events.once(Ct("session_extend",s),({error:d})=>{d?l(d):o()}),await this.setExpiry(r,vn(lu)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(d=>{l(d)}),{acknowledged:i}}),de(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(_){throw this.client.logger.error("request() -> isValidRequest() failed"),_}const{chainId:r,request:s,topic:i,expiry:o=Rn.wc_sessionRequest.req.ttl}=n,l=this.client.session.get(i);(l==null?void 0:l.transportType)===Ht.relay&&await this.confirmOnlineStateOrThrow();const d=vi(),f=Uc().toString(),{done:p,resolve:g,reject:m}=Cc(o,"Request expired. Please try again.");this.events.once(Ct("session_request",d),({error:_,result:C})=>{_?m(_):g(C)});const b="wc_sessionRequest",w=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);if(w)return await this.sendRequest({clientRpcId:d,relayRpcId:f,topic:i,method:b,params:{request:Tr(qt({},s),{expiryTimestamp:vn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:w}).catch(_=>m(_)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:d}),await p();const E={request:Tr(qt({},s),{expiryTimestamp:vn(o)}),chainId:r};return await Promise.all([new Promise(async _=>{await this.sendRequest({clientRpcId:d,relayRpcId:f,topic:i,method:b,params:E,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(d,E)}).catch(C=>m(C)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:d}),_()}),new Promise(async _=>{var C;if(!((C=l.sessionConfig)!=null&&C.disableDeepLink)){const I=await gK(this.client.core.storage,aR);await fK({id:d,topic:i,wcDeepLink:I})}_()}),p()]).then(_=>_[2])}),de(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===Ht.relay&&await this.confirmOnlineStateOrThrow();const l=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Ei(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:l}):Ss(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:l}),this.cleanupAfterResponse(n)}),de(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=vi(),i=Uc().toString(),{done:o,resolve:l,reject:d}=Cc();this.events.once(Ct("session_ping",s),({error:f})=>{f?d(f):l()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),de(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=Uc().toString(),l=vi();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:l})}),de(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Kt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=we("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),de(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>CQ(r,n)))),de(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),de(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?Ht.link_mode:Ht.relay;o===Ht.relay&&await this.confirmOnlineStateOrThrow();const{chains:l,statement:d="",uri:f,domain:p,nonce:g,type:m,exp:b,nbf:w,methods:E=[],expiry:_}=n,C=[...n.resources||[]],{topic:I,uri:A}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:I,uri:A}});const O=await this.client.core.crypto.generateKeyPair(),x=jm(O);if(await Promise.all([this.client.auth.authKeys.set(zm,{responseTopic:x,publicKey:O}),this.client.auth.pairingTopics.set(x,{topic:x,pairingTopic:I})]),await this.client.core.relayer.subscribe(x,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${I}`),E.length>0){const{namespace:W}=Du(l[0]);let D=RY(W,"request",E);Lm(C)&&(D=PY(D,C.pop())),C.push(D)}const T=_&&_>Rn.wc_sessionAuthenticate.req.ttl?_:Rn.wc_sessionAuthenticate.req.ttl,P={authPayload:{type:m??"caip122",chains:l,statement:d,aud:f,domain:p,version:"1",nonce:g,iat:new Date().toISOString(),exp:b,nbf:w,resources:C},requester:{publicKey:O,metadata:this.client.metadata},expiryTimestamp:vn(T)},U={eip155:{chains:l,methods:[...new Set(["personal_sign",...E])],events:["chainChanged","accountsChanged"]}},S={requiredNamespaces:{},optionalNamespaces:U,relays:[{protocol:"irn"}],pairingTopic:I,proposer:{publicKey:O,metadata:this.client.metadata},expiryTimestamp:vn(Rn.wc_sessionPropose.req.ttl),id:vi()},{done:B,resolve:L,reject:z}=Cc(T,"Request expired"),K=vi(),G=Ct("session_connect",S.id),k=Ct("session_request",K),R=async({error:W,session:D})=>{this.events.off(k,F),W?z(W):D&&L({session:D})},F=async W=>{var D,q,X;if(await this.deletePendingAuthRequest(K,{message:"fulfilled",code:0}),W.error){const _e=Kt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return W.error.code===_e.code?void 0:(this.events.off(G,R),z(W.error.message))}await this.deleteProposal(S.id),this.events.off(G,R);const{cacaos:te,responder:ee}=W.result,ie=[],se=[];for(const _e of te){await ZN({cacao:_e,projectId:this.client.core.projectId})||(this.client.logger.error(_e,"Signature verification failed"),z(Kt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:qe}=_e,Je=Lm(qe.resources),vt=[_1(qe.iss)],gn=_y(qe.iss);if(Je){const Sn=QN(Je),as=XN(Je);ie.push(...Sn),vt.push(...as)}for(const Sn of vt)se.push(`${Sn}:${gn}`)}const Ae=await this.client.core.crypto.generateSharedKey(O,ee.publicKey);let ge;ie.length>0&&(ge={topic:Ae,acknowledged:!0,self:{publicKey:O,metadata:this.client.metadata},peer:ee,controller:ee.publicKey,expiry:vn(lu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:I,namespaces:_I([...new Set(ie)],[...new Set(se)]),transportType:o},await this.client.core.relayer.subscribe(Ae,{transportType:o}),await this.client.session.set(Ae,ge),I&&await this.client.core.pairing.updateMetadata({topic:I,metadata:ee.metadata}),ge=this.client.session.get(Ae)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(q=ee.metadata.redirect)!=null&&q.linkMode&&(X=ee.metadata.redirect)!=null&&X.universal&&r&&(this.client.core.addLinkModeSupportedApp(ee.metadata.redirect.universal),this.client.session.update(Ae,{transportType:Ht.link_mode})),L({auths:te,session:ge})};this.events.once(G,R),this.events.once(k,F);let V;try{if(i){const W=Po("wc_sessionAuthenticate",P,K);this.client.core.history.set(I,W);const D=await this.client.core.crypto.encode("",W,{type:Pp,encoding:Co});V=_m(r,I,D)}else await Promise.all([this.sendRequest({topic:I,method:"wc_sessionAuthenticate",params:P,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:K}),this.sendRequest({topic:I,method:"wc_sessionPropose",params:S,expiry:Rn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S.id})])}catch(W){throw this.events.off(G,R),this.events.off(k,F),W}return await this.setProposal(S.id,S),await this.setAuthRequest(K,{request:Tr(qt({},P),{verifyContext:{}}),pairingTopic:I,transportType:o}),{uri:V??A,response:B}}),de(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[vc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(_){throw i.setError(kf.no_internet_connection),_}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(kf.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const l=o.transportType||Ht.relay;l===Ht.relay&&await this.confirmOnlineStateOrThrow();const d=o.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),p=jm(d),g={type:Ca,receiverPublicKey:d,senderPublicKey:f},m=[],b=[];for(const _ of s){if(!await ZN({cacao:_,projectId:this.client.core.projectId})){i.setError(kf.invalid_cacao);const x=Kt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:p,error:x,encodeOpts:g}),new Error(x.message)}i.addTrace(vc.cacaos_verified);const{p:C}=_,I=Lm(C.resources),A=[_1(C.iss)],O=_y(C.iss);if(I){const x=QN(I),T=XN(I);m.push(...x),A.push(...T)}for(const x of A)b.push(`${x}:${O}`)}const w=await this.client.core.crypto.generateSharedKey(f,d);i.addTrace(vc.create_authenticated_session_topic);let E;if((m==null?void 0:m.length)>0){E={topic:w,acknowledged:!0,self:{publicKey:f,metadata:this.client.metadata},peer:{publicKey:d,metadata:o.requester.metadata},controller:d,expiry:vn(lu),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:_I([...new Set(m)],[...new Set(b)]),transportType:l},i.addTrace(vc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:l})}catch(_){throw i.setError(kf.subscribe_authenticated_session_topic_failure),_}i.addTrace(vc.subscribe_authenticated_session_topic_success),await this.client.session.set(w,E),i.addTrace(vc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(vc.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:r,result:{cacaos:s,responder:{publicKey:f,metadata:this.client.metadata}},encodeOpts:g,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,l)})}catch(_){throw i.setError(kf.authenticated_session_approve_publish_failure),_}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:E}}),de(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===Ht.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),d=jm(o),f={type:Ca,receiverPublicKey:o,senderPublicKey:l};await this.sendError({id:r,topic:d,error:s,encodeOpts:f,rpcOpts:Rn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),de(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return kD(r,s)}),de(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),de(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,l;return((o=i.peerMetadata)==null?void 0:o.url)&&((l=i.peerMetadata)==null?void 0:l.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),de(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:l=0}=n,{self:d}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Kt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(d.publicKey)&&await this.client.core.crypto.deleteKeyPair(d.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(aR).catch(f=>this.client.logger.warn(f)),this.getPendingSessionRequests().forEach(f=>{f.topic===s&&this.deletePendingSessionRequest(f.id,Kt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=wi.idle),o&&this.client.events.emit("session_delete",{id:l,topic:s})}),de(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(bc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Kt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),de(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=wi.idle,this.client.events.emit("session_request_expire",{id:n}))}),de(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),de(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),de(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,vn(Rn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),de(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=Ht.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),de(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,l=i.request.expiryTimestamp||vn(Rn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,l),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),de(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:l,clientRpcId:d,throwOnFailedPublish:f,appLink:p,tvf:g}=n,m=Po(s,i,d);let b;const w=!!p;try{const C=w?Co:Js;b=await this.client.core.crypto.encode(r,m,{encoding:C})}catch(C){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),C}let E;if(wne.includes(s)){const C=Ni(JSON.stringify(m)),I=Ni(b);E=await this.client.core.verify.register({id:I,decryptedId:C})}const _=Rn[s].req;if(_.attestation=E,o&&(_.ttl=o),l&&(_.id=l),this.client.core.history.set(r,m),w){const C=_m(p,r,b);await global.Linking.openURL(C,this.client.name)}else{const C=Rn[s].req;o&&(C.ttl=o),l&&(C.id=l),C.tvf=Tr(qt({},g),{correlationId:m.id}),f?(C.internal=Tr(qt({},C.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,b,C)):this.client.core.relayer.publish(r,b,C).catch(I=>this.client.logger.error(I))}return m.id}),de(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:l,appLink:d}=n,f=m0(r,i);let p;const g=d&&typeof(global==null?void 0:global.Linking)<"u";try{const w=g?Co:Js;p=await this.client.core.crypto.encode(s,f,Tr(qt({},l||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),w}let m,b;try{m=await this.client.core.history.get(s,r);const w=m.request;try{b=this.getTVFParams(r,w.params,i)}catch(E){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${E==null?void 0:E.message}`)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),w}if(g){const w=_m(d,s,p);await global.Linking.openURL(w,this.client.name)}else{const w=m.request.method,E=Rn[w].res;E.tvf=Tr(qt({},b),{correlationId:r}),o?(E.internal=Tr(qt({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,E)):this.client.core.relayer.publish(s,p,E).catch(_=>this.client.logger.error(_))}await this.client.core.history.resolve(f)}),de(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:l,appLink:d}=n,f=y0(r,i);let p;const g=d&&typeof(global==null?void 0:global.Linking)<"u";try{const b=g?Co:Js;p=await this.client.core.crypto.encode(s,f,Tr(qt({},o||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),b}let m;try{m=await this.client.core.history.get(s,r)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),b}if(g){const b=_m(d,s,p);await global.Linking.openURL(b,this.client.name)}else{const b=m.request.method,w=l||Rn[b].res;this.client.core.relayer.publish(s,p,w)}await this.client.core.history.resolve(f)}),de(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;bo(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{bo(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),de(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),de(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),de(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===wi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=wi.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=wi.idle}),de(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:l}=n,d=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:d}))switch(d){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:l});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:l,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:l,transportType:o});default:return this.client.logger.info(`Unsupported request method ${d}`)}}),de(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),de(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=we("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),de(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),de(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:l,id:d}=s;try{const f=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),f==null||f.setError(ga.proposal_listener_not_found)),this.isValidConnect(qt({},s.params));const p=l.expiryTimestamp||vn(Rn.wc_sessionPropose.req.ttl),g=qt({id:d,pairingTopic:r,expiryTimestamp:p,attestation:i,encryptedId:o},l);await this.setProposal(d,g);const m=await this.getVerifyContext({attestationId:i,hash:Ni(JSON.stringify(s)),encryptedId:o,metadata:g.proposer.metadata});f==null||f.addTrace(bi.emit_session_proposal),this.client.events.emit("session_proposal",{id:d,params:g,verifyContext:m})}catch(f){await this.sendError({id:d,topic:r,error:f,rpcOpts:Rn.wc_sessionPropose.autoReject}),this.client.logger.error(f)}}),de(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(Ei(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const l=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:l});const d=l.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:d});const f=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const p=await this.client.core.crypto.generateSharedKey(d,f);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:n,proposalId:i,publicKey:d});const g=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:n})}else if(Ss(r)){await this.deleteProposal(i);const o=Ct("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),de(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:l,expiry:d,namespaces:f,sessionProperties:p,scopedProperties:g,sessionConfig:m}=r.params,b=[...this.pendingSessions.values()].find(_=>_.sessionTopic===n);if(!b)return this.client.logger.error(`Pending session not found for topic ${n}`);const w=this.client.proposal.get(b.proposalId),E=Tr(qt(qt(qt({topic:n,relay:o,expiry:d,namespaces:f,acknowledged:!0,pairingTopic:b.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:l.publicKey,self:{publicKey:b.publicKey,metadata:this.client.metadata},peer:{publicKey:l.publicKey,metadata:l.metadata}},p&&{sessionProperties:p}),g&&{scopedProperties:g}),m&&{sessionConfig:m}),{transportType:Ht.relay});await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),await this.client.core.pairing.updateMetadata({topic:b.pairingTopic,metadata:E.peer.metadata}),this.client.events.emit("session_connect",{session:E}),this.events.emit(Ct("session_connect",b.proposalId),{session:E}),this.pendingSessions.delete(b.proposalId),this.deleteProposal(b.proposalId,!1),this.cleanupDuplicatePairings(E),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),de(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Ei(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Ct("session_approve",s),{})):Ss(r)&&(await this.client.session.delete(n,Kt("USER_DISCONNECTED")),this.events.emit(Ct("session_approve",s),{error:r.error}))}),de(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,l=Uf.get(o);if(l&&this.isRequestOutOfSync(l,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:Kt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(qt({topic:n},s));try{Uf.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(d){throw Uf.delete(o),d}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),de(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),de(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=Ct("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ei(r)?this.events.emit(Ct("session_update",s),{}):Ss(r)&&this.events.emit(Ct("session_update",s),{error:r.error})}),de(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,vn(lu)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),de(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=Ct("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ei(r)?this.events.emit(Ct("session_extend",s),{}):Ss(r)&&this.events.emit(Ct("session_extend",s),{error:r.error})}),de(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),de(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=Ct("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Ei(r)?this.events.emit(Ct("session_ping",s),{}):Ss(r)&&this.events.emit(Ct("session_ping",s),{error:r.error})},500)}),de(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(Pn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Kt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),de(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:l,attestation:d,encryptedId:f,transportType:p}=n,{id:g,params:m}=l;try{await this.isValidRequest(qt({topic:o},m));const b=this.client.session.get(o),w=await this.getVerifyContext({attestationId:d,hash:Ni(JSON.stringify(Po("wc_sessionRequest",m,g))),encryptedId:f,metadata:b.peer.metadata,transportType:p}),E={id:g,topic:o,params:m,verifyContext:w};await this.setPendingSessionRequest(E),p===Ht.link_mode&&(r=b.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=b.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(E):(this.addSessionRequestToSessionRequestQueue(E),this.processSessionRequestQueue())}catch(b){await this.sendError({id:g,topic:o,error:b}),this.client.logger.error(b)}}),de(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=Ct("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ei(r)?this.events.emit(Ct("session_request",s),{result:r.result}):Ss(r)&&this.events.emit(Ct("session_request",s),{error:r.error})}),de(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,l=Uf.get(o);if(l&&this.isRequestOutOfSync(l,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(qt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),Uf.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),de(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Ei(r)?this.events.emit(Ct("session_request",s),{result:r.result}):Ss(r)&&this.events.emit(Ct("session_request",s),{error:r.error})}),de(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:l,transportType:d}=n;try{const{requester:f,authPayload:p,expiryTimestamp:g}=i.params,m=await this.getVerifyContext({attestationId:o,hash:Ni(JSON.stringify(i)),encryptedId:l,metadata:f.metadata,transportType:d}),b={requester:f,pairingTopic:s,id:i.id,authPayload:p,verifyContext:m,expiryTimestamp:g};await this.setAuthRequest(i.id,{request:b,pairingTopic:s,transportType:d}),d===Ht.link_mode&&(r=f.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(f.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:m})}catch(f){this.client.logger.error(f);const p=i.params.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),m=this.getAppLinkIfEnabled(i.params.requester.metadata,d),b={type:Ca,receiverPublicKey:p,senderPublicKey:g};await this.sendError({id:i.id,topic:s,error:f,encodeOpts:b,rpcOpts:Rn.wc_sessionAuthenticate.autoReject,appLink:m})}}),de(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),de(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=wi.idle,this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay))}),de(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,l=Ct("session_request",o);if(this.events.listenerCount(l)===0)throw new Error(`emitting ${l} without any listeners`);this.events.emit(Ct("session_request",i.request.id),{error:r})})}),de(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===wi.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=wi.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),de(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),de(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Po("wc_sessionPropose",Tr(qt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),de(this,"isValidConnect",async n=>{if(!Ir(n)){const{message:f}=we("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(f)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:l,relays:d}=n;if(qn(r)||await this.isValidPairingTopic(r),!$Q(d)){const{message:f}=we("MISSING_OR_INVALID",`connect() relays: ${d}`);throw new Error(f)}if(!qn(s)&&Bo(s)!==0){const f="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(f):this.client.logger.warn(f),this.validateNamespaces(s,"requiredNamespaces")}if(!qn(i)&&Bo(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),qn(o)||this.validateSessionProps(o,"sessionProperties"),!qn(l)){this.validateSessionProps(l,"scopedProperties");const f=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(l).every(p=>f.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(l)}, required/optional namespaces: ${JSON.stringify(f)}`)}}),de(this,"validateNamespaces",(n,r)=>{const s=UQ(n,"connect()",r);if(s)throw new Error(s.message)}),de(this,"isValidApprove",async n=>{if(!Ir(n))throw new Error(we("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:l}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const d=this.client.proposal.get(r),f=eE(s,"approve()");if(f)throw new Error(f.message);const p=AI(d.requiredNamespaces,s,"approve()");if(p)throw new Error(p.message);if(!pn(i,!0)){const{message:g}=we("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(g)}if(qn(o)||this.validateSessionProps(o,"sessionProperties"),!qn(l)){this.validateSessionProps(l,"scopedProperties");const g=new Set(Object.keys(s));if(!Object.keys(l).every(m=>g.has(m)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(l)}, approved namespaces: ${Array.from(g).join(", ")}`)}}),de(this,"isValidReject",async n=>{if(!Ir(n)){const{message:i}=we("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!MQ(s)){const{message:i}=we("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),de(this,"isValidSessionSettleRequest",n=>{if(!Ir(n)){const{message:f}=we("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(f)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!h5(r)){const{message:f}=we("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(f)}const l=NQ(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);const d=eE(i,"onSessionSettleRequest()");if(d)throw new Error(d.message);if(bo(o)){const{message:f}=we("EXPIRED","onSessionSettleRequest()");throw new Error(f)}}),de(this,"isValidUpdate",async n=>{if(!Ir(n)){const{message:d}=we("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(d)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=eE(s,"update()");if(o)throw new Error(o.message);const l=AI(i.requiredNamespaces,s,"update()");if(l)throw new Error(l.message)}),de(this,"isValidExtend",async n=>{if(!Ir(n)){const{message:s}=we("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),de(this,"isValidRequest",async n=>{if(!Ir(n)){const{message:d}=we("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(d)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:l}=this.client.session.get(r);if(!SI(l,i)){const{message:d}=we("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(d)}if(!BQ(s)){const{message:d}=we("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(d)}if(!FQ(l,i,s.method)){const{message:d}=we("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(d)}if(o&&!VQ(o,cE)){const{message:d}=we("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${cE.min} and ${cE.max}`);throw new Error(d)}}),de(this,"isValidRespond",async n=>{var r;if(!Ir(n)){const{message:o}=we("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!LQ(i)){const{message:o}=we("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),de(this,"isValidPing",async n=>{if(!Ir(n)){const{message:s}=we("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),de(this,"isValidEmit",async n=>{if(!Ir(n)){const{message:l}=we("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(l)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!SI(o,i)){const{message:l}=we("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(l)}if(!jQ(s)){const{message:l}=we("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(l)}if(!zQ(o,i,s.name)){const{message:l}=we("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(l)}}),de(this,"isValidDisconnect",async n=>{if(!Ir(n)){const{message:s}=we("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),de(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!pn(s,!1))throw new Error("uri is required parameter");if(!pn(i,!1))throw new Error("domain is required parameter");if(!pn(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(d=>Du(d).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:l}=Du(r[0]);if(l!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),de(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:l}=n,d={verified:{verifyUrl:o.verifyUrl||uh,validation:"UNKNOWN",origin:o.url||""}};try{if(l===Ht.link_mode){const p=this.getAppLinkIfEnabled(o,l);return d.verified.validation=p&&new URL(p).origin===new URL(o.url).origin?"VALID":"INVALID",d}const f=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});f&&(d.verified.origin=f.origin,d.verified.isScam=f.isScam,d.verified.validation=f.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(f){this.client.logger.warn(f)}return this.client.logger.debug(`Verify context: ${JSON.stringify(d)}`),d}),de(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=we("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),de(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),de(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),de(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=we("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),de(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,l,d,f,p,g,m;return!n||r!==Ht.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((l=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:l.universal)!==void 0&&((f=(d=this.client.metadata)==null?void 0:d.redirect)==null?void 0:f.universal)!==""&&((p=n==null?void 0:n.redirect)==null?void 0:p.universal)!==void 0&&((g=n==null?void 0:n.redirect)==null?void 0:g.universal)!==""&&((m=n==null?void 0:n.redirect)==null?void 0:m.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),de(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),de(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=BN(n,"topic")||"",s=decodeURIComponent(BN(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:Ht.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),de(this,"registerLinkModeListeners",async()=>{var n;if(W_()||Yo()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),de(this,"getTVFParams",(n,r,s)=>{var i,o,l;if(!((i=r.request)!=null&&i.method))return{};const d={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const f=this.extractTxHashesFromResult(r.request,s);d.txHashes=f,d.contractAddresses=this.isValidContractData(r.request.params)?[(l=(o=r.request.params)==null?void 0:o[0])==null?void 0:l.to]:[]}catch(f){this.client.logger.warn("Error getting TVF params",f)}return d}),de(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),de(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=mne[i];if(i==="sui_signTransaction")return[pY(r.transactionBytes)];if(i==="near_signTransaction")return[GN(r)];if(i==="near_signTransactions")return r.map(d=>GN(d));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[aX({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return Sa(r)?r.map(d=>WN(d)):[WN(r)];if(i==="cosmos_signDirect")return[mY(r)];if(typeof r=="string")return[r];const l=r[o.key];if(Sa(l))return i==="solana_signAllTransactions"?l.map(d=>hY(d)):l;if(typeof l=="string")return[l]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Pn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(zm)?this.client.auth.authKeys.get(zm):{publicKey:void 0};try{const l=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===Ht.link_mode?Co:Js});cC(l)?(this.client.core.history.set(n,l),await this.onRelayEventRequest({topic:n,payload:l,attestation:s,transportType:i,encryptedId:Ni(r)})):w0(l)?(await this.client.core.history.resolve(l),await this.onRelayEventResponse({topic:n,payload:l,transportType:i}),this.client.core.history.delete(n,l.id)):await this.onRelayEventUnknownPayload({topic:n,payload:l,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(l){this.client.logger.error(l)}}registerExpirerEvents(){this.client.core.expirer.on(_s.expired,async e=>{const{topic:n,id:r}=ED(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,we("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,we("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ac.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Ac.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!pn(e,!1)){const{message:n}=we("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=we("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(bo(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=we("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!pn(e,!1)){const{message:n}=we("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=we("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(bo(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=we("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=we("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(pn(e,!1)){const{message:n}=we("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=we("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!kQ(e)){const{message:n}=we("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=we("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(bo(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=we("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Rne extends pl{constructor(e,n){super(e,n,hne,lC),this.core=e,this.logger=n}}let One=class extends pl{constructor(e,n){super(e,n,pne,lC),this.core=e,this.logger=n}};class Pne extends pl{constructor(e,n){super(e,n,yne,lC,r=>r.id),this.core=e,this.logger=n}}class Dne extends pl{constructor(e,n){super(e,n,Ene,v0,()=>zm),this.core=e,this.logger=n}}class Une extends pl{constructor(e,n){super(e,n,_ne,v0),this.core=e,this.logger=n}}class $ne extends pl{constructor(e,n){super(e,n,Cne,v0,r=>r.id),this.core=e,this.logger=n}}var kne=Object.defineProperty,Mne=(t,e,n)=>e in t?kne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lE=(t,e,n)=>Mne(t,typeof e!="symbol"?e+"":e,n);class Bne{constructor(e,n){this.core=e,this.logger=n,lE(this,"authKeys"),lE(this,"pairingTopics"),lE(this,"requests"),this.authKeys=new Dne(this.core,this.logger),this.pairingTopics=new Une(this.core,this.logger),this.requests=new $ne(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Lne=Object.defineProperty,jne=(t,e,n)=>e in t?Lne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ct=(t,e,n)=>jne(t,typeof e!="symbol"?e+"":e,n);let Fne=class L5 extends Nz{constructor(e){super(e),ct(this,"protocol",k5),ct(this,"version",M5),ct(this,"name",oE.name),ct(this,"metadata"),ct(this,"core"),ct(this,"logger"),ct(this,"events",new Us.EventEmitter),ct(this,"engine"),ct(this,"session"),ct(this,"proposal"),ct(this,"pendingRequest"),ct(this,"auth"),ct(this,"signConfig"),ct(this,"on",(r,s)=>this.events.on(r,s)),ct(this,"once",(r,s)=>this.events.once(r,s)),ct(this,"off",(r,s)=>this.events.off(r,s)),ct(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),ct(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),ct(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),ct(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),ct(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||oE.name,this.metadata=aK(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Ap(dd({level:(e==null?void 0:e.logger)||oE.logger}));this.core=(e==null?void 0:e.core)||new fne(e),this.logger=ir(n,this.name),this.session=new One(this.core,this.logger),this.proposal=new Rne(this.core,this.logger),this.pendingRequest=new Pne(this.core,this.logger),this.engine=new Ine(this),this.auth=new Bne(this.core,this.logger)}static async init(e){const n=new L5(e);return await n.initialize(),n}get context(){return jr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ye.toMiliseconds(ye.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Sm={exports:{}},lR;function zne(){return lR||(lR=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ai<"u"&&Ai,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof Ai<"u"&&Ai||{},d={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function f(k){return k&&DataView.prototype.isPrototypeOf(k)}if(d.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(k){return k&&p.indexOf(Object.prototype.toString.call(k))>-1};function m(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(k)||k==="")throw new TypeError('Invalid character in header field name: "'+k+'"');return k.toLowerCase()}function b(k){return typeof k!="string"&&(k=String(k)),k}function w(k){var R={next:function(){var F=k.shift();return{done:F===void 0,value:F}}};return d.iterable&&(R[Symbol.iterator]=function(){return R}),R}function E(k){this.map={},k instanceof E?k.forEach(function(R,F){this.append(F,R)},this):Array.isArray(k)?k.forEach(function(R){if(R.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+R.length);this.append(R[0],R[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(R){this.append(R,k[R])},this)}E.prototype.append=function(k,R){k=m(k),R=b(R);var F=this.map[k];this.map[k]=F?F+", "+R:R},E.prototype.delete=function(k){delete this.map[m(k)]},E.prototype.get=function(k){return k=m(k),this.has(k)?this.map[k]:null},E.prototype.has=function(k){return this.map.hasOwnProperty(m(k))},E.prototype.set=function(k,R){this.map[m(k)]=b(R)},E.prototype.forEach=function(k,R){for(var F in this.map)this.map.hasOwnProperty(F)&&k.call(R,this.map[F],F,this)},E.prototype.keys=function(){var k=[];return this.forEach(function(R,F){k.push(F)}),w(k)},E.prototype.values=function(){var k=[];return this.forEach(function(R){k.push(R)}),w(k)},E.prototype.entries=function(){var k=[];return this.forEach(function(R,F){k.push([F,R])}),w(k)},d.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function _(k){if(!k._noBody){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}}function C(k){return new Promise(function(R,F){k.onload=function(){R(k.result)},k.onerror=function(){F(k.error)}})}function I(k){var R=new FileReader,F=C(R);return R.readAsArrayBuffer(k),F}function A(k){var R=new FileReader,F=C(R),V=/charset=([A-Za-z0-9_-]+)/.exec(k.type),W=V?V[1]:"utf-8";return R.readAsText(k,W),F}function O(k){for(var R=new Uint8Array(k),F=new Array(R.length),V=0;V<R.length;V++)F[V]=String.fromCharCode(R[V]);return F.join("")}function x(k){if(k.slice)return k.slice(0);var R=new Uint8Array(k.byteLength);return R.set(new Uint8Array(k)),R.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(k){this.bodyUsed=this.bodyUsed,this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:d.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:d.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():d.arrayBuffer&&d.blob&&f(k)?(this._bodyArrayBuffer=x(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||g(k))?this._bodyArrayBuffer=x(k):this._bodyText=k=Object.prototype.toString.call(k):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var k=_(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var k=_(this);return k||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(d.blob)return this.blob().then(I);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var k=_(this);if(k)return k;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function U(k){var R=k.toUpperCase();return P.indexOf(R)>-1?R:k}function S(k,R){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');R=R||{};var F=R.body;if(k instanceof S){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,R.headers||(this.headers=new E(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!F&&k._bodyInit!=null&&(F=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new E(R.headers)),this.method=U(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal||function(){if("AbortController"in l){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(F),(this.method==="GET"||this.method==="HEAD")&&(R.cache==="no-store"||R.cache==="no-cache")){var V=/([?&])_=[^&]*/;if(V.test(this.url))this.url=this.url.replace(V,"$1_="+new Date().getTime());else{var W=/\?/;this.url+=(W.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function B(k){var R=new FormData;return k.trim().split("&").forEach(function(F){if(F){var V=F.split("="),W=V.shift().replace(/\+/g," "),D=V.join("=").replace(/\+/g," ");R.append(decodeURIComponent(W),decodeURIComponent(D))}}),R}function L(k){var R=new E,F=k.replace(/\r?\n[\t ]+/g," ");return F.split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var W=V.split(":"),D=W.shift().trim();if(D){var q=W.join(":").trim();try{R.append(D,q)}catch(X){console.warn("Response "+X.message)}}}),R}T.call(S.prototype);function z(k,R){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=R.statusText===void 0?"":""+R.statusText,this.headers=new E(R.headers),this.url=R.url||"",this._initBody(k)}T.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},z.error=function(){var k=new z(null,{status:200,statusText:""});return k.ok=!1,k.status=0,k.type="error",k};var K=[301,302,303,307,308];z.redirect=function(k,R){if(K.indexOf(R)===-1)throw new RangeError("Invalid status code");return new z(null,{status:R,headers:{location:k}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(R,F){this.message=R,this.name=F;var V=Error(R);this.stack=V.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function G(k,R){return new Promise(function(F,V){var W=new S(k,R);if(W.signal&&W.signal.aborted)return V(new o.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function q(){D.abort()}D.onload=function(){var ee={statusText:D.statusText,headers:L(D.getAllResponseHeaders()||"")};W.url.indexOf("file://")===0&&(D.status<200||D.status>599)?ee.status=200:ee.status=D.status,ee.url="responseURL"in D?D.responseURL:ee.headers.get("X-Request-URL");var ie="response"in D?D.response:D.responseText;setTimeout(function(){F(new z(ie,ee))},0)},D.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){V(new o.DOMException("Aborted","AbortError"))},0)};function X(ee){try{return ee===""&&l.location.href?l.location.href:ee}catch{return ee}}if(D.open(W.method,X(W.url),!0),W.credentials==="include"?D.withCredentials=!0:W.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(d.blob?D.responseType="blob":d.arrayBuffer&&(D.responseType="arraybuffer")),R&&typeof R.headers=="object"&&!(R.headers instanceof E||l.Headers&&R.headers instanceof l.Headers)){var te=[];Object.getOwnPropertyNames(R.headers).forEach(function(ee){te.push(m(ee)),D.setRequestHeader(ee,b(R.headers[ee]))}),W.headers.forEach(function(ee,ie){te.indexOf(ie)===-1&&D.setRequestHeader(ie,ee)})}else W.headers.forEach(function(ee,ie){D.setRequestHeader(ie,ee)});W.signal&&(W.signal.addEventListener("abort",q),D.onreadystatechange=function(){D.readyState===4&&W.signal.removeEventListener("abort",q)}),D.send(typeof W._bodyInit>"u"?null:W._bodyInit)})}return G.polyfill=!0,l.fetch||(l.fetch=G,l.Headers=E,l.Request=S,l.Response=z),o.Headers=E,o.Request=S,o.Response=z,o.fetch=G,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(Sm,Sm.exports)),Sm.exports}var qne=zne();const uR=gp(qne);var Hne=Object.defineProperty,Vne=Object.defineProperties,Gne=Object.getOwnPropertyDescriptors,dR=Object.getOwnPropertySymbols,Wne=Object.prototype.hasOwnProperty,Kne=Object.prototype.propertyIsEnumerable,fR=(t,e,n)=>e in t?Hne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hR=(t,e)=>{for(var n in e||(e={}))Wne.call(e,n)&&fR(t,n,e[n]);if(dR)for(var n of dR(e))Kne.call(e,n)&&fR(t,n,e[n]);return t},pR=(t,e)=>Vne(t,Gne(e));const Yne={Accept:"application/json","Content-Type":"application/json"},Zne="POST",gR={headers:Yne,method:Zne},mR=10;let ai=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Us.EventEmitter,this.isAvailable=!1,this.registering=!1,!PI(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Ta(e),r=await(await uR(this.url,pR(hR({},gR),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!PI(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Ta({id:1,jsonrpc:"2.0",method:"test",params:[]});await uR(e,pR(hR({},gR),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?el(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=y0(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return m5(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>mR&&this.events.setMaxListeners(mR)}};const yR="error",Qne="wss://relay.walletconnect.org",Xne="wc",Jne="universal_provider",Am=`${Xne}@2:${Jne}:`,j5="https://rpc.walletconnect.org/v1/",Cu="generic",ere=`${j5}bundler`,ks={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function uC(t){return t==null||typeof t!="object"&&typeof t!="function"}function F5(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function z5(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const tre="[object RegExp]",q5="[object String]",H5="[object Number]",V5="[object Boolean]",G5="[object Arguments]",nre="[object Symbol]",rre="[object Date]",sre="[object Map]",ire="[object Set]",are="[object Array]",ore="[object ArrayBuffer]",cre="[object Object]",lre="[object DataView]",ure="[object Uint8Array]",dre="[object Uint8ClampedArray]",fre="[object Uint16Array]",hre="[object Uint32Array]",pre="[object Int8Array]",gre="[object Int16Array]",mre="[object Int32Array]",yre="[object Float32Array]",wre="[object Float64Array]";function dC(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bre(t,e){return Nu(t,void 0,t,new Map,e)}function Nu(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(uC(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let l=0;l<t.length;l++)o[l]=Nu(t[l],l,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[l,d]of t)o.set(l,Nu(d,l,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const l of t)o.add(Nu(l,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(dC(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let l=0;l<t.length;l++)o[l]=Nu(t[l],l,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Tc(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Tc(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Tc(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Tc(o,t,n,r,s),o}if(typeof t=="object"&&vre(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Tc(o,t,n,r,s),o}return t}function Tc(t,e,n=t,r,s){const i=[...Object.keys(e),...F5(e)];for(let o=0;o<i.length;o++){const l=i[o],d=Object.getOwnPropertyDescriptor(t,l);(d==null||d.writable)&&(t[l]=Nu(e[l],l,n,r,s))}}function vre(t){switch(z5(t)){case G5:case are:case ore:case lre:case V5:case rre:case yre:case wre:case pre:case gre:case mre:case sre:case H5:case cre:case tre:case ire:case q5:case nre:case ure:case dre:case fre:case hre:return!0;default:return!1}}function Ere(t,e){return bre(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case H5:case q5:case V5:{const o=new t.constructor(t==null?void 0:t.valueOf());return Tc(o,t),o}case G5:{const o={};return Tc(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function wR(t){return Ere(t)}function bR(t){return t!==null&&typeof t=="object"&&z5(t)==="[object Arguments]"}function vR(t){return typeof t=="object"&&t!==null}function _re(){}function Cre(t){return dC(t)}function Sre(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Are(t){if(uC(t))return t;if(Array.isArray(t)||dC(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function Tre(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=V1(s,o,r,new Map)}return s}function V1(t,e,n,r){if(uC(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Are(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...F5(e)];for(let i=0;i<s.length;i++){const o=s[i];let l=e[o],d=t[o];if(bR(l)&&(l={...l}),bR(d)&&(d={...d}),typeof Buffer<"u"&&Buffer.isBuffer(l)&&(l=wR(l)),Array.isArray(l))if(typeof d=="object"&&d!=null){const p=[],g=Reflect.ownKeys(d);for(let m=0;m<g.length;m++){const b=g[m];p[b]=d[b]}d=p}else d=[];const f=n(d,l,o,t,e,r);f!=null?t[o]=f:Array.isArray(l)||vR(d)&&vR(l)?t[o]=V1(d,l,n,r):d==null&&Sre(l)?t[o]=V1({},l,n,r):d==null&&Cre(l)?t[o]=wR(l):(d===void 0||l!==void 0)&&(t[o]=l)}return t}function xre(t,...e){return Tre(t,...e,_re)}var Nre=Object.defineProperty,Ire=Object.defineProperties,Rre=Object.getOwnPropertyDescriptors,ER=Object.getOwnPropertySymbols,Ore=Object.prototype.hasOwnProperty,Pre=Object.prototype.propertyIsEnumerable,_R=(t,e,n)=>e in t?Nre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tm=(t,e)=>{for(var n in e||(e={}))Ore.call(e,n)&&_R(t,n,e[n]);if(ER)for(var n of ER(e))Pre.call(e,n)&&_R(t,n,e[n]);return t},Dre=(t,e)=>Ire(t,Rre(e));function ns(t,e,n){var r;const s=Du(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${j5}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function gl(t){return t.includes(":")?t.split(":")[1]:t}function W5(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Ure(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function xm(t={},e={}){const n=CR(t),r=CR(e);return xre(n,r)}function CR(t){var e,n,r,s,i;const o={};if(!Bo(t))return o;for(const[l,d]of Object.entries(t)){const f=g0(l)?[l]:d.chains,p=d.methods||[],g=d.events||[],m=d.rpcMap||{},b=xu(l);o[b]=Dre(Tm(Tm({},o[b]),d),{chains:Di(f,(e=o[b])==null?void 0:e.chains),methods:Di(p,(n=o[b])==null?void 0:n.methods),events:Di(g,(r=o[b])==null?void 0:r.events)}),(Bo(m)||Bo(((s=o[b])==null?void 0:s.rpcMap)||{}))&&(o[b].rpcMap=Tm(Tm({},m),(i=o[b])==null?void 0:i.rpcMap))}return o}function SR(t){return t.includes(":")?t.split(":")[2]:t}function AR(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],l=g0(n)?[n]:r.chains?r.chains:W5(r.accounts);e[n]={chains:l,methods:s,events:i,accounts:o}}return e}function uE(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const K5={},bt=t=>K5[t],dE=(t,e)=>{K5[t]=e};var $re=Object.defineProperty,kre=(t,e,n)=>e in t?$re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uu=(t,e,n)=>kre(t,typeof e!="symbol"?e+"":e,n);class Mre{constructor(e){uu(this,"name","polkadot"),uu(this,"client"),uu(this,"httpProviders"),uu(this,"events"),uu(this,"namespace"),uu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=gl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ns(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $s(new ai(r,bt("disableProviderPing")))}}var Bre=Object.defineProperty,Lre=Object.defineProperties,jre=Object.getOwnPropertyDescriptors,TR=Object.getOwnPropertySymbols,Fre=Object.prototype.hasOwnProperty,zre=Object.prototype.propertyIsEnumerable,G1=(t,e,n)=>e in t?Bre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xR=(t,e)=>{for(var n in e||(e={}))Fre.call(e,n)&&G1(t,n,e[n]);if(TR)for(var n of TR(e))zre.call(e,n)&&G1(t,n,e[n]);return t},NR=(t,e)=>Lre(t,jre(e)),du=(t,e,n)=>G1(t,typeof e!="symbol"?e+"":e,n);class qre{constructor(e){du(this,"name","eip155"),du(this,"client"),du(this,"chainId"),du(this,"namespace"),du(this,"httpProviders"),du(this,"events"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||ns(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $s(new ai(r,bt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(gl(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const l=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],d=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],f=`${l}${d.join(",")}`;if(!l)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const p=this.client.session.get(e.topic),g=((o=p==null?void 0:p.sessionProperties)==null?void 0:o.capabilities)||{};if(g!=null&&g[f])return g==null?void 0:g[f];const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:NR(xR({},p.sessionProperties||{}),{capabilities:NR(xR({},g||{}),{[f]:m})})})}catch(b){console.warn("Failed to update session with capabilities",b)}return m}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const l=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(l,e)}catch(d){console.warn("Failed to fetch call status from bundler",d,l)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Po("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${ere}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var Hre=Object.defineProperty,Vre=(t,e,n)=>e in t?Hre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fu=(t,e,n)=>Vre(t,typeof e!="symbol"?e+"":e,n);class Gre{constructor(e){fu(this,"name","solana"),fu(this,"client"),fu(this,"httpProviders"),fu(this,"events"),fu(this,"namespace"),fu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=gl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ns(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $s(new ai(r,bt("disableProviderPing")))}}var Wre=Object.defineProperty,Kre=(t,e,n)=>e in t?Wre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hu=(t,e,n)=>Kre(t,typeof e!="symbol"?e+"":e,n);class Yre{constructor(e){hu(this,"name","cosmos"),hu(this,"client"),hu(this,"httpProviders"),hu(this,"events"),hu(this,"namespace"),hu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=gl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ns(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $s(new ai(r,bt("disableProviderPing")))}}var Zre=Object.defineProperty,Qre=(t,e,n)=>e in t?Zre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pu=(t,e,n)=>Qre(t,typeof e!="symbol"?e+"":e,n);class Xre{constructor(e){pu(this,"name","algorand"),pu(this,"client"),pu(this,"httpProviders"),pu(this,"events"),pu(this,"namespace"),pu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||ns(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ns(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new $s(new ai(r,bt("disableProviderPing")))}}var Jre=Object.defineProperty,ese=(t,e,n)=>e in t?Jre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gu=(t,e,n)=>ese(t,typeof e!="symbol"?e+"":e,n);class tse{constructor(e){gu(this,"name","cip34"),gu(this,"client"),gu(this,"httpProviders"),gu(this,"events"),gu(this,"namespace"),gu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=gl(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $s(new ai(r,bt("disableProviderPing")))}}var nse=Object.defineProperty,rse=(t,e,n)=>e in t?nse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mu=(t,e,n)=>rse(t,typeof e!="symbol"?e+"":e,n);class sse{constructor(e){mu(this,"name","elrond"),mu(this,"client"),mu(this,"httpProviders"),mu(this,"events"),mu(this,"namespace"),mu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=gl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ns(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $s(new ai(r,bt("disableProviderPing")))}}var ise=Object.defineProperty,ase=(t,e,n)=>e in t?ise(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yu=(t,e,n)=>ase(t,typeof e!="symbol"?e+"":e,n);class ose{constructor(e){yu(this,"name","multiversx"),yu(this,"client"),yu(this,"httpProviders"),yu(this,"events"),yu(this,"namespace"),yu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=gl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ns(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $s(new ai(r,bt("disableProviderPing")))}}var cse=Object.defineProperty,lse=(t,e,n)=>e in t?cse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wu=(t,e,n)=>lse(t,typeof e!="symbol"?e+"":e,n);class use{constructor(e){wu(this,"name","near"),wu(this,"client"),wu(this,"httpProviders"),wu(this,"events"),wu(this,"namespace"),wu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ns(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ns(e,this.namespace);return typeof r>"u"?void 0:new $s(new ai(r,bt("disableProviderPing")))}}var dse=Object.defineProperty,fse=(t,e,n)=>e in t?dse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bu=(t,e,n)=>fse(t,typeof e!="symbol"?e+"":e,n);class hse{constructor(e){bu(this,"name","tezos"),bu(this,"client"),bu(this,"httpProviders"),bu(this,"events"),bu(this,"namespace"),bu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ns(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ns(e,this.namespace);return typeof r>"u"?void 0:new $s(new ai(r))}}var pse=Object.defineProperty,gse=(t,e,n)=>e in t?pse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vu=(t,e,n)=>gse(t,typeof e!="symbol"?e+"":e,n);class mse{constructor(e){vu(this,"name",Cu),vu(this,"client"),vu(this,"httpProviders"),vu(this,"events"),vu(this,"namespace"),vu(this,"chainId"),this.namespace=e.namespace,this.events=bt("events"),this.client=bt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Du(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ns(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $s(new ai(r,bt("disableProviderPing")))}}var yse=Object.defineProperty,wse=Object.defineProperties,bse=Object.getOwnPropertyDescriptors,IR=Object.getOwnPropertySymbols,vse=Object.prototype.hasOwnProperty,Ese=Object.prototype.propertyIsEnumerable,W1=(t,e,n)=>e in t?yse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nm=(t,e)=>{for(var n in e||(e={}))vse.call(e,n)&&W1(t,n,e[n]);if(IR)for(var n of IR(e))Ese.call(e,n)&&W1(t,n,e[n]);return t},fE=(t,e)=>wse(t,bse(e)),bs=(t,e,n)=>W1(t,typeof e!="symbol"?e+"":e,n);let _se=class Y5{constructor(e){bs(this,"client"),bs(this,"namespaces"),bs(this,"optionalNamespaces"),bs(this,"sessionProperties"),bs(this,"scopedProperties"),bs(this,"events",new U_),bs(this,"rpcProviders",{}),bs(this,"session"),bs(this,"providerOpts"),bs(this,"logger"),bs(this,"uri"),bs(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Ap(dd({level:(e==null?void 0:e.logger)||yR})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Y5(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Nm({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,m0(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Kt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=AR(this.session.namespaces);this.namespaces=xm(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=AR(s.namespaces);return this.namespaces=xm(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===Cu?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Sa(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Fne.init({core:this.providerOpts.core,logger:this.providerOpts.logger||yR,relayUrl:this.providerOpts.relayUrl||Qne,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>xu(n)))];dE("client",this.client),dE("events",this.events),dE("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Ure(n,this.session),s=W5(r),i=xm(this.namespaces,this.optionalNamespaces),o=fE(Nm({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new qre({namespace:o});break;case"algorand":this.rpcProviders[n]=new Xre({namespace:o});break;case"solana":this.rpcProviders[n]=new Gre({namespace:o});break;case"cosmos":this.rpcProviders[n]=new Yre({namespace:o});break;case"polkadot":this.rpcProviders[n]=new Mre({namespace:o});break;case"cip34":this.rpcProviders[n]=new tse({namespace:o});break;case"elrond":this.rpcProviders[n]=new sse({namespace:o});break;case"multiversx":this.rpcProviders[n]=new ose({namespace:o});break;case"near":this.rpcProviders[n]=new use({namespace:o});break;case"tezos":this.rpcProviders[n]=new hse({namespace:o});break;default:this.rpcProviders[Cu]?this.rpcProviders[Cu].updateNamespace(o):this.rpcProviders[Cu]=new mse({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&Sa(o)&&this.events.emit("accountsChanged",o.map(SR))}else if(i.name==="chainChanged"){const o=r.chainId,l=r.event.data,d=xu(o),f=uE(o)!==uE(l)?`${d}:${uE(l)}`:o;this.onChainChanged(f)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=fE(Nm({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",fE(Nm({},Kt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(ks.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Cu]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=xm(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>xu(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=xu(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const l=o.filter(d=>d.includes(`${r}:`)).map(SR);if(!Sa(l))return;this.events.emit("accountsChanged",l)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Am}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Am}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Am}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Am)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const fh={getSIWX(){return fe.state.siwx},async initializeIfEnabled(){var i;const t=fe.state.siwx,e=j.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(j.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await St.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),It.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=Ie._getClient())==null?void 0:i.disconnect().catch(console.error)),ze.reset("Connect"),Xs.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=fe.state.siwx,e=De.getPlainAddress(j.getActiveCaipAddress()),n=j.getActiveCaipNetwork(),r=Ie._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();Ee.getConnectorId(n.chainNamespace)===ue.CONNECTOR_ID.AUTH&&ze.pushTransactionStack({});const l=await r.signMessage(i);await t.addSession({data:s,message:i,signature:l}),j.setLastConnectedSIWECaipNetwork(n),St.close(),It.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!St.state.open||ze.state.view==="ApproveTransaction")&&await St.open({view:"SIWXSignMessage"}),i.isSmartAccount?Xs.showError("This application might not support Smart Accounts"):Xs.showError("Signature declined"),It.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=j.getLastConnectedSIWECaipNetwork();r?j.switchActiveNetwork(r):await Ie.disconnect()}else St.close();ze.reset("Connect"),It.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=j.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,De.getPlainAddress(j.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(){const t=fe.state.siwx,e=De.getPlainAddress(j.getActiveCaipAddress()),n=j.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=ze.state.view==="ApproveTransaction",r=ze.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var l,d,f;const r=fh.getSIWX(),s=new Set(e.map(p=>p.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((l=j.getActiveCaipNetwork())==null?void 0:l.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(p=>p!==i.chainId)]});if(Xs.showLoading("Authenticating...",{autoClose:!1}),be.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(d=o.session.peer.metadata.icons)==null?void 0:d[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(f=o==null?void 0:o.auths)!=null&&f.length){const p=o.auths.map(g=>{const m=t.client.formatAuthMessage({request:g.p,iss:g.p.iss});return{data:{...g.p,accountAddress:g.p.iss.split(":").slice(-1).join(""),chainId:g.p.iss.split(":").slice(2,4).join(":"),uri:g.p.aud,version:g.p.version||i.version,expirationTime:g.p.exp,issuedAt:g.p.iat,notBefore:g.p.nbf},message:m,signature:g.s.s,cacao:g}});try{await r.setSessions(p),It.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:fh.getSIWXEventProperties()})}catch(g){throw console.error("SIWX:universalProviderAuth - failed to set sessions",g),It.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:fh.getSIWXEventProperties()}),await t.disconnect().catch(console.error),g}finally{Xs.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=j.state.activeChain;return{network:((e=j.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=be.state.preferredAccountTypes)==null?void 0:n[t])===$n.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Vt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Do={ConnectorExplorerIds:{[ue.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ue.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ue.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ue.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ue.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Vt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Vt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Vt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Vt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Vt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Vt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Vt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Vt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Vt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Vt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Vt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[ue.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ue.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ue.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ue.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ue.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ue.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ue.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ue.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ue.CONNECTOR_ID.COINBASE]:"Coinbase",[ue.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ue.CONNECTOR_ID.LEDGER]:"Ledger",[ue.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ue.CONNECTOR_ID.INJECTED]:"INJECTED",[ue.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ue.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ue.CONNECTOR_ID.AUTH]:"AUTH"}},Qh={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Vt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=j.state.activeChain;return ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>Ee.getConnectorId(e)===ue.CONNECTOR_ID.AUTH&&e===t)}},Cse=new AbortController,Xt={EmbeddedWalletAbortController:Cse,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${Sse()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function Sse(){return typeof window<"u"}const Ase={createLogger(t,e="error"){const n=dd({level:e}),{logger:r}=k_({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},Tse="rpc.walletconnect.org";function RR(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const hE=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Ii={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Tse}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ue.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ue.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return hE.includes(e)?RR(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var m,b,w,E,_;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(m=t.rpcUrls.default.http)==null?void 0:m[0],l=this.getDefaultRpcUrl(t,i,n),d=((E=(w=(b=t==null?void 0:t.rpcUrls)==null?void 0:b.chainDefault)==null?void 0:w.http)==null?void 0:E[0])||o,f=((_=r==null?void 0:r[i])==null?void 0:_.map(C=>C.url))||[],p=[...f,l],g=[...f];return d&&!g.includes(d)&&g.push(d),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:Do.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:p},chainDefault:{http:g}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Ii.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(l=>{r.push(im(l.url,l.config))}),hE.includes(t.caipNetworkId)&&r.push(im(RR(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(l=>{r.push(im(l))}),px(r)},extendWagmiTransports(t,e,n){if(hE.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return px([n,im(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ue.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var d;const e=ve.getActiveCaipNetworkId(),n=j.getAllRequestedCaipNetworks(),r=Array.from(((d=j.state.chains)==null?void 0:d.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(f=>f.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},xy={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},xr=zt({providers:{...xy},providerIds:{...xy}}),$t={state:xr,subscribeKey(t,e){return Vn(xr,t,e)},subscribe(t){return Hn(xr,()=>{t(xr)})},subscribeProviders(t){return Hn(xr.providers,()=>t(xr.providers))},setProvider(t,e){e&&(xr.providers[t]=Xc(e))},getProvider(t){return xr.providers[t]},setProviderId(t,e){e&&(xr.providerIds[t]=e)},getProviderId(t){if(t)return xr.providerIds[t]},reset(){xr.providers={...xy},xr.providerIds={...xy}},resetChain(t){xr.providers[t]=void 0,xr.providerIds[t]=void 0}},OR={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},zn={set(t,e){es.isClient&&localStorage.setItem(`${Oe.STORAGE_KEY}${t}`,e)},get(t){return es.isClient?localStorage.getItem(`${Oe.STORAGE_KEY}${t}`):null},delete(t,e){es.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Oe.STORAGE_KEY}${t}`))}},Im=30*1e3,es={checkIfAllowedToTriggerEmail(){const t=zn.get(Oe.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Im){const n=Math.ceil((Im-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=zn.get(Oe.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Im)return Math.ceil((Im-e)/1e3)}return 0},checkIfRequestExists(t){return $n.NOT_SAFE_RPC_METHODS.includes(t.method)||$n.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(OR.transactionHash))||(t==null?void 0:t.match(OR.signedMessage)))?Oe.RPC_RESPONSE_TYPE_TX:Oe.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return $n.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var wt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(wt||(wt={}));var K1;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(K1||(K1={}));const Te=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),So=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},me=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),xse=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ni extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,d=0;for(;d<o.path.length;){const f=o.path[d];d===o.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(n(o))):l[f]=l[f]||{_errors:[]},l=l[f],d++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ni.create=t=>new ni(t);const Xh=(t,e)=>{let n;switch(t.code){case me.invalid_type:t.received===Te.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,wt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${wt.joinValues(t.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${wt.joinValues(t.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${wt.joinValues(t.options)}, received '${t.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:wt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case me.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case me.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=e.defaultError,wt.assertNever(t)}return{message:n}};let Z5=Xh;function Nse(t){Z5=t}function Ny(){return Z5}const Iy=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let l="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)l=f(o,{data:e,defaultError:l}).message;return{...s,path:i,message:s.message||l}},Ise=[];function Re(t,e){const n=Iy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ny(),Xh].filter(r=>!!r)});t.common.issues.push(n)}class sr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ke;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return sr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ke;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ke=Object.freeze({status:"aborted"}),Q5=t=>({status:"dirty",value:t}),pr=t=>({status:"valid",value:t}),Y1=t=>t.status==="aborted",Z1=t=>t.status==="dirty",Jh=t=>t.status==="valid",Ry=t=>typeof Promise<"u"&&t instanceof Promise;var Me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Me||(Me={}));class Bi{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PR=(t,e)=>{if(Jh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ni(t.common.issues);return this._error=n,this._error}}};function Qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>o.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:n??l.defaultError},description:s}}class tt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return So(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:So(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sr,ctx:{common:e.parent.common,data:e.data,parsedType:So(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ry(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:So(e)},i=this._parseSync({data:e,path:s.path,parent:s});return PR(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:So(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Ry(s)?s:Promise.resolve(s));return PR(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:me.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new si({schema:this,typeName:Ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Aa.create(this,this._def)}nullable(){return al.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ri.create(this,this._def)}promise(){return id.create(this,this._def)}or(e){return rp.create([this,e],this._def)}and(e){return sp.create(this,e,this._def)}transform(e){return new si({...Qe(this._def),schema:this,typeName:Ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new lp({...Qe(this._def),innerType:this,defaultValue:n,typeName:Ve.ZodDefault})}brand(){return new J5({typeName:Ve.ZodBranded,type:this,...Qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Uy({...Qe(this._def),innerType:this,catchValue:n,typeName:Ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Up.create(this,e)}readonly(){return ky.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Rse=/^c[^\s-]{8,}$/i,Ose=/^[a-z][a-z0-9]*$/,Pse=/^[0-9A-HJKMNP-TV-Z]{26}$/,Dse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Use=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$se="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let pE;const kse=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Mse=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Bse=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Lse(t,e){return!!((e==="v4"||!e)&&kse.test(t)||(e==="v6"||!e)&&Mse.test(t))}class ei extends tt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const i=this._getOrReturnCtx(e);return Re(i,{code:me.invalid_type,expected:Te.string,received:i.parsedType}),Ke}const r=new sr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?Re(s,{code:me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Re(s,{code:me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Use.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"email",code:me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")pE||(pE=new RegExp($se,"u")),pE.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"emoji",code:me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Dse.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"uuid",code:me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Rse.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"cuid",code:me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Ose.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"cuid2",code:me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Pse.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"ulid",code:me.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Re(s,{validation:"url",code:me.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"regex",code:me.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Re(s,{code:me.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Re(s,{code:me.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Re(s,{code:me.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Bse(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Re(s,{code:me.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?Lse(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Re(s,{validation:"ip",code:me.invalid_string,message:i.message}),r.dirty()):wt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:me.invalid_string,...Me.errToObj(r)})}_addCheck(e){return new ei({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Me.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Me.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Me.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Me.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Me.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Me.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Me.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Me.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Me.errToObj(n)})}nonempty(e){return this.min(1,Me.errToObj(e))}trim(){return new ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ei.create=t=>{var e;return new ei({checks:[],typeName:Ve.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Qe(t)})};function jse(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Vo extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const i=this._getOrReturnCtx(e);return Re(i,{code:me.invalid_type,expected:Te.number,received:i.parsedType}),Ke}let r;const s=new sr;for(const i of this._def.checks)i.kind==="int"?wt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:me.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:me.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:me.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?jse(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Re(r,{code:me.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:me.not_finite,message:i.message}),s.dirty()):wt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Me.toString(n))}setLimit(e,n,r,s){return new Vo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Me.toString(s)}]})}_addCheck(e){return new Vo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Vo.create=t=>new Vo({checks:[],typeName:Ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class Go extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Te.bigint){const i=this._getOrReturnCtx(e);return Re(i,{code:me.invalid_type,expected:Te.bigint,received:i.parsedType}),Ke}let r;const s=new sr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:me.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:me.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:me.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):wt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Me.toString(n))}setLimit(e,n,r,s){return new Go({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Me.toString(s)}]})}_addCheck(e){return new Go({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Go.create=t=>{var e;return new Go({checks:[],typeName:Ve.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Qe(t)})};class ep extends tt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const r=this._getOrReturnCtx(e);return Re(r,{code:me.invalid_type,expected:Te.boolean,received:r.parsedType}),Ke}return pr(e.data)}}ep.create=t=>new ep({typeName:Ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class sl extends tt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const i=this._getOrReturnCtx(e);return Re(i,{code:me.invalid_type,expected:Te.date,received:i.parsedType}),Ke}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Re(i,{code:me.invalid_date}),Ke}const r=new sr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:me.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Re(s,{code:me.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):wt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new sl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Me.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Me.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}sl.create=t=>new sl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ve.ZodDate,...Qe(t)});class Oy extends tt{_parse(e){if(this._getType(e)!==Te.symbol){const r=this._getOrReturnCtx(e);return Re(r,{code:me.invalid_type,expected:Te.symbol,received:r.parsedType}),Ke}return pr(e.data)}}Oy.create=t=>new Oy({typeName:Ve.ZodSymbol,...Qe(t)});class tp extends tt{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:me.invalid_type,expected:Te.undefined,received:r.parsedType}),Ke}return pr(e.data)}}tp.create=t=>new tp({typeName:Ve.ZodUndefined,...Qe(t)});class np extends tt{_parse(e){if(this._getType(e)!==Te.null){const r=this._getOrReturnCtx(e);return Re(r,{code:me.invalid_type,expected:Te.null,received:r.parsedType}),Ke}return pr(e.data)}}np.create=t=>new np({typeName:Ve.ZodNull,...Qe(t)});class sd extends tt{constructor(){super(...arguments),this._any=!0}_parse(e){return pr(e.data)}}sd.create=t=>new sd({typeName:Ve.ZodAny,...Qe(t)});class qc extends tt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pr(e.data)}}qc.create=t=>new qc({typeName:Ve.ZodUnknown,...Qe(t)});class Ia extends tt{_parse(e){const n=this._getOrReturnCtx(e);return Re(n,{code:me.invalid_type,expected:Te.never,received:n.parsedType}),Ke}}Ia.create=t=>new Ia({typeName:Ve.ZodNever,...Qe(t)});class Py extends tt{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:me.invalid_type,expected:Te.void,received:r.parsedType}),Ke}return pr(e.data)}}Py.create=t=>new Py({typeName:Ve.ZodVoid,...Qe(t)});class ri extends tt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Te.array)return Re(n,{code:me.invalid_type,expected:Te.array,received:n.parsedType}),Ke;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(Re(n,{code:o?me.too_big:me.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Re(n,{code:me.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Re(n,{code:me.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new Bi(n,o,n.path,l)))).then(o=>sr.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new Bi(n,o,n.path,l)));return sr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ri({...this._def,minLength:{value:e,message:Me.toString(n)}})}max(e,n){return new ri({...this._def,maxLength:{value:e,message:Me.toString(n)}})}length(e,n){return new ri({...this._def,exactLength:{value:e,message:Me.toString(n)}})}nonempty(e){return this.min(1,e)}}ri.create=(t,e)=>new ri({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ve.ZodArray,...Qe(e)});function Su(t){if(t instanceof Jt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Aa.create(Su(r))}return new Jt({...t._def,shape:()=>e})}else return t instanceof ri?new ri({...t._def,type:Su(t.element)}):t instanceof Aa?Aa.create(Su(t.unwrap())):t instanceof al?al.create(Su(t.unwrap())):t instanceof Li?Li.create(t.items.map(e=>Su(e))):t}class Jt extends tt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=wt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Te.object){const f=this._getOrReturnCtx(e);return Re(f,{code:me.invalid_type,expected:Te.object,received:f.parsedType}),Ke}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ia&&this._def.unknownKeys==="strip"))for(const f in s.data)o.includes(f)||l.push(f);const d=[];for(const f of o){const p=i[f],g=s.data[f];d.push({key:{status:"valid",value:f},value:p._parse(new Bi(s,g,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof Ia){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of l)d.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(f==="strict")l.length>0&&(Re(s,{code:me.unrecognized_keys,keys:l}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of l){const g=s.data[p];d.push({key:{status:"valid",value:p},value:f._parse(new Bi(s,g,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of d){const g=await p.key;f.push({key:g,value:await p.value,alwaysSet:p.alwaysSet})}return f}).then(f=>sr.mergeObjectSync(r,f)):sr.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return Me.errToObj,new Jt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,l;const d=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Me.errToObj(e).message)!==null&&l!==void 0?l:d}:{message:d}}}:{}})}strip(){return new Jt({...this._def,unknownKeys:"strip"})}passthrough(){return new Jt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Jt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Jt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Jt({...this._def,catchall:e})}pick(e){const n={};return wt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Jt({...this._def,shape:()=>n})}omit(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Jt({...this._def,shape:()=>n})}deepPartial(){return Su(this)}partial(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Jt({...this._def,shape:()=>n})}required(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Aa;)i=i._def.innerType;n[r]=i}}),new Jt({...this._def,shape:()=>n})}keyof(){return X5(wt.objectKeys(this.shape))}}Jt.create=(t,e)=>new Jt({shape:()=>t,unknownKeys:"strip",catchall:Ia.create(),typeName:Ve.ZodObject,...Qe(e)});Jt.strictCreate=(t,e)=>new Jt({shape:()=>t,unknownKeys:"strict",catchall:Ia.create(),typeName:Ve.ZodObject,...Qe(e)});Jt.lazycreate=(t,e)=>new Jt({shape:t,unknownKeys:"strip",catchall:Ia.create(),typeName:Ve.ZodObject,...Qe(e)});class rp extends tt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ni(l.ctx.common.issues));return Re(n,{code:me.invalid_union,unionErrors:o}),Ke}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},p=d._parseSync({data:n.data,path:n.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(d=>new ni(d));return Re(n,{code:me.invalid_union,unionErrors:l}),Ke}}get options(){return this._def.options}}rp.create=(t,e)=>new rp({options:t,typeName:Ve.ZodUnion,...Qe(e)});const qm=t=>t instanceof ap?qm(t.schema):t instanceof si?qm(t.innerType()):t instanceof op?[t.value]:t instanceof Wo?t.options:t instanceof cp?Object.keys(t.enum):t instanceof lp?qm(t._def.innerType):t instanceof tp?[void 0]:t instanceof np?[null]:null;class E0 extends tt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.object)return Re(n,{code:me.invalid_type,expected:Te.object,received:n.parsedType}),Ke;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Re(n,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=qm(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new E0({typeName:Ve.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Qe(r)})}}function Q1(t,e){const n=So(t),r=So(e);if(t===e)return{valid:!0,data:t};if(n===Te.object&&r===Te.object){const s=wt.objectKeys(e),i=wt.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const d=Q1(t[l],e[l]);if(!d.valid)return{valid:!1};o[l]=d.data}return{valid:!0,data:o}}else if(n===Te.array&&r===Te.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],d=Q1(o,l);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return n===Te.date&&r===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class sp extends tt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Y1(i)||Y1(o))return Ke;const l=Q1(i.value,o.value);return l.valid?((Z1(i)||Z1(o))&&n.dirty(),{status:n.value,value:l.data}):(Re(r,{code:me.invalid_intersection_types}),Ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}sp.create=(t,e,n)=>new sp({left:t,right:e,typeName:Ve.ZodIntersection,...Qe(n)});class Li extends tt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.array)return Re(r,{code:me.invalid_type,expected:Te.array,received:r.parsedType}),Ke;if(r.data.length<this._def.items.length)return Re(r,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&r.data.length>this._def.items.length&&(Re(r,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new Bi(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>sr.mergeArray(n,o)):sr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Li({...this._def,rest:e})}}Li.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Li({items:t,typeName:Ve.ZodTuple,rest:null,...Qe(e)})};class ip extends tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.object)return Re(r,{code:me.invalid_type,expected:Te.object,received:r.parsedType}),Ke;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new Bi(r,l,r.path,l)),value:o._parse(new Bi(r,r.data[l],r.path,l))});return r.common.async?sr.mergeObjectAsync(n,s):sr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof tt?new ip({keyType:e,valueType:n,typeName:Ve.ZodRecord,...Qe(r)}):new ip({keyType:ei.create(),valueType:e,typeName:Ve.ZodRecord,...Qe(n)})}}class Dy extends tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.map)return Re(r,{code:me.invalid_type,expected:Te.map,received:r.parsedType}),Ke;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,d],f)=>({key:s._parse(new Bi(r,l,r.path,[f,"key"])),value:i._parse(new Bi(r,d,r.path,[f,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of o){const f=await d.key,p=await d.value;if(f.status==="aborted"||p.status==="aborted")return Ke;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(f.value,p.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const d of o){const f=d.key,p=d.value;if(f.status==="aborted"||p.status==="aborted")return Ke;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(f.value,p.value)}return{status:n.value,value:l}}}}Dy.create=(t,e,n)=>new Dy({valueType:e,keyType:t,typeName:Ve.ZodMap,...Qe(n)});class il extends tt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.set)return Re(r,{code:me.invalid_type,expected:Te.set,received:r.parsedType}),Ke;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Re(r,{code:me.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Re(r,{code:me.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(d){const f=new Set;for(const p of d){if(p.status==="aborted")return Ke;p.status==="dirty"&&n.dirty(),f.add(p.value)}return{status:n.value,value:f}}const l=[...r.data.values()].map((d,f)=>i._parse(new Bi(r,d,r.path,f)));return r.common.async?Promise.all(l).then(d=>o(d)):o(l)}min(e,n){return new il({...this._def,minSize:{value:e,message:Me.toString(n)}})}max(e,n){return new il({...this._def,maxSize:{value:e,message:Me.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}il.create=(t,e)=>new il({valueType:t,minSize:null,maxSize:null,typeName:Ve.ZodSet,...Qe(e)});class Uu extends tt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.function)return Re(n,{code:me.invalid_type,expected:Te.function,received:n.parsedType}),Ke;function r(l,d){return Iy({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ny(),Xh].filter(f=>!!f),issueData:{code:me.invalid_arguments,argumentsError:d}})}function s(l,d){return Iy({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ny(),Xh].filter(f=>!!f),issueData:{code:me.invalid_return_type,returnTypeError:d}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof id){const l=this;return pr(async function(...d){const f=new ni([]),p=await l._def.args.parseAsync(d,i).catch(b=>{throw f.addIssue(r(d,b)),f}),g=await Reflect.apply(o,this,p);return await l._def.returns._def.type.parseAsync(g,i).catch(b=>{throw f.addIssue(s(g,b)),f})})}else{const l=this;return pr(function(...d){const f=l._def.args.safeParse(d,i);if(!f.success)throw new ni([r(d,f.error)]);const p=Reflect.apply(o,this,f.data),g=l._def.returns.safeParse(p,i);if(!g.success)throw new ni([s(p,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Uu({...this._def,args:Li.create(e).rest(qc.create())})}returns(e){return new Uu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Uu({args:e||Li.create([]).rest(qc.create()),returns:n||qc.create(),typeName:Ve.ZodFunction,...Qe(r)})}}class ap extends tt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ap.create=(t,e)=>new ap({getter:t,typeName:Ve.ZodLazy,...Qe(e)});class op extends tt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Re(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}op.create=(t,e)=>new op({value:t,typeName:Ve.ZodLiteral,...Qe(e)});function X5(t,e){return new Wo({values:t,typeName:Ve.ZodEnum,...Qe(e)})}class Wo extends tt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{expected:wt.joinValues(r),received:n.parsedType,code:me.invalid_type}),Ke}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{received:n.data,code:me.invalid_enum_value,options:r}),Ke}return pr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Wo.create(e)}exclude(e){return Wo.create(this.options.filter(n=>!e.includes(n)))}}Wo.create=X5;class cp extends tt{_parse(e){const n=wt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Te.string&&r.parsedType!==Te.number){const s=wt.objectValues(n);return Re(r,{expected:wt.joinValues(s),received:r.parsedType,code:me.invalid_type}),Ke}if(n.indexOf(e.data)===-1){const s=wt.objectValues(n);return Re(r,{received:r.data,code:me.invalid_enum_value,options:s}),Ke}return pr(e.data)}get enum(){return this._def.values}}cp.create=(t,e)=>new cp({values:t,typeName:Ve.ZodNativeEnum,...Qe(e)});class id extends tt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.promise&&n.common.async===!1)return Re(n,{code:me.invalid_type,expected:Te.promise,received:n.parsedType}),Ke;const r=n.parsedType===Te.promise?n.data:Promise.resolve(n.data);return pr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}id.create=(t,e)=>new id({type:t,typeName:Ve.ZodPromise,...Qe(e)});class si extends tt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Re(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=l=>{const d=s.refinement(l,i);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ke:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ke:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Jh(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Jh(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);wt.assertNever(s)}}si.create=(t,e,n)=>new si({schema:t,typeName:Ve.ZodEffects,effect:e,...Qe(n)});si.createWithPreprocess=(t,e,n)=>new si({schema:e,effect:{type:"preprocess",transform:t},typeName:Ve.ZodEffects,...Qe(n)});class Aa extends tt{_parse(e){return this._getType(e)===Te.undefined?pr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Aa.create=(t,e)=>new Aa({innerType:t,typeName:Ve.ZodOptional,...Qe(e)});class al extends tt{_parse(e){return this._getType(e)===Te.null?pr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:Ve.ZodNullable,...Qe(e)});class lp extends tt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}lp.create=(t,e)=>new lp({innerType:t,typeName:Ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qe(e)});class Uy extends tt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ry(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ni(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ni(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Uy.create=(t,e)=>new Uy({innerType:t,typeName:Ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qe(e)});class $y extends tt{_parse(e){if(this._getType(e)!==Te.nan){const r=this._getOrReturnCtx(e);return Re(r,{code:me.invalid_type,expected:Te.nan,received:r.parsedType}),Ke}return{status:"valid",value:e.data}}}$y.create=t=>new $y({typeName:Ve.ZodNaN,...Qe(t)});const Fse=Symbol("zod_brand");class J5 extends tt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Up extends tt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ke:i.status==="dirty"?(n.dirty(),Q5(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ke:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Up({in:e,out:n,typeName:Ve.ZodPipeline})}}class ky extends tt{_parse(e){const n=this._def.innerType._parse(e);return Jh(n)&&(n.value=Object.freeze(n.value)),n}}ky.create=(t,e)=>new ky({innerType:t,typeName:Ve.ZodReadonly,...Qe(e)});const e8=(t,e={},n)=>t?sd.create().superRefine((r,s)=>{var i,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,d=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,f=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...f,fatal:d})}}):sd.create(),zse={object:Jt.lazycreate};var Ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ve||(Ve={}));const qse=(t,e={message:`Input not instance of ${t.name}`})=>e8(n=>n instanceof t,e),t8=ei.create,n8=Vo.create,Hse=$y.create,Vse=Go.create,r8=ep.create,Gse=sl.create,Wse=Oy.create,Kse=tp.create,Yse=np.create,Zse=sd.create,Qse=qc.create,Xse=Ia.create,Jse=Py.create,eie=ri.create,tie=Jt.create,nie=Jt.strictCreate,rie=rp.create,sie=E0.create,iie=sp.create,aie=Li.create,oie=ip.create,cie=Dy.create,lie=il.create,uie=Uu.create,die=ap.create,fie=op.create,hie=Wo.create,pie=cp.create,gie=id.create,DR=si.create,mie=Aa.create,yie=al.create,wie=si.createWithPreprocess,bie=Up.create,vie=()=>t8().optional(),Eie=()=>n8().optional(),_ie=()=>r8().optional(),Cie={string:t=>ei.create({...t,coerce:!0}),number:t=>Vo.create({...t,coerce:!0}),boolean:t=>ep.create({...t,coerce:!0}),bigint:t=>Go.create({...t,coerce:!0}),date:t=>sl.create({...t,coerce:!0})},Sie=Ke;var M=Object.freeze({__proto__:null,defaultErrorMap:Xh,setErrorMap:Nse,getErrorMap:Ny,makeIssue:Iy,EMPTY_PATH:Ise,addIssueToContext:Re,ParseStatus:sr,INVALID:Ke,DIRTY:Q5,OK:pr,isAborted:Y1,isDirty:Z1,isValid:Jh,isAsync:Ry,get util(){return wt},get objectUtil(){return K1},ZodParsedType:Te,getParsedType:So,ZodType:tt,ZodString:ei,ZodNumber:Vo,ZodBigInt:Go,ZodBoolean:ep,ZodDate:sl,ZodSymbol:Oy,ZodUndefined:tp,ZodNull:np,ZodAny:sd,ZodUnknown:qc,ZodNever:Ia,ZodVoid:Py,ZodArray:ri,ZodObject:Jt,ZodUnion:rp,ZodDiscriminatedUnion:E0,ZodIntersection:sp,ZodTuple:Li,ZodRecord:ip,ZodMap:Dy,ZodSet:il,ZodFunction:Uu,ZodLazy:ap,ZodLiteral:op,ZodEnum:Wo,ZodNativeEnum:cp,ZodPromise:id,ZodEffects:si,ZodTransformer:si,ZodOptional:Aa,ZodNullable:al,ZodDefault:lp,ZodCatch:Uy,ZodNaN:$y,BRAND:Fse,ZodBranded:J5,ZodPipeline:Up,ZodReadonly:ky,custom:e8,Schema:tt,ZodSchema:tt,late:zse,get ZodFirstPartyTypeKind(){return Ve},coerce:Cie,any:Zse,array:eie,bigint:Vse,boolean:r8,date:Gse,discriminatedUnion:sie,effect:DR,enum:hie,function:uie,instanceof:qse,intersection:iie,lazy:die,literal:fie,map:cie,nan:Hse,nativeEnum:pie,never:Xse,null:Yse,nullable:yie,number:n8,object:tie,oboolean:_ie,onumber:Eie,optional:mie,ostring:vie,pipeline:bie,preprocess:wie,promise:gie,record:oie,set:lie,strictObject:nie,string:t8,symbol:Wse,transformer:DR,tuple:aie,undefined:Kse,union:rie,unknown:Qse,void:Jse,NEVER:Sie,ZodIssueCode:me,quotelessJson:xse,ZodError:ni});const nn=M.object({message:M.string()});function xe(t){return M.literal(Oe[t])}M.object({accessList:M.array(M.string()),blockHash:M.string().nullable(),blockNumber:M.string().nullable(),chainId:M.string().or(M.number()),from:M.string(),gas:M.string(),hash:M.string(),input:M.string().nullable(),maxFeePerGas:M.string(),maxPriorityFeePerGas:M.string(),nonce:M.string(),r:M.string(),s:M.string(),to:M.string(),transactionIndex:M.string().nullable(),type:M.string(),v:M.string(),value:M.string()});const Aie=M.object({chainId:M.string().or(M.number())}),Tie=M.object({email:M.string().email()}),xie=M.object({otp:M.string()}),Nie=M.object({uri:M.string(),preferredAccountType:M.optional(M.string()),chainId:M.optional(M.string().or(M.number()))}),Iie=M.object({chainId:M.optional(M.string().or(M.number())),preferredAccountType:M.optional(M.string()),socialUri:M.optional(M.string())}),Rie=M.object({provider:M.enum(["google","github","apple","facebook","x","discord"])}),Oie=M.object({email:M.string().email()}),Pie=M.object({otp:M.string()}),Die=M.object({otp:M.string()}),Uie=M.object({themeMode:M.optional(M.enum(["light","dark"])),themeVariables:M.optional(M.record(M.string(),M.string().or(M.number()))),w3mThemeVariables:M.optional(M.record(M.string(),M.string()))}),$ie=M.object({metadata:M.object({name:M.string(),description:M.string(),url:M.string(),icons:M.array(M.string())}).optional(),sdkVersion:M.string().optional(),sdkType:M.string().optional(),projectId:M.string()}),kie=M.object({type:M.string()}),Mie=M.object({action:M.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Bie=M.object({url:M.string()}),Lie=M.object({userName:M.string()}),jie=M.object({email:M.string().optional().nullable(),address:M.string(),chainId:M.string().or(M.number()),accounts:M.array(M.object({address:M.string(),type:M.enum([$n.ACCOUNT_TYPES.EOA,$n.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:M.string().optional().nullable(),preferredAccountType:M.optional(M.string())}),Fie=M.object({action:M.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),zie=M.object({email:M.string().email().optional().nullable(),address:M.string(),chainId:M.string().or(M.number()),smartAccountDeployed:M.optional(M.boolean()),accounts:M.array(M.object({address:M.string(),type:M.enum([$n.ACCOUNT_TYPES.EOA,$n.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:M.optional(M.string())}),qie=M.object({uri:M.string()}),Hie=M.object({isConnected:M.boolean()}),Vie=M.object({chainId:M.string().or(M.number())}),Gie=M.object({chainId:M.string().or(M.number())}),Wie=M.object({newEmail:M.string().email()}),Kie=M.object({smartAccountEnabledNetworks:M.array(M.number())});M.object({address:M.string(),isDeployed:M.boolean()});const Yie=M.object({version:M.string().optional()}),Zie=M.object({type:M.string(),address:M.string()}),Qie=M.any(),Xie=M.object({method:M.literal("eth_accounts")}),Jie=M.object({method:M.literal("eth_blockNumber")}),eae=M.object({method:M.literal("eth_call"),params:M.array(M.any())}),tae=M.object({method:M.literal("eth_chainId")}),nae=M.object({method:M.literal("eth_estimateGas"),params:M.array(M.any())}),rae=M.object({method:M.literal("eth_feeHistory"),params:M.array(M.any())}),sae=M.object({method:M.literal("eth_gasPrice")}),iae=M.object({method:M.literal("eth_getAccount"),params:M.array(M.any())}),aae=M.object({method:M.literal("eth_getBalance"),params:M.array(M.any())}),oae=M.object({method:M.literal("eth_getBlockByHash"),params:M.array(M.any())}),cae=M.object({method:M.literal("eth_getBlockByNumber"),params:M.array(M.any())}),lae=M.object({method:M.literal("eth_getBlockReceipts"),params:M.array(M.any())}),uae=M.object({method:M.literal("eth_getBlockTransactionCountByHash"),params:M.array(M.any())}),dae=M.object({method:M.literal("eth_getBlockTransactionCountByNumber"),params:M.array(M.any())}),fae=M.object({method:M.literal("eth_getCode"),params:M.array(M.any())}),hae=M.object({method:M.literal("eth_getFilterChanges"),params:M.array(M.any())}),pae=M.object({method:M.literal("eth_getFilterLogs"),params:M.array(M.any())}),gae=M.object({method:M.literal("eth_getLogs"),params:M.array(M.any())}),mae=M.object({method:M.literal("eth_getProof"),params:M.array(M.any())}),yae=M.object({method:M.literal("eth_getStorageAt"),params:M.array(M.any())}),wae=M.object({method:M.literal("eth_getTransactionByBlockHashAndIndex"),params:M.array(M.any())}),bae=M.object({method:M.literal("eth_getTransactionByBlockNumberAndIndex"),params:M.array(M.any())}),vae=M.object({method:M.literal("eth_getTransactionByHash"),params:M.array(M.any())}),Eae=M.object({method:M.literal("eth_getTransactionCount"),params:M.array(M.any())}),_ae=M.object({method:M.literal("eth_getTransactionReceipt"),params:M.array(M.any())}),Cae=M.object({method:M.literal("eth_getUncleCountByBlockHash"),params:M.array(M.any())}),Sae=M.object({method:M.literal("eth_getUncleCountByBlockNumber"),params:M.array(M.any())}),Aae=M.object({method:M.literal("eth_maxPriorityFeePerGas")}),Tae=M.object({method:M.literal("eth_newBlockFilter")}),xae=M.object({method:M.literal("eth_newFilter"),params:M.array(M.any())}),Nae=M.object({method:M.literal("eth_newPendingTransactionFilter")}),Iae=M.object({method:M.literal("eth_sendRawTransaction"),params:M.array(M.any())}),Rae=M.object({method:M.literal("eth_syncing"),params:M.array(M.any())}),Oae=M.object({method:M.literal("eth_uninstallFilter"),params:M.array(M.any())}),UR=M.object({method:M.literal("personal_sign"),params:M.array(M.any())}),Pae=M.object({method:M.literal("eth_signTypedData_v4"),params:M.array(M.any())}),Dae=M.object({method:M.literal("eth_sendTransaction"),params:M.array(M.any())}),Uae=M.object({method:M.literal("solana_signMessage"),params:M.object({message:M.string(),pubkey:M.string()})}),$ae=M.object({method:M.literal("solana_signTransaction"),params:M.object({transaction:M.string()})}),kae=M.object({method:M.literal("solana_signAllTransactions"),params:M.object({transactions:M.array(M.string())})}),Mae=M.object({method:M.literal("solana_signAndSendTransaction"),params:M.object({transaction:M.string(),options:M.object({skipPreflight:M.boolean().optional(),preflightCommitment:M.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:M.number().optional(),minContextSlot:M.number().optional()}).optional()})}),Bae=M.object({method:M.literal("wallet_sendCalls"),params:M.array(M.object({chainId:M.string().or(M.number()).optional(),from:M.string().optional(),version:M.string().optional(),capabilities:M.any().optional(),calls:M.array(M.object({to:M.string().startsWith("0x"),data:M.string().startsWith("0x").optional(),value:M.string().optional()}))}))}),Lae=M.object({method:M.literal("wallet_getCallsStatus"),params:M.array(M.string())}),jae=M.object({method:M.literal("wallet_getCapabilities")}),Fae=M.object({method:M.literal("wallet_grantPermissions"),params:M.array(M.any())}),zae=M.object({method:M.literal("wallet_revokePermissions"),params:M.any()}),qae=M.object({method:M.literal("wallet_getAssets"),params:M.any()}),$R=M.object({token:M.string()}),Ne=M.object({id:M.string().optional()}),Lf={appEvent:Ne.extend({type:xe("APP_SWITCH_NETWORK"),payload:Aie}).or(Ne.extend({type:xe("APP_CONNECT_EMAIL"),payload:Tie})).or(Ne.extend({type:xe("APP_CONNECT_DEVICE")})).or(Ne.extend({type:xe("APP_CONNECT_OTP"),payload:xie})).or(Ne.extend({type:xe("APP_CONNECT_SOCIAL"),payload:Nie})).or(Ne.extend({type:xe("APP_GET_FARCASTER_URI")})).or(Ne.extend({type:xe("APP_CONNECT_FARCASTER")})).or(Ne.extend({type:xe("APP_GET_USER"),payload:M.optional(Iie)})).or(Ne.extend({type:xe("APP_GET_SOCIAL_REDIRECT_URI"),payload:Rie})).or(Ne.extend({type:xe("APP_SIGN_OUT")})).or(Ne.extend({type:xe("APP_IS_CONNECTED"),payload:M.optional($R)})).or(Ne.extend({type:xe("APP_GET_CHAIN_ID")})).or(Ne.extend({type:xe("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Ne.extend({type:xe("APP_INIT_SMART_ACCOUNT")})).or(Ne.extend({type:xe("APP_SET_PREFERRED_ACCOUNT"),payload:kie})).or(Ne.extend({type:xe("APP_RPC_REQUEST"),payload:UR.or(qae).or(Xie).or(Jie).or(eae).or(tae).or(nae).or(rae).or(sae).or(iae).or(aae).or(oae).or(cae).or(lae).or(uae).or(dae).or(fae).or(hae).or(pae).or(gae).or(mae).or(yae).or(wae).or(bae).or(vae).or(Eae).or(_ae).or(Cae).or(Sae).or(Aae).or(Tae).or(xae).or(Nae).or(Iae).or(Rae).or(Oae).or(UR).or(Pae).or(Dae).or(Uae).or($ae).or(kae).or(Mae).or(Lae).or(Bae).or(jae).or(Fae).or(zae)})).or(Ne.extend({type:xe("APP_UPDATE_EMAIL"),payload:Oie})).or(Ne.extend({type:xe("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Pie})).or(Ne.extend({type:xe("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Die})).or(Ne.extend({type:xe("APP_SYNC_THEME"),payload:Uie})).or(Ne.extend({type:xe("APP_SYNC_DAPP_DATA"),payload:$ie})).or(Ne.extend({type:xe("APP_RELOAD")})),frameEvent:Ne.extend({type:xe("FRAME_SWITCH_NETWORK_ERROR"),payload:nn}).or(Ne.extend({type:xe("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Gie})).or(Ne.extend({type:xe("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Mie})).or(Ne.extend({type:xe("FRAME_CONNECT_EMAIL_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Bie})).or(Ne.extend({type:xe("FRAME_GET_FARCASTER_URI_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Lie})).or(Ne.extend({type:xe("FRAME_CONNECT_FARCASTER_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_CONNECT_OTP_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_CONNECT_OTP_SUCCESS")})).or(Ne.extend({type:xe("FRAME_CONNECT_DEVICE_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Ne.extend({type:xe("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:jie})).or(Ne.extend({type:xe("FRAME_CONNECT_SOCIAL_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_GET_USER_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_GET_USER_SUCCESS"),payload:zie})).or(Ne.extend({type:xe("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:qie})).or(Ne.extend({type:xe("FRAME_SIGN_OUT_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_SIGN_OUT_SUCCESS")})).or(Ne.extend({type:xe("FRAME_IS_CONNECTED_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_IS_CONNECTED_SUCCESS"),payload:Hie})).or(Ne.extend({type:xe("FRAME_GET_CHAIN_ID_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Vie})).or(Ne.extend({type:xe("FRAME_RPC_REQUEST_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_RPC_REQUEST_SUCCESS"),payload:Qie})).or(Ne.extend({type:xe("FRAME_SESSION_UPDATE"),payload:$R})).or(Ne.extend({type:xe("FRAME_UPDATE_EMAIL_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Fie})).or(Ne.extend({type:xe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Ne.extend({type:xe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Wie})).or(Ne.extend({type:xe("FRAME_SYNC_THEME_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_SYNC_THEME_SUCCESS")})).or(Ne.extend({type:xe("FRAME_SYNC_DAPP_DATA_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Ne.extend({type:xe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Kie})).or(Ne.extend({type:xe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Zie})).or(Ne.extend({type:xe("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_READY"),payload:Yie})).or(Ne.extend({type:xe("FRAME_RELOAD_ERROR"),payload:nn})).or(Ne.extend({type:xe("FRAME_RELOAD_SUCCESS")}))};function gE(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class Hae{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=ue.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,l)=>{function d({data:f}){if(!gE(Oe.FRAME_EVENT_KEY,f))return;const p=Lf.frameEvent.parse(f);p.id===i&&(o(p),window.removeEventListener("message",d))}es.isClient&&(window.addEventListener("message",d),l.addEventListener("abort",()=>{window.removeEventListener("message",d)}))},onFrameEvent:i=>{es.isClient&&window.addEventListener("message",({data:o})=>{if(!gE(Oe.FRAME_EVENT_KEY,o))return;const l=Lf.frameEvent.parse(o);i(l)})},onAppEvent:i=>{es.isClient&&window.addEventListener("message",({data:o})=>{if(!gE(Oe.APP_EVENT_KEY,o))return;const l=Lf.appEvent.parse(o);i(l)})},postAppEvent:i=>{var o;if(es.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Lf.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(es.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Lf.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),es.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${g7}?projectId=${e}&chainId=${r}&version=${y7}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var l;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(l=this.frameLoadPromiseResolver)==null||l.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Vae{constructor(e){var i;const n=dd({level:m7}),{logger:r,chunkLoggerController:s}=k_({opts:n});this.logger=ir(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Gae{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Vae(e)),this.abortController=i,this.w3mFrame=new Hae({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Oe.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!zn.get(Oe.EMAIL_LOGIN_USED_KEY)}getEmail(){return zn.get(Oe.EMAIL)}getUsername(){return zn.get(Oe.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Oe.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{es.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Oe.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Oe.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Oe.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Oe.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Oe.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Oe.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Oe.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Oe.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Oe.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Oe.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Oe.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Oe.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Oe.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:Oe.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Oe.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:Oe.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Oe.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Oe.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:Oe.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:Oe.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if($n.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:Oe.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Oe.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Oe.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Oe.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Oe.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Oe.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Oe.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Oe.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:$n.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Oe.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===Oe.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{$n.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(d){return d.replace("@w3m-app/","")}const i=[Oe.APP_SYNC_DAPP_DATA,Oe.APP_SYNC_THEME,Oe.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var d;(d=this.onTimeout)==null||d.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Oe.APP_CONNECT_EMAIL,Oe.APP_CONNECT_DEVICE,Oe.APP_CONNECT_OTP,Oe.APP_CONNECT_SOCIAL,Oe.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var d;(d=this.onTimeout)==null||d.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((d,f)=>{var b,w,E;const p=Math.random().toString(36).substring(7);(E=(b=this.w3mLogger)==null?void 0:(w=b.logger).info)==null||E.call(w,{event:e,id:p},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:p});const g=new AbortController;if(o==="RPC_REQUEST"){const _=e;this.openRpcRequests=[...this.openRpcRequests,{..._.payload,abortController:g}]}g.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?f(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&f(new Error("Something went wrong"))});function m(_,C){var I,A,O;_.id===p&&((A=C==null?void 0:(I=C.logger).info)==null||A.call(I,{framEvent:_,id:p},"Received frame response"),_.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in _&&d(_.payload),d(void 0)):_.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in _&&f(new Error(((O=_.payload)==null?void 0:O.message)||"An error occurred")),f(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(p,_=>m(_,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){zn.set(Oe.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){zn.set(Oe.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&zn.set(Oe.EMAIL,e),zn.set(Oe.EMAIL_LOGIN_USED_KEY,"true"),zn.delete(Oe.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){zn.delete(Oe.EMAIL_LOGIN_USED_KEY),zn.delete(Oe.EMAIL),zn.delete(Oe.LAST_USED_CHAIN_KEY),zn.delete(Oe.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&zn.set(Oe.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=zn.get(Oe.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){zn.set(Oe.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class Hc{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return Hc.instance||(Hc.instance=new Gae({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),Hc.instance}}var kR={};const Wae={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof kR<"u"?kR.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},X1={filterOutDuplicatesByRDNS(t){const e=fe.state.enableEIP6963?Ee.state.connectors:[],n=ve.getRecentWallets(),r=e.map(l=>{var d;return(d=l.info)==null?void 0:d.rdns}).filter(Boolean),s=n.map(l=>l.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&De.isMobile()){const l=i.indexOf("io.metamask.mobile");i[l]="io.metamask"}return t.filter(l=>!i.includes(String(l==null?void 0:l.rdns)))},filterOutDuplicatesByIds(t){const e=Ee.state.connectors.filter(l=>l.type==="ANNOUNCED"||l.type==="INJECTED"),n=ve.getRecentWallets(),r=e.map(l=>l.explorerId),s=n.map(l=>l.id),i=r.concat(s);return t.filter(l=>!i.includes(l==null?void 0:l.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ee.state,{featuredWalletIds:n}=fe.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,l)=>{var d;return(d=l.info)!=null&&d.rdns&&(o[l.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,l)=>{const d=Number(l.installed)-Number(o.installed);if(d!==0)return d;if(n!=null&&n.length){const f=n.indexOf(o.id),p=n.indexOf(l.id);if(f!==-1&&p!==-1)return f-p;if(f!==-1)return-1;if(p!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var d;const n=(t==null?void 0:t.connectMethodsOrder)||((d=fe.state.features)==null?void 0:d.connectMethodsOrder),r=e||Ee.state.connectors;if(n)return n;const{injected:s,announced:i}=Hm.getConnectorsByType(r,ke.state.recommended,ke.state.featured),o=s.filter(Hm.showConnector),l=i.filter(Hm.showConnector);return o.length||l.length?["wallet","email","social"]:Wae.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&ke.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&ke.state.excludedWallets.some(r=>Qh.isLowerCaseMatch(r.name,t.name));return e||n}},Hm={getConnectorsByType(t,e,n){const{customWallets:r}=fe.state,s=ve.getRecentWallets(),i=X1.filterOutDuplicateWallets(e),o=X1.filterOutDuplicateWallets(n),l=t.filter(g=>g.type==="MULTI_CHAIN"),d=t.filter(g=>g.type==="ANNOUNCED"),f=t.filter(g=>g.type==="INJECTED"),p=t.filter(g=>g.type==="EXTERNAL");return{custom:r,recent:s,external:p,multiChain:l,announced:d,injected:f,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&ke.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&ke.state.excludedWallets.some(i=>Qh.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!De.isMobile()||De.isMobile()&&!e&&!Ie.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(j.state.chains.values()).some(n=>Ee.getConnectorId(n.namespace)===ue.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:l,overriddenConnectors:d=(f=>(f=fe.state.features)==null?void 0:f.connectorTypeOrder)()??[]}){const p=Hm.getIsConnectedWithWC(),b=[{type:"walletConnect",isEnabled:fe.state.enableWalletConnect&&!p},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:l.length>0},{type:"recommended",isEnabled:t.length>0}].filter(C=>C.isEnabled),w=new Set(b.map(C=>C.type)),E=d.filter(C=>w.has(C)).map(C=>({type:C,isEnabled:!0})),_=b.filter(({type:C})=>!E.some(({type:A})=>A===C));return Array.from(new Set([...E,..._].map(({type:C})=>C)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!De.isMobile())return{accounts:[],chainId:void 0};if(t.id===ue.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vm=globalThis,fC=Vm.ShadowRoot&&(Vm.ShadyCSS===void 0||Vm.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,hC=Symbol(),MR=new WeakMap;let s8=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==hC)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(fC&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=MR.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&MR.set(n,e))}return e}toString(){return this.cssText}};const vs=t=>new s8(typeof t=="string"?t:t+"",void 0,hC),$u=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new s8(n,t,hC)},Kae=(t,e)=>{if(fC)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=Vm.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},BR=fC?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return vs(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Yae,defineProperty:Zae,getOwnPropertyDescriptor:Qae,getOwnPropertyNames:Xae,getOwnPropertySymbols:Jae,getPrototypeOf:eoe}=Object,Lo=globalThis,LR=Lo.trustedTypes,toe=LR?LR.emptyScript:"",mE=Lo.reactiveElementPolyfillSupport,hh=(t,e)=>t,J1={toAttribute(t,e){switch(e){case Boolean:t=t?toe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},i8=(t,e)=>!Yae(t,e),jR={attribute:!0,type:String,converter:J1,reflect:!1,useDefault:!1,hasChanged:i8};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Lo.litPropertyMetadata??(Lo.litPropertyMetadata=new WeakMap);let Au=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=jR){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&Zae(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=Qae(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const l=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??jR}static _$Ei(){if(this.hasOwnProperty(hh("elementProperties")))return;const e=eoe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(hh("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(hh("properties"))){const n=this.properties,r=[...Xae(n),...Jae(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(BR(s))}else e!==void 0&&n.push(BR(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Kae(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:J1).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const l=r.getPropertyOptions(s),d=typeof l.converter=="function"?{fromAttribute:l.converter}:((i=l.converter)==null?void 0:i.fromAttribute)!==void 0?l.converter:J1;this._$Em=s,this[s]=d.fromAttribute(n,l.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??i8)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:l}=o,d=this[i];l!==!0||this._$AL.has(i)||d===void 0||this.C(i,void 0,o,d)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Au.elementStyles=[],Au.shadowRootOptions={mode:"open"},Au[hh("elementProperties")]=new Map,Au[hh("finalized")]=new Map,mE==null||mE({ReactiveElement:Au}),(Lo.reactiveElementVersions??(Lo.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ph=globalThis,My=ph.trustedTypes,FR=My?My.createPolicy("lit-html",{createHTML:t=>t}):void 0,a8="$lit$",Ao=`lit$${Math.random().toFixed(9).slice(2)}$`,o8="?"+Ao,noe=`<${o8}>`,ol=document,up=()=>ol.createComment(""),dp=t=>t===null||typeof t!="object"&&typeof t!="function",pC=Array.isArray,roe=t=>pC(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",yE=`[ 	
\f\r]`,jf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,zR=/-->/g,qR=/>/g,Ec=RegExp(`>|${yE}(?:([^\\s"'>=/]+)(${yE}*=${yE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),HR=/'/g,VR=/"/g,c8=/^(?:script|style|textarea|title)$/i,l8=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Kce=l8(1),Yce=l8(2),ad=Symbol.for("lit-noChange"),Dn=Symbol.for("lit-nothing"),GR=new WeakMap,$c=ol.createTreeWalker(ol,129);function u8(t,e){if(!pC(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return FR!==void 0?FR.createHTML(e):e}const soe=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=jf;for(let l=0;l<n;l++){const d=t[l];let f,p,g=-1,m=0;for(;m<d.length&&(o.lastIndex=m,p=o.exec(d),p!==null);)m=o.lastIndex,o===jf?p[1]==="!--"?o=zR:p[1]!==void 0?o=qR:p[2]!==void 0?(c8.test(p[2])&&(s=RegExp("</"+p[2],"g")),o=Ec):p[3]!==void 0&&(o=Ec):o===Ec?p[0]===">"?(o=s??jf,g=-1):p[1]===void 0?g=-2:(g=o.lastIndex-p[2].length,f=p[1],o=p[3]===void 0?Ec:p[3]==='"'?VR:HR):o===VR||o===HR?o=Ec:o===zR||o===qR?o=jf:(o=Ec,s=void 0);const b=o===Ec&&t[l+1].startsWith("/>")?" ":"";i+=o===jf?d+noe:g>=0?(r.push(f),d.slice(0,g)+a8+d.slice(g)+Ao+b):d+Ao+(g===-2?l:b)}return[u8(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class fp{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const l=e.length-1,d=this.parts,[f,p]=soe(e,n);if(this.el=fp.createElement(f,r),$c.currentNode=this.el.content,n===2||n===3){const g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(s=$c.nextNode())!==null&&d.length<l;){if(s.nodeType===1){if(s.hasAttributes())for(const g of s.getAttributeNames())if(g.endsWith(a8)){const m=p[o++],b=s.getAttribute(g).split(Ao),w=/([.?@])?(.*)/.exec(m);d.push({type:1,index:i,name:w[2],strings:b,ctor:w[1]==="."?aoe:w[1]==="?"?ooe:w[1]==="@"?coe:_0}),s.removeAttribute(g)}else g.startsWith(Ao)&&(d.push({type:6,index:i}),s.removeAttribute(g));if(c8.test(s.tagName)){const g=s.textContent.split(Ao),m=g.length-1;if(m>0){s.textContent=My?My.emptyScript:"";for(let b=0;b<m;b++)s.append(g[b],up()),$c.nextNode(),d.push({type:2,index:++i});s.append(g[m],up())}}}else if(s.nodeType===8)if(s.data===o8)d.push({type:2,index:i});else{let g=-1;for(;(g=s.data.indexOf(Ao,g+1))!==-1;)d.push({type:7,index:i}),g+=Ao.length-1}i++}}static createElement(e,n){const r=ol.createElement("template");return r.innerHTML=e,r}}function od(t,e,n=t,r){var o,l;if(e===ad)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=dp(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((l=s==null?void 0:s._$AO)==null||l.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=od(t,s._$AS(t,e.values),s,r)),e}class ioe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??ol).importNode(n,!0);$c.currentNode=s;let i=$c.nextNode(),o=0,l=0,d=r[0];for(;d!==void 0;){if(o===d.index){let f;d.type===2?f=new $p(i,i.nextSibling,this,e):d.type===1?f=new d.ctor(i,d.name,d.strings,this,e):d.type===6&&(f=new loe(i,this,e)),this._$AV.push(f),d=r[++l]}o!==(d==null?void 0:d.index)&&(i=$c.nextNode(),o++)}return $c.currentNode=ol,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class $p{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=Dn,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=od(this,e,n),dp(e)?e===Dn||e==null||e===""?(this._$AH!==Dn&&this._$AR(),this._$AH=Dn):e!==this._$AH&&e!==ad&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):roe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Dn&&dp(this._$AH)?this._$AA.nextSibling.data=e:this.T(ol.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=fp.createElement(u8(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new ioe(s,this),l=o.u(this.options);o.p(n),this.T(l),this._$AH=o}}_$AC(e){let n=GR.get(e.strings);return n===void 0&&GR.set(e.strings,n=new fp(e)),n}k(e){pC(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new $p(this.O(up()),this.O(up()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class _0{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=Dn,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Dn}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=od(this,e,n,0),o=!dp(e)||e!==this._$AH&&e!==ad,o&&(this._$AH=e);else{const l=e;let d,f;for(e=i[0],d=0;d<i.length-1;d++)f=od(this,l[r+d],n,d),f===ad&&(f=this._$AH[d]),o||(o=!dp(f)||f!==this._$AH[d]),f===Dn?e=Dn:e!==Dn&&(e+=(f??"")+i[d+1]),this._$AH[d]=f}o&&!s&&this.j(e)}j(e){e===Dn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class aoe extends _0{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Dn?void 0:e}}class ooe extends _0{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Dn)}}class coe extends _0{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=od(this,e,n,0)??Dn)===ad)return;const r=this._$AH,s=e===Dn&&r!==Dn||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==Dn&&(r===Dn||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class loe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){od(this,e)}}const wE=ph.litHtmlPolyfillSupport;wE==null||wE(fp,$p),(ph.litHtmlVersions??(ph.litHtmlVersions=[])).push("3.3.0");const uoe=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new $p(e.insertBefore(up(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vc=globalThis;class Gm extends Au{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=uoe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return ad}}var iO;Gm._$litElement$=!0,Gm.finalized=!0,(iO=Vc.litElementHydrateSupport)==null||iO.call(Vc,{LitElement:Gm});const bE=Vc.litElementPolyfillSupport;bE==null||bE({LitElement:Gm});(Vc.litElementVersions??(Vc.litElementVersions=[])).push("4.2.0");let gh,jo,Fo;function Zce(t,e){gh=document.createElement("style"),jo=document.createElement("style"),Fo=document.createElement("style"),gh.textContent=ku(t).core.cssText,jo.textContent=ku(t).dark.cssText,Fo.textContent=ku(t).light.cssText,document.head.appendChild(gh),document.head.appendChild(jo),document.head.appendChild(Fo),d8(e)}function d8(t){jo&&Fo&&(t==="light"?(jo.removeAttribute("media"),Fo.media="enabled"):(Fo.removeAttribute("media"),jo.media="enabled"))}function doe(t){gh&&jo&&Fo&&(gh.textContent=ku(t).core.cssText,jo.textContent=ku(t).dark.cssText,Fo.textContent=ku(t).light.cssText)}function ku(t){return{core:$u`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${vs(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${vs((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${vs((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${vs((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${vs((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:$u`
      :root {
        --w3m-color-mix: ${vs((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${vs(Ea(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${vs(Ea(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:$u`
      :root {
        --w3m-color-mix: ${vs((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${vs(Ea(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${vs(Ea(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Qce=$u`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Xce=$u`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Jce=$u`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Qf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},foe=K3({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),hoe=K3({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function kp(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const WR=kp({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),KR=kp({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});kp({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});kp({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});kp({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const poe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},mh={getMethodsByChainNamespace(t){return poe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[l,d]=i.split(":");!l||!d||!n[l]||(n[l].rpcMap||(n[l].rpcMap={}),s.has(l)||(n[l].rpcMap={},s.add(l)),n[l].rpcMap[d]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:l}=s,d=l.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const f=`${o}:${i}`,p=r[o];switch(p.chains.push(f),f){case WR.caipNetworkId:p.chains.push(WR.deprecatedCaipNetworkId);break;case KR.caipNetworkId:p.chains.push(KR.deprecatedCaipNetworkId);break}return p!=null&&p.rpcMap&&d&&(p.rpcMap[i]=d),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await nh.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class gC{constructor({provider:e,namespace:n}){this.id=ue.CONNECTOR_ID.WALLET_CONNECT,this.name=Do.ConnectorNamesMap[ue.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Do.ConnectorImageIds[ue.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=j.getCaipNetworks.bind(j),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=fe.state.universalProviderConfigOverride,s=mh.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return fh.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:goe})}}const goe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class f8{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>j.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:ue.CONNECTOR_ID.AUTH,type:"AUTH",name:ue.CONNECTOR_NAMES.AUTH,provider:e,imageId:Do.ConnectorImageIds[ue.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){be.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,l=(i=be.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const d=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:l});this.emit("switchNetwork",d)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof gC);if(!e)throw new Error("WalletConnectConnector not found");return e}}class moe extends f8{setUniversalProvider(e){this.addConnector(new gC({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,l;const n=this.provider,r=((l=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:l.map(d=>{const[,,f]=d.split(":");return f}).filter((d,f,p)=>p.indexOf(d)===f))||[];return Promise.resolve({accounts:r.map(d=>De.createAccount(e,d,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,l,d,f;if(!(e.caipNetwork&&Nt.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""};if(be.state.balanceLoading&&e.chainId===((d=j.state.activeCaipNetwork)==null?void 0:d.id))return{balance:be.state.balance||"0.00",symbol:be.state.balanceSymbol||""};const s=(await be.fetchTokenBalance()).find(p=>{var g,m;return p.chainId===`${(g=e.caipNetwork)==null?void 0:g.chainNamespace}:${e.chainId}`&&p.symbol===((m=e.caipNetwork)==null?void 0:m.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)||""}}async signMessage(e){var o,l,d;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=j.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===ue.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:gd.encode(new TextEncoder().encode(r)),pubkey:s}},(l=j.state.activeCaipNetwork)==null?void 0:l.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(d=j.state.activeCaipNetwork)==null?void 0:d.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,l,d,f;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===ue.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:Zu(n.id)}]}))}catch(p){if(p.code===Qf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||p.code===Qf.ERROR_INVALID_CHAIN_ID||p.code===Qf.ERROR_CODE_DEFAULT||((o=(i=p==null?void 0:p.data)==null?void 0:i.originalError)==null?void 0:o.code)===Qf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((f=r.provider)==null?void 0:f.request({method:"wallet_addEthereumChain",params:[{chainId:Zu(n.id),rpcUrls:[(l=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:l.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(d=n.blockExplorers)==null?void 0:d.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const yoe=["email","socials","swaps","onramp","activity","reownBranding"],Rm={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?Nt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?Nt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?Nt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Nt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?Nt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Nt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?Nt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Nt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Nt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},woe={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=Rm[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=Rm[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const l=this.getApiConfig(i.apiFeatureName,n);return(l==null?void 0:l.config)===null?this.processFallbackFeature(t,o):l!=null&&l.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,l)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return Rm[t].processApi(e)},processFallbackFeature(t,e){return Rm[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await ke.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?Nt.DEFAULT_REMOTE_FEATURES:Nt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of yoe){const l=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:l})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Nt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;hn.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class boe{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,l;if(n){const d=(i=(s=j.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(g=>g.id===r);if(d)return d;const f=(o=j.getNetworkData(n))==null?void 0:o.caipNetwork;return f||((l=j.getRequestedCaipNetworks(n).filter(g=>g.chainNamespace===n))==null?void 0:l[0])}return j.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>j.getCaipNetworks(n),this.getActiveChainNamespace=()=>j.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{j.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>j.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>j.state.activeChain===n||!n?j.state.activeCaipAddress:j.getAccountProp("caipAddress",n),this.setClientId=n=>{Le.setClientId(n)},this.getProvider=n=>$t.getProvider(n),this.getProviderType=n=>$t.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=be.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{be.setCaipAddress(n,r),n&&fe.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{be.setBalance(n,r,s)},this.setProfileName=(n,r)=>{be.setProfileName(n,r)},this.setProfileImage=(n,r)=>{be.setProfileImage(n,r)},this.setUser=(n,r)=>{be.setUser(n,r)},this.resetAccount=n=>{be.resetAccount(n)},this.setCaipNetwork=n=>{j.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{j.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{be.setAllAccounts(n,r),fe.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{be.setStatus(n,r),Ee.isConnected()?ve.setConnectionStatus("connected"):ve.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>j.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Ee.state.allConnectors,...n];Ee.setConnectors(r)},this.setConnections=(n,r)=>{Ie.setConnections(n,r)},this.fetchIdentity=n=>Le.fetchIdentity(n),this.getReownName=n=>nh.getNamesForAddress(n),this.getConnectors=()=>Ee.getConnectors(),this.getConnectorImage=n=>uP.getConnectorImage(n),this.getConnections=n=>Hh.getConnectionsData(n).connections,this.getRecentConnections=n=>Hh.getConnectionsData(n).recentConnections,this.switchConnection=n=>Ie.switchConnection(n),this.deleteConnection=n=>ve.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=$t.getProviderId(r),i=n?{...n,type:s}:void 0;be.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!j.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{be.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{be.removeAddressLabel(n,r)},this.getAddress=n=>j.state.activeChain===n||!n?be.state.address:j.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>j.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{j.resetNetwork(n)},this.addConnector=n=>{Ee.addConnector(n)},this.resetWcConnection=()=>{Ie.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{be.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{be.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{j.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{be.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{fe.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await woe.fetchRemoteFeatures(e),fe.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&r1.setOnrampProviders(this.remoteFeatures.onramp),((n=fe.state.remoteFeatures)!=null&&n.email||Array.isArray((r=fe.state.remoteFeatures)==null?void 0:r.socials)&&((s=fe.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await ke.fetchAllowedOrigins();if(!e||!De.isClient()){hn.open(Xt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;mh.isOriginAllowed(n,e,Qf.DEFAULT_ALLOWED_ANCESTORS)||hn.open(Xt.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){hn.open(Xt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":hn.open(Xt.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;hn.open({shortMessage:Xt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:Xt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:hn.open(Xt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,It.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Or.setThemeMode(e.themeMode),e.themeVariables&&Or.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");j.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&j.setActiveCaipNetwork(n)}initializeConnectionController(e){Ie.initialize(e.adapters??[]),Ie.setWcBasic(e.basic??!1)}initializeConnectorController(){Ee.initialize(this.chainNamespaces)}initializeProjectSettings(e){fe.setProjectId(e.projectId),fe.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;fe.setDebug(e.debug!==!1),fe.setEnableWalletConnect(e.enableWalletConnect!==!1),fe.setEnableWalletGuide(e.enableWalletGuide!==!1),fe.setEnableWallets(e.enableWallets!==!1),fe.setEIP6963Enabled(e.enableEIP6963!==!1),fe.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),fe.setEnableAuthLogger(e.enableAuthLogger!==!1),fe.setCustomRpcUrls(e.customRpcUrls),fe.setEnableEmbedded(e.enableEmbedded),fe.setAllWallets(e.allWallets),fe.setIncludeWalletIds(e.includeWalletIds),fe.setExcludeWalletIds(e.excludeWalletIds),fe.setFeaturedWalletIds(e.featuredWalletIds),fe.setTokens(e.tokens),fe.setTermsConditionsUrl(e.termsConditionsUrl),fe.setPrivacyPolicyUrl(e.privacyPolicyUrl),fe.setCustomWallets(e.customWallets),fe.setFeatures(e.features),fe.setAllowUnsupportedChain(e.allowUnsupportedChain),fe.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),fe.setPreferUniversalLinks(e.experimental_preferUniversalLinks),fe.setDefaultAccountTypes(e.defaultAccountTypes);const n=ve.getPreferredAccountTypes()||{},r={...fe.state.defaultAccountTypes,...n};be.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),fe.setMetadata(e.metadata),fe.setDisableAppend(e.disableAppend),fe.setEnableEmbedded(e.enableEmbedded),fe.setSIWX(e.siwx),!e.projectId){hn.open(Xt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(l=>l.namespace===ue.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");fe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return De.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Ii.getUnsupportedNetwork(`${n}:${e}`);j.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Ii.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Ii.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Ii.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?Ii.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=$t.getProvider(e),s=$t.getProviderId(e),{caipAddress:i}=j.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),ve.removeConnectedNamespace(e),$t.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),Ee.removeConnectorId(e),j.resetAccount(e),j.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=j.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),ve.setConnectedNamespaces([...j.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Ee.setConnectorId(Vt.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:l})=>{var E,_,C,I,A,O;const d=j.state.activeChain,f=i||d,p=this.getAdapter(f);if(i&&i!==d&&!o){const x=this.getCaipNetworks().find(T=>T.chainNamespace===i);x&&this.setCaipNetwork(x)}if(!p)throw new Error("Adapter not found");const g=this.getCaipNetwork(f),m=await p.connect({id:e,info:n,type:r,provider:s,socialUri:l,chainId:(o==null?void 0:o.id)||(g==null?void 0:g.id),rpcUrl:((C=(_=(E=o==null?void 0:o.rpcUrls)==null?void 0:E.default)==null?void 0:_.http)==null?void 0:C[0])||((O=(A=(I=g==null?void 0:g.rpcUrls)==null?void 0:I.default)==null?void 0:A.http)==null?void 0:O[0])});if(!m)return;ve.addConnectedNamespace(f),this.syncProvider({...m,chainNamespace:f});const b=be.state.allAccounts,{accounts:w}=(b==null?void 0:b.length)>0?{accounts:[...b]}:await p.getAccounts({namespace:f,id:e});this.setAllAccounts(w,f),this.setStatus("connected",f),this.syncConnectedWalletInfo(f)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var l;const i=j.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(l=this.getCaipNetwork())==null?void 0:l.id})),ve.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=_7(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));_t.resetSend(),Ie.resetWcConnection(),await fh.clearSessions(),Ee.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));ve.deleteConnectedSocialProvider(),It.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(j.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:be.state.address,provider:$t.getProvider(j.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(Nt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(j.state.activeChain),s=$t.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===ue.CHAIN.EVM){const n=this.getAdapter(j.state.activeChain),r=$t.getProvider(j.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:be.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:j.state.activeChain}),be.state.profileImage||!1},getEnsAddress:async e=>await mh.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(j.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=$t.getProvider(j.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(j.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(j.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(j.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(j.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(j.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(j.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!be.state.address||this.updateNativeBalance(be.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Ie.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if($t.getProviderId(j.state.activeChain)===Vt.CONNECTOR_TYPE_WALLET_CONNECT){const l=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(l)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=$t.getProvider(n),i=$t.getProviderId(n);if(e.chainNamespace===j.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===Vt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:l}=Xr.parseCaipAddress(i);return`${l}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new moe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=ve.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(ve.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(f=>f.id===i||f.caipNetworkId===i),l=j.state.activeChain===e,d=j.getAccountProp("address",e);if(o){const f=l&&s?s:d;f&&this.syncAccount({address:f,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=be.state.address,i=j.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var l,d;const o=j.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((l=j.state.activeCaipNetwork)!=null&&l.id)?this.syncAccount({address:s,chainId:(d=j.state.activeCaipNetwork)==null?void 0:d.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===ue.CHAIN.EVM&&De.isSafeApp()&&Ee.setConnectorId(ue.CONNECTOR_ID.SAFE,e);const n=Ee.getConnectorId(e);switch(this.setStatus("connecting",e),n){case ue.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case ue.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var l,d,f;const n=this.getAdapter(e),r=Ee.getConnectorId(e),s=this.getCaipNetwork(e),o=Ee.getConnectors(e).find(p=>p.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const p=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(f=(d=(l=s==null?void 0:s.rpcUrls)==null?void 0:l.default)==null?void 0:d.http)==null?void 0:f[0]}));if(p){const g=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));g&&g.accounts.length>0?this.setAllAccounts(g.accounts,e):this.setAllAccounts([De.createAccount(e,p.address,"eoa")],e),this.syncProvider({...p,chainNamespace:e}),await this.syncAccount({...p,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var p,g,m,b,w;const o=this.getAdapter(i),l=((b=(m=(g=(p=this.universalProvider)==null?void 0:p.session)==null?void 0:g.namespaces)==null?void 0:m[i])==null?void 0:b.accounts)||[],d=(w=j.state.activeCaipNetwork)==null?void 0:w.id,f=l.find(E=>{const{chainId:_}=Xr.parseCaipAddress(E);return _===(d==null?void 0:d.toString())})||l[0];if(f){const E=Xr.validateCaipAddress(f),{chainId:_,address:C}=Xr.parseCaipAddress(E);if($t.setProviderId(i,Vt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&j.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==ue.CHAIN.EVM){const I=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:j.state.activeCaipNetwork});$t.setProvider(i,I)}else $t.setProvider(i,this.universalProvider);Ee.setConnectorId(ue.CONNECTOR_ID.WALLET_CONNECT,i),ve.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:C,chainId:_,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await j.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,l;const n=(l=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:l.map(d=>{const{address:f}=Xr.parseCaipAddress(d);return f}).filter((d,f,p)=>p.indexOf(d)===f);n&&this.setAllAccounts(n.map(d=>De.createAccount(e,d,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){$t.setProviderId(s,e),$t.setProvider(s,n),Ee.setConnectorId(r,s)}async syncAllAccounts(e){const n=Ee.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var g,m;const n=e.chainNamespace===j.state.activeChain,r=j.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:l}=ve.getActiveNetworkProps(),d=i||l,f=((g=j.state.activeCaipNetwork)==null?void 0:g.name)===ue.UNSUPPORTED_NETWORK_NAME,p=j.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(f&&!p)&&d){let b=this.getCaipNetworks().find(_=>_.id.toString()===d.toString()),w=this.getCaipNetworks().find(_=>_.chainNamespace===o);if(!p&&!b&&!w){const _=this.getApprovedCaipNetworkIds()||[],C=_.find(A=>{var O;return((O=Xr.parseCaipNetworkId(A))==null?void 0:O.chainId)===d.toString()}),I=_.find(A=>{var O;return((O=Xr.parseCaipNetworkId(A))==null?void 0:O.chainNamespace)===o});b=this.getCaipNetworks().find(A=>A.caipNetworkId===C),w=this.getCaipNetworks().find(A=>A.caipNetworkId===I||"deprecatedCaipNetworkId"in A&&A.deprecatedCaipNetworkId===I)}const E=b||w;(E==null?void 0:E.chainNamespace)===j.state.activeChain?fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&((m=j.state.activeCaipNetwork)==null?void 0:m.name)===ue.UNSUPPORTED_NETWORK_NAME?j.showUnsupportedChainUI():this.setCaipNetwork(E):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Qh.isLowerCaseMatch(s,be.state.address)||this.syncAccountInfo(s,E==null?void 0:E.id,o),n?await this.syncBalance({address:s,chainId:E==null?void 0:E.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=Ee.getConnectorId(e),r=$t.getProviderId(e);if(r===Vt.CONNECTOR_TYPE_ANNOUNCED||r===Vt.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:l,imageUrl:d}=i,f=d||this.getConnectorImage(i);this.setConnectedWalletInfo({name:l,icon:f,...o},e)}}}else if(r===Vt.CONNECTOR_TYPE_WALLET_CONNECT){const i=$t.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===ue.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===ue.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!qh.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=j.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,l,d,f,p,g,m;const e=Ase.createLogger((b,...w)=>{b&&this.handleAlertError(b),console.error(...w)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(l=this.options)==null?void 0:l.metadata.description:"",url:(d=this.options)!=null&&d.metadata?(f=this.options)==null?void 0:f.metadata.url:"",icons:(p=this.options)!=null&&p.metadata?(g=this.options)==null?void 0:g.metadata.icons:[""]},logger:e};fe.setManualWCControl(!!((m=this.options)!=null&&m.manualWCControl)),this.universalProvider=this.options.universalProvider??await _se.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Ie.setUri(e)}),this.universalProvider.on("connect",Ie.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Ie.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(mh.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&De.isCaipAddress(r[0])&&this.syncAccount(Xr.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&De.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){It.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Xt.UniversalProviderErrors).find(([,{message:l}])=>e.message.includes(l)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const l=Xt.ALERT_ERRORS[o];l&&(hn.open(l,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Ie.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return St.open({...e,data:{swap:e.arguments}})}return St.open(e)}async close(){await this.injectModalUi(),St.close()}setLoading(e,n){St.setLoading(e,n)}async disconnect(e){await Ie.disconnect({namespace:e})}getSIWX(){return fe.state.siwx}getError(){return""}getChainId(){var e;return(e=j.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){hn.open(Xt.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await j.switchActiveNetwork(n)}getWalletProvider(){return j.state.activeChain?$t.state.providers[j.state.activeChain]:null}getWalletProviderType(){return $t.getProviderId(j.state.activeChain)}subscribeProviders(e){return $t.subscribeProviders(e)}getThemeMode(){return Or.state.themeMode}getThemeVariables(){return Or.state.themeVariables}setThemeMode(e){Or.setThemeMode(e),d8(Or.state.themeMode)}setTermsConditionsUrl(e){fe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){fe.setPrivacyPolicyUrl(e)}setThemeVariables(e){Or.setThemeVariables(e),doe(Or.state.themeVariables)}subscribeTheme(e){return Or.subscribe(e)}subscribeConnections(e){return Ie.subscribe(e)}getWalletInfo(e){return e?j.getAccountProp("connectedWalletInfo",e):be.state.connectedWalletInfo}getAccount(e){var o;const n=Ee.getAuthConnector(e),r=j.getAccountData(e),s=j.state.activeChain,i=ve.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:De.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===ue.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:ve.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?j.subscribeChainProp("accountState",r,n):j.subscribe(r),Ee.subscribe(r)}subscribeNetwork(e){return j.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?be.subscribeKey("connectedWalletInfo",e,n):be.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){be.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){j.subscribeKey("activeCaipNetwork",e)}getState(){return Pi.state}subscribeState(e){return Pi.subscribe(e)}showErrorMessage(e){Xs.showError(e)}showSuccessMessage(e){Xs.showSuccess(e)}getEvent(){return{...It.state}}subscribeEvents(e){return It.subscribe(e)}replace(e){ze.replace(e)}redirect(e){ze.push(e)}popTransactionStack(e){ze.popTransactionStack(e)}isOpen(){return St.state.open}isTransactionStackEmpty(){return ze.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){fe.setFeatures(e)}updateRemoteFeatures(e){fe.setRemoteFeatures(e)}updateOptions(e){const r={...fe.state||{},...e};fe.setOptions(r)}setConnectMethodsOrder(e){fe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){fe.setWalletFeaturesOrder(e)}setCollapseWallets(e){fe.setCollapseWallets(e)}setSocialsOrder(e){fe.setSocialsOrder(e)}getConnectMethodsOrder(){return X1.getConnectOrderMethod(fe.state.features,Ee.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||j.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&j.removeNetwork(e,n)}}let YR=!1;class voe extends boe{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{es.checkIfRequestExists(n)?es.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error($n.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage($n.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=es.checkIfRequestIsSafe(r),i=be.state.address,o=j.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=j.state.activeChain;Ee.getConnectorId(n)===ue.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var f,p;const r=j.state.activeChain,s=r===ue.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=fe.state.defaultAccountTypes[r],o=(f=be.state.preferredAccountTypes)==null?void 0:f[r],l=n.preferredAccountType||o||i;Qh.isLowerCaseMatch(n.address,be.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...be.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(l,r);const d=(p=n.accounts)==null?void 0:p.map(g=>De.createAccount(r,g.address,g.type||o||i));this.setAllAccounts(d||[De.createAccount(r,n.address,n.preferredAccountType||l)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...be.state.user||{},username:n},j.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,j.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,j.state.activeChain)})}async syncAuthConnector(e,n){var g,m,b,w;const r=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===j.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),l=e.getUsername();this.setUser({...((g=be.state)==null?void 0:g.user)||{},username:l,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:d}=await e.isConnected(),f=Or.getSnapshot(),p=fe.getSnapshot();await Promise.all([e.syncDappData({metadata:p.metadata,sdkVersion:p.sdkVersion,projectId:p.projectId,sdkType:p.sdkType}),e.syncTheme({themeMode:f.themeMode,themeVariables:f.themeVariables,w3mThemeVariables:Ea(f.themeVariables,f.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(d&&((m=this.connectionControllerClient)!=null&&m.connectExternal)?(await((w=this.connectionControllerClient)==null?void 0:w.connectExternal({id:ue.CONNECTOR_ID.AUTH,info:{name:ue.CONNECTOR_ID.AUTH},type:Vt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(b=j.state.activeCaipNetwork)==null?void 0:b.id,chain:n})),this.setStatus("connected",n)):Ee.getConnectorId(n)===ue.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ve.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!De.isTelegram())return;const r=ve.getTelegramSocialProvider();if(!r||!De.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;be.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=Ee.getAuthConnector();r&&o&&(this.setLoading(!0,e),await Ie.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),ve.setConnectedSocialProvider(r),ve.removeTelegramSocialProvider(),It.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var f,p,g,m;if(!ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(f=this.remoteFeatures)==null?void 0:f.email,s=Array.isArray((p=this.remoteFeatures)==null?void 0:p.socials)&&this.remoteFeatures.socials.length>0,i=r||s,l=Qh.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((g=this.options)!=null&&g.projectId)&&i&&(this.authProvider=Hc.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(m=this.getCaipNetwork(l))==null?void 0:m.caipNetworkId,abortController:Xt.EmbeddedWalletAbortController,onTimeout:b=>{b==="iframe_load_failed"?hn.open(Xt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):b==="iframe_request_timeout"?hn.open(Xt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):b==="unverified_domain"&&hn.open(Xt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Pi.subscribeOpen(b=>{var w;!b&&this.isTransactionStackEmpty()&&((w=this.authProvider)==null||w.rejectRpcRequests())}));const d=e===j.state.activeChain;this.authProvider&&d&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&ke.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,l;if(!e)return;const n=j.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const d=this.getAdapter(r),f=$t.getProvider(r),p=$t.getProviderId(r);await(d==null?void 0:d.switchNetwork({caipNetwork:e,provider:f,providerType:p})),this.setCaipNetwork(e)}else{const f=$t.getProviderId(n)===Vt.CONNECTOR_TYPE_AUTH,p=$t.getProviderId(r),g=p===Vt.CONNECTOR_TYPE_AUTH,m=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((f&&p===void 0||g)&&m)try{if(j.state.activeChain=e.chainNamespace,s){const b=this.getAdapter(r);await(b==null?void 0:b.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:p}))}else await((l=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:l.call(o,{id:ue.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Vt.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const w=this.getAdapter(r);await(w==null?void 0:w.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:p}))}else p===Vt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Pi.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(l=>l.caipNetworkId===s);if(r!==ue.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:l,avatar:d}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(l,r),this.setProfileImage(d,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=$t.getProviderId(e);if(n===Vt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=ve.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(De.isClient()&&!YR)try{const e={...Nt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),De.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!fe.state.disableAppend&&!fe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}YR=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!De.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(Wt(()=>import("./embedded-wallet-HYf8I4p_.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14]))),n.email&&r.push(Wt(()=>import("./email-Dr7JpRIw.js"),__vite__mapDeps([15,4,14,8,13,7,12,16,9]))),n.socials&&r.push(Wt(()=>import("./socials-Bdsb_EKh.js"),__vite__mapDeps([17,4,18,7,19,20,13,21,12,8,14,22,6,23]))),n.swaps&&n.swaps.length>0&&r.push(Wt(()=>import("./swaps-CyPYgU-o.js"),__vite__mapDeps([24,4,12,8,25,26,27,6,13,23,9,7]))),e.send&&r.push(Wt(()=>import("./send-DBv116Ji.js"),__vite__mapDeps([28,4,12,8,13,7,19,14,27,6,9,29,30]))),e.receive&&r.push(Wt(()=>import("./receive-Ki2lQIxZ.js"),__vite__mapDeps([31,4,32,6,22]))),n.onramp&&n.onramp.length>0&&r.push(Wt(()=>import("./onramp-COlL3WUP.js"),__vite__mapDeps([33,4,34,23,13,6,8,35,18,7,19,36,14,12,21,9]))),n.activity&&r.push(Wt(()=>import("./transactions-DjEi8bot.js"),__vite__mapDeps([37,4,38,34,23,13,14,6]))),e.pay&&r.push(Wt(()=>import("./index-gAEHevFG.js"),__vite__mapDeps([39,4,12,8,40,6,13,10,35,30,21]))),await Promise.all([...r,Wt(()=>import("./index-4hFl5vWy.js"),__vite__mapDeps([41,4,6,8,29,13,42,26,10,35,12,11,40,38,34,23,14,25,30,7,9,16,18,19,20,5,21,32,22,36])),Wt(()=>import("./w3m-modal-BEaAux35.js"),__vite__mapDeps([43,4,10,6,13,11,8,26,42]))])}}const Eoe="1.7.10";let vE;function _oe(t){return vE||(vE=new voe({...t,sdkVersion:De.generateSdkVersion(t.adapters??[],"react",Eoe)})),vE}function Coe(t){let e=[],n,r;function s(l){return qh.parseEvmChainId(l)||1}function i(){var l;return n||(n=Hc.getInstance({projectId:t.options.projectId,chainId:(l=j.getActiveCaipNetwork())==null?void 0:l.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:d=>{d==="iframe_load_failed"?hn.open(Xt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):d==="iframe_request_timeout"?hn.open(Xt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):d==="unverified_domain"&&hn.open(Xt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Xt.EmbeddedWalletAbortController})),n}async function o(l={}){var E,_;const d=i();let f=l.chainId;if(l.isReconnecting){const C=qh.parseEvmChainId(d.getLastUsedChainId()||""),I=(E=t.chains)==null?void 0:E[0].id;if(f=C||I,!f)throw new Error("ChainId not found in provider")}const p=(_=be.state.preferredAccountTypes)==null?void 0:_.eip155,{address:g,chainId:m,accounts:b}=await d.connect({chainId:f,preferredAccountType:p,socialUri:l.socialUri});e=(b==null?void 0:b.map(C=>C.address))||[g];const w=s(m);return{accounts:e,account:g,chainId:w,chain:{id:w,unsuported:!1}}}return l=>({id:ue.CONNECTOR_ID.AUTH,name:ue.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:ue.CHAIN.EVM,async connect(d={}){if(r)return r;r||(r=new Promise(p=>{p(o(d))}));const f=await r;return r=void 0,f},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(l.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var d;return this.provider||(this.provider=Hc.getInstance({projectId:t.options.projectId,chainId:(d=j.getActiveCaipNetwork())==null?void 0:d.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Xt.EmbeddedWalletAbortController,onTimeout:f=>{f==="iframe_load_failed"?hn.open(Xt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):f==="iframe_request_timeout"?hn.open(Xt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):f==="unverified_domain"&&hn.open(Xt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const d=await this.getProvider(),{chainId:f}=await d.getChainId();return s(f)},async isAuthorized(){const f=j.state.activeChain===ue.CHAIN.EVM;if(ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(m=>Ee.getConnectorId(m)===ue.CONNECTOR_ID.AUTH)&&!f)return!1;const g=await this.getProvider();return Promise.resolve(g.getLoginEmailUsed())},async switchChain({chainId:d}){var f,p;try{const g=l.chains.find(E=>E.id===d);if(!g)throw new ki(new Error("chain not found on connector."));const m=await this.getProvider(),b=(f=be.state.preferredAccountTypes)==null?void 0:f.eip155,w=await m.connect({chainId:d,preferredAccountType:b});return e=((p=w==null?void 0:w.accounts)==null?void 0:p.map(E=>E.address))||[w.address],l.emitter.emit("change",{chainId:Number(d),accounts:e}),g}catch(g){throw g instanceof Error?new ki(g):g}},onAccountsChanged(d){d.length===0?this.onDisconnect():l.emitter.emit("change",{accounts:d.map(xc)})},onChainChanged(d){const f=Number(d);l.emitter.emit("change",{chainId:f})},async onDisconnect(d){await(await this.getProvider()).disconnect()}})}mC.type="walletConnect";function mC(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,l,d,f;return p=>({id:"walletConnect",name:"WalletConnect",type:mC.type,async setup(){const g=await this.getProvider().catch(()=>null);g&&(o||(o=this.onConnect.bind(this),g.on("connect",o)),d||(d=this.onSessionDelete.bind(this),g.on("session_delete",d)))},async connect({...g}={}){var m,b,w;try{const E=j.getCaipNetworks(),_=await this.getProvider();if(!_)throw new yo;l||(l=this.onDisplayUri,_.on("display_uri",l));const C=await this.isChainsStale();_.session&&C&&await _.disconnect();const I=fe.state.universalProviderConfigOverride;if(!_.session||C){const S=mh.createNamespaces(E,I);await _.connect({optionalNamespaces:S,..."pairingTopic"in g?{pairingTopic:g.pairingTopic}:{}}),this.setRequestedChainsIds(E.map(B=>Number(B.id)))}const A=await this.getAccounts(),O=await this.getChainId(),x=(w=(b=(m=_.session)==null?void 0:m.namespaces)==null?void 0:b.eip155)==null?void 0:w.chains,T=x==null?void 0:x.some(S=>Number(S.split(":")[1])===O);let P=1;T?P=O:x!=null&&x[0]&&(P=Number(x[0].split(":")[1])),l&&(_.removeListener("display_uri",l),l=void 0),o&&(_.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),_.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),_.on("chainChanged",i)),f||(f=this.onDisconnect.bind(this),_.on("disconnect",f)),d||(d=this.onSessionDelete.bind(this),_.on("session_delete",d));const U=I==null?void 0:I.defaultChain;return _.setDefaultChain(U??`eip155:${P}`),{accounts:A,chainId:P}}catch(E){throw/(user rejected|connection request reset)/i.test(E==null?void 0:E.message)?new En(E):E}},async disconnect(){const g=await this.getProvider();try{await(g==null?void 0:g.disconnect())}catch(m){if(!/No matching key/i.test(m.message))throw m}finally{i&&(g==null||g.removeListener("chainChanged",i),i=void 0),f&&(g==null||g.removeListener("disconnect",f),f=void 0),o||(o=this.onConnect.bind(this),g==null||g.on("connect",o)),s&&(g==null||g.removeListener("accountsChanged",s),s=void 0),d&&(g==null||g.removeListener("session_delete",d),d=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var w,E,_;const g=await this.getProvider();if(!((w=g==null?void 0:g.session)!=null&&w.namespaces))return[];const m=(_=(E=g==null?void 0:g.session)==null?void 0:E.namespaces[ue.CHAIN.EVM])==null?void 0:_.accounts;return(m==null?void 0:m.map(C=>C.split(":")[2]))??[]},async getProvider({chainId:g}={}){var w,E;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const m=ve.getActiveNamespace(),b=(w=e.getCaipNetwork())==null?void 0:w.id;if(g&&b!==g&&m){const _=ve.getStoredActiveCaipNetworkId(),C=e.getCaipNetworks(m),I=C==null?void 0:C.find(A=>A.id===_);I&&I.chainNamespace===ue.CHAIN.EVM&&await((E=this.switchChain)==null?void 0:E.call(this,{chainId:Number(I.id)}))}return r},async getChainId(){var E,_,C,I;const g=(E=e.getCaipNetwork(ue.CHAIN.EVM))==null?void 0:E.id;if(g)return g;const b=(I=(C=(_=(await this.getProvider()).session)==null?void 0:_.namespaces[ue.CHAIN.EVM])==null?void 0:C.chains)==null?void 0:I[0],w=j.getCaipNetworks().find(A=>A.id===b);return w==null?void 0:w.id},async isAuthorized(){try{const[g,m]=await Promise.all([this.getAccounts(),this.getProvider()]);return g.length?await this.isChainsStale()&&m.session?(await m.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:g,chainId:m}){var E,_,C,I;const b=await this.getProvider();if(!b)throw new yo;const w=j.getCaipNetworks().find(A=>A.id===m);if(!w)throw new ki(new Fh);try{await b.request({method:"wallet_switchEthereumChain",params:[{chainId:st(m)}]}),w!=null&&w.caipNetworkId&&b.setDefaultChain(w==null?void 0:w.caipNetworkId),p.emitter.emit("change",{chainId:Number(m)});const A=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...A,m]),{...w,id:w.id}}catch(A){const O=A;if(/(?:user rejected)/iu.test(O.message))throw new En(O);try{let x;g!=null&&g.blockExplorerUrls?x=g.blockExplorerUrls:x=(E=w.blockExplorers)!=null&&E.default.url?[(_=w.blockExplorers)==null?void 0:_.default.url]:[];const T=((I=(C=w.rpcUrls)==null?void 0:C.chainDefault)==null?void 0:I.http)||[],P={blockExplorerUrls:x,chainId:st(m),chainName:w.name,iconUrls:g==null?void 0:g.iconUrls,nativeCurrency:w.nativeCurrency,rpcUrls:T};await b.request({method:"wallet_addEthereumChain",params:[P]});const U=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...U,m]),{...w,id:w.id}}catch(x){throw new En(x)}}},onAccountsChanged(g){g.length===0?this.onDisconnect():p.emitter.emit("change",{accounts:g.map(m=>xc(m))})},onChainChanged(g){const m=Number(g);p.emitter.emit("change",{chainId:m})},onConnect(g){this.setRequestedChainsIds(j.getCaipNetworks().map(m=>Number(m.id)))},async onDisconnect(g){this.setRequestedChainsIds([]),p.emitter.emit("disconnect");const m=await this.getProvider();s&&(m.removeListener("accountsChanged",s),s=void 0),i&&(m.removeListener("chainChanged",i),i=void 0),f&&(m.removeListener("disconnect",f),f=void 0),d&&(m.removeListener("session_delete",d),d=void 0),o||(o=this.onConnect.bind(this),m.on("connect",o))},onDisplayUri(g){p.emitter.emit("message",{type:"display_uri",data:g})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var b,w,E;if(!((b=r==null?void 0:r.session)!=null&&b.namespaces))return[];const g=(E=(w=r==null?void 0:r.session)==null?void 0:w.namespaces[ue.CHAIN.EVM])==null?void 0:E.accounts;return(g==null?void 0:g.map(_=>Number.parseInt(_.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var m;const g=await((m=p.storage)==null?void 0:m.getItem(this.requestedChainsStorageKey))??[];return[...new Set(g)]},async isChainsStale(){if(!n)return!1;const g=p.chains.map(w=>w.id),m=this.getNamespaceChainsIds();if(m.length&&!m.some(w=>g.includes(w)))return!1;const b=await this.getRequestedChainsIds();return!g.every(w=>b.includes(Number(w)))},async setRequestedChainsIds(g){var m;await((m=p.storage)==null?void 0:m.setItem(this.requestedChainsStorageKey,g))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Ff=zt({pendingTransactions:0}),ZR={state:Ff,subscribeKey(t,e){return Vn(Ff,t,e)},increase(t){Ff[t]+=1},decrease(t){Ff[t]-=1},reset(t){Ff[t]=0}};function Soe(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function Aoe(t){if(De.isSafeApp()){const{safe:e}=await Wt(async()=>{const{safe:n}=await import("./index-pMujFleV.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function Toe(t){try{const{coinbaseWallet:e}=await Wt(async()=>{const{coinbaseWallet:n}=await import("./index-pMujFleV.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const xoe={enable:!1,pollingInterval:3e4};class Noe extends f8{constructor(e){const n=Ii.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=ue.CHAIN.EVM,this.adapterType=ue.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...xoe,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===ue.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:l}=i.user;return Promise.resolve({accounts:(l||[{address:o,type:"eoa"}]).map(d=>De.createAccount("eip155",d.address,d.type))})}const{addresses:r,address:s}=eh(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>De.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=eh(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===ue.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var l,d;const i=(l=e.transports)==null?void 0:l[s.id],o=Ii.getCaipNetworkId(s);i?n[s.id]=Ii.extendWagmiTransports(s,e.projectId,i):n[s.id]=Ii.getViemTransport(s,e.projectId,(d=e.customRpcUrls)==null?void 0:d[o])}),this.wagmiConfig=sj({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=k9(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),ZR.increase("pendingTransactions")}});const e=ZR.subscribeKey("pendingTransactions",n=>{var r;n>=ue.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){U9(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await Toe(this.wagmiConfig.connectors);s&&n.push(s)}const r=await Aoe(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,l,d,f;const r=[];e.enableWalletConnect!==!1&&r.push(mC(e,n)),e.enableInjected!==!1&&r.push(n0({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((l=n==null?void 0:n.remoteFeatures)==null?void 0:l.socials)&&((f=(d=n==null?void 0:n.remoteFeatures)==null?void 0:d.socials)==null?void 0:f.length)>0;(s||i)&&r.push(Coe({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(p=>{const g=this.wagmiConfig._internal.connectors.setup(p);this.wagmiConfig._internal.connectors.setState(m=>[...m,g])})}async signMessage(e){try{return{signature:await P9(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=eh(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await R9(this.wagmiConfig,s);const i=await O9(this.wagmiConfig,s);return await M9(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(qh.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await B9(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await A9(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return a9(e.value,e.decimals)}formatUnits(e){return ld(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===ue.CONNECTOR_ID.AUTH||e.id===ue.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Do.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:Do.ConnectorNamesMap[e.id]??e.name,imageId:Do.ConnectorImageIds[e.id],type:Do.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===ue.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){$9(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var f,p;const{id:n,chainId:r}=e,i=gc(this.wagmiConfig).find(g=>g.connector.id===n),o=this.getWagmiConnector(n),l=await(o==null?void 0:o.getProvider());if(De.isSafeApp()&&n===ue.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const g=this.getWagmiConnector("safe");if(g){const m=await dv(this.wagmiConfig,{connector:g,chainId:Number(r)}),b=await g.getProvider();return{chainId:Number(r),address:m.accounts[0],provider:b,type:(f=i==null?void 0:i.connector.type)==null?void 0:f.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:l,type:(p=i==null?void 0:i.connector.type)==null?void 0:p.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await dv(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await mx(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var p,g,m,b,w;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:l}=e,d=this.getWagmiConnector(n);if(!d)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&d.id===ue.CONNECTOR_ID.EIP6963&&((p=d.setEip6963Wallet)==null||p.call(d,{provider:r,info:i})),d.uid===((m=(g=this.wagmiConfig)==null?void 0:g.state)==null?void 0:m.current)){const E=(w=(b=this.wagmiConfig.state)==null?void 0:b.connections)==null?void 0:w.get(d.uid);if(E)return{address:E==null?void 0:E.accounts[0],chainId:E==null?void 0:E.chainId,provider:r,type:s,id:n}}const f=await dv(this.wagmiConfig,{connector:d,chainId:o?Number(o):void 0,socialUri:l});return{address:f.accounts[0],chainId:f.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await QE(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=ve.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async l=>{var d,f;try{const p=Number(e.chainId),g=await I9(this.wagmiConfig,{address:e.address,chainId:p,token:(f=(d=e.tokens)==null?void 0:d[r.caipNetworkId])==null?void 0:f.address});ve.updateNativeBalanceCache({caipAddress:s,balance:g.formatted,symbol:g.symbol,timestamp:Date.now()}),l({balance:g.formatted,symbol:g.symbol})}catch(p){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",p),l({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=gc(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await S9(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,l;const{caipNetwork:n}=e;await mx(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((l=n.assets)==null?void 0:l.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var l,d;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=gc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(d=(l=i.session)==null?void 0:l.sessionProperties)==null?void 0:d.capabilities;if(o){const p=Soe(o)[e];if(p)return p}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=gc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=gc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=gc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=gc(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(j.state.activeChain==="eip155")return;QE(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new gC({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const h8="b94657916459690bfe78b4b228314deb",Ioe={name:"TestApp",description:"AppKit Example",url:"https://reown.com/appkit",icons:["https://assets.reown.com/reown-profile-pic.png"]},p8=[hoe,foe],g8=new Noe({networks:p8,projectId:h8,ssr:!0});_oe({adapters:[g8],networks:p8,projectId:h8,metadata:Ioe,features:{analytics:!0}});const Roe=()=>ik(v4({routeTree:Ij,context:{...qT()},scrollRestoration:!0,defaultPreloadStaleTime:0}),qT().queryClient,{WrapProvider:({children:e})=>he.jsx(cj,{config:g8.wagmiConfig,children:e})}),Ooe=Roe();Ue.startTransition(()=>{jU.hydrateRoot(document,he.jsx(Ue.StrictMode,{children:he.jsx(N4,{router:Ooe})}))});export{zt as $,be as A,De as B,Ee as C,j as D,nh as E,It as F,Xs as G,ze as H,Xce as I,es as J,Ie as K,Vt as L,St as M,Gae as N,fe as O,hn as P,Wae as Q,iP as R,zy as S,Or as T,ve as U,Xt as V,$n as W,Hj as X,_t as Y,uP as Z,is as _,IE as a,Yc as a$,Le as a0,C7 as a1,D_ as a2,fP as a3,Vn as a4,Hn as a5,ke as a6,r1 as a7,Gf as a8,Zs as a9,n0 as aA,ry as aB,N_ as aC,qo as aD,zoe as aE,Jy as aF,I_ as aG,Foe as aH,joe as aI,JO as aJ,Ky as aK,ey as aL,Ek as aM,Ak as aN,Qoe as aO,fL as aP,pe as aQ,b_ as aR,xs as aS,pL as aT,VL as aU,H3 as aV,Qu as aW,Jf as aX,zo as aY,Woe as aZ,Uk as a_,Xr as aa,Kj as ab,$t as ac,Hm as ad,Hh as ae,Qh as af,Jce as ag,X1 as ah,N7 as ai,fh as aj,gp as ak,Yce as al,Dn as am,Zce as an,i8 as ao,J1 as ap,ad as aq,Wt as ar,ece as as,xc as at,ki as au,Fh as av,st as aw,En as ax,yo as ay,Y3 as az,R4 as b,Goe as b0,Koe as b1,ty as b2,Yoe as b3,QM as b4,qO as b5,Voe as b6,d_ as b7,vh as b8,ny as b9,XM as ba,Y9 as bb,OU as bc,U7 as bd,Ai as be,W9 as bf,wp as bg,Zu as bh,Xk as bi,$i as bj,Kc as bk,Zoe as bl,Cn as bm,qoe as bn,Vy as bo,Br as bp,e0 as bq,V4 as c,U4 as d,ur as e,_O as f,Ue as g,$oe as h,qy as i,he as j,rs as k,Pm as l,bj as m,Qr as n,$u as o,L4 as p,Gm as q,P4 as r,Uoe as s,O4 as t,koe as u,Ea as v,Nt as w,Kce as x,Qce as y,ue as z};
